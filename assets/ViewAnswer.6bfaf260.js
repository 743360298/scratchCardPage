import{V as e,W as s,o as t,a as n,f as o,M as a,N as r,U as i,e as c,L as l,D as w,O as u}from"./vendor.24e2e329.js";import{_ as m}from"./AnswerOption.d7cbb6d1.js";const h={name:"ViewAnswerItem",components:{AnswerOption:m},props:{value:Boolean,answerItem:{type:Array,default:()=>[]}},watch:{value:{deep:!0,header(e){this.showDialog=e}}},data:()=>({showDialog:!1}),methods:{goItemAnswer(e){this.$emit("gointo",e)},confirm(){this.$emit("click",this.showDialog)},cancel(){this.$emit("click",this.showDialog)}}},d=i();e("data-v-438c39fa");const g={class:"subject"};s();const p=d(((e,s,i,w,u,m)=>{const h=c("AnswerOption"),p=c("VanSwipeItem"),f=c("VanSwipe"),I=c("VanDialog");return t(),n(I,{show:u.showDialog,"onUpdate:show":s[1]||(s[1]=e=>u.showDialog=e),title:"",key:Date.now(),onConfirm:m.confirm,onCancel:m.cancel,confirmButtonText:"取消","close-on-click-overlay":!0},{default:d((()=>[o(f,{"indicator-color":"white",touchable:!1,"show-indicators":!1,loop:!1,ref:"swipeIndex"},{default:d((()=>[(t(!0),n(a,null,r(i.answerItem,((e,s)=>(t(),n(p,{key:s},{default:d((()=>[o("div",g,l(s+1)+"、"+l(e.name)+l(""+("check"===e.type?"（多选）":"")),1),o(h,{disabled:!0,value:e.answer,options:e.options,type:e.type},null,8,["value","options","type"])])),_:2},1024)))),128))])),_:1},512)])),_:1},8,["show","onConfirm","onCancel"])}));h.render=p,h.__scopeId="data-v-438c39fa";const f={name:"ViewAnswer",components:{ViewAnswerItem:h},data:()=>({showDialog:!1,questions:[],userInfo:{},answerItem:[]}),created(){this.questions=JSON.parse(sessionStorage.getItem("questions")),this.userInfo=JSON.parse(sessionStorage.getItem("user-info"))},computed:{getScore(){return this.questions.filter((e=>e.answer===e.correctAnswer||e.answer===e.correctAnswer||e.answer===e.correctAnswer2)).length/this.questions.length*100},getResult(){const e=this.getScore;switch(!0){case e>=90:return`${this.userInfo.name}牛逼`;case e>=70:return"良好";case e>=60:return"及格";case e>=50:return"辣鸡";case e>=40:return"菜狗";case e<40:return"转行吧~~~~";default:return`成绩生成失败${this.getScore}`}}},methods:{async getAnswerItem(e){this.answerItem=[e],this.showDialog=!0},gointo(e){},onClickBack(){w.confirm({title:"提示",message:"返回后将重新答题，是否继续？"}).then((()=>{sessionStorage.removeItem("questions"),sessionStorage.removeItem("user-info"),this.$router.push({path:"/"})})).catch((()=>{}))}}},I=i();e("data-v-0dda2924");const k={class:"answer"},v={style:{"font-size":"16px","text-align":"center","margin-top":"20px"}},A={style:{"font-size":"16px","text-align":"center"}};s();const y=I(((e,s,i,w,m,h)=>{const d=c("XHeader"),g=c("van-icon"),p=c("VanGridItem"),f=c("VanGrid"),y=c("ViewAnswerItem"),D=c("XFooter"),S=c("ScrollView"),_=c("Page");return t(),n(_,{"show-back":!1},{default:I((()=>[o("div",k,[o(S,null,{default:I((()=>[o(d,{title:"查看答题情况","is-check-back":"",onCallBack:h.onClickBack},null,8,["onCallBack"]),o(f,{"column-num":3},{default:I((()=>[(t(!0),n(a,null,r(m.questions,((e,s)=>(t(),n(a,null,[e.answer?(t(),n(p,{key:s,onClick:s=>h.getAnswerItem(e),text:`${s+1}：你的${e.answer}；  ${e.correctAnswer}`},{icon:I((()=>[o(g,{name:e.answer===e.correctAnswer||e.answer===e.correctAnswer2?"success":"cross"},null,8,["name"])])),_:2},1032,["onClick","text"])):u("",!0)],64)))),256))])),_:1}),o("div",v,"恭喜"+l(m.userInfo.name)+l("1"===m.userInfo.sex?"小姐姐":"小哥哥")+"喜提"+l(h.getScore)+"分 ",1),o("div",A,"评价："+l(h.getResult),1),o(y,{show:m.showDialog,"onUpdate:show":s[1]||(s[1]=e=>m.showDialog=e),"answer-item":m.answerItem,onGointo:h.gointo},null,8,["show","answer-item","onGointo"]),o(D)])),_:1})])])),_:1})}));f.render=y,f.__scopeId="data-v-0dda2924";export default f;
