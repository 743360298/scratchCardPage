var e=Object.defineProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(t,n,i)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i;import{_ as o,o as a,a as s,$ as l}from"./vendor.24e2e329.js";var u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},c={},h={},d=2311;var f=function(){return d++};var p="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:function(e){var t={},n={},i=e.match(/Firefox\/([\d.]+)/),r=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),o=e.match(/Edge\/([\d.]+)/),a=/micromessenger/i.test(e);i&&(n.firefox=!0,n.version=i[1]);r&&(n.ie=!0,n.version=r[1]);o&&(n.edge=!0,n.version=o[1]);a&&(n.weChat=!0);return{browser:n,os:t,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!n.ie&&!n.edge,pointerEventsSupported:"onpointerdown"in window&&(n.edge||n.ie&&n.version>=11),domSupported:"undefined"!=typeof document}}(navigator.userAgent),g={},m={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},v={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},y=Object.prototype.toString,_=Array.prototype,x=_.forEach,b=_.filter,w=_.slice,S=_.map,M=_.reduce,I={};function A(e){if(null==e||"object"!=typeof e)return e;var t=e,n=y.call(e);if("[object Array]"===n){if(!z(e)){t=[];for(var i=0,r=e.length;i<r;i++)t[i]=A(e[i])}}else if(v[n]){if(!z(e)){var o=e.constructor;if(e.constructor.from)t=o.from(e);else{t=new o(e.length);for(i=0,r=e.length;i<r;i++)t[i]=A(e[i])}}}else if(!m[n]&&!z(e)&&!E(e))for(var a in t={},e)e.hasOwnProperty(a)&&(t[a]=A(e[a]));return t}function T(e,t,n){if(!N(t)||!N(e))return n?A(t):e;for(var i in t)if(t.hasOwnProperty(i)){var r=e[i],o=t[i];!N(o)||!N(r)||O(o)||O(r)||E(o)||E(r)||R(o)||R(r)||z(o)||z(r)?!n&&i in e||(e[i]=A(t[i])):T(r,o,n)}return e}function C(e,t,n){for(var i in t)t.hasOwnProperty(i)&&(n?null!=t[i]:null==e[i])&&(e[i]=t[i]);return e}var D,P=function(){return I.createCanvas()};function L(e,t,n){if(e&&t)if(e.forEach&&e.forEach===x)e.forEach(t,n);else if(e.length===+e.length)for(var i=0,r=e.length;i<r;i++)t.call(n,e[i],i,e);else for(var o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o,e)}function k(e,t){var n=w.call(arguments,2);return function(){return e.apply(t,n.concat(w.call(arguments)))}}function O(e){return"[object Array]"===y.call(e)}function N(e){var t=typeof e;return"function"===t||!!e&&"object"===t}function R(e){return!!m[y.call(e)]}function E(e){return"object"==typeof e&&"number"==typeof e.nodeType&&"object"==typeof e.ownerDocument}I.createCanvas=function(){return document.createElement("canvas")};function z(e){return e.__ec_primitive__}function B(e){var t=O(e);this.data={};var n=this;function i(e,i){t?n.set(e,i):n.set(i,e)}e instanceof B?e.each(i):e&&L(e,i)}B.prototype={constructor:B,get:function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},set:function(e,t){return this.data[e]=t},each:function(e,t){for(var n in void 0!==t&&(e=k(e,t)),this.data)this.data.hasOwnProperty(n)&&e(this.data[n],n)},removeKey:function(e){delete this.data[e]}},g.$override=function(e,t){"createCanvas"===e&&(D=null),I[e]=t},g.clone=A,g.merge=T,g.mergeAll=function(e,t){for(var n=e[0],i=1,r=e.length;i<r;i++)n=T(n,e[i],t);return n},g.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},g.defaults=C,g.createCanvas=P,g.getContext=function(){return D||(D=P().getContext("2d")),D},g.indexOf=function(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n}return-1},g.inherits=function(e,t){var n=e.prototype;function i(){}for(var r in i.prototype=t.prototype,e.prototype=new i,n)n.hasOwnProperty(r)&&(e.prototype[r]=n[r]);e.prototype.constructor=e,e.superClass=t},g.mixin=function(e,t,n){C(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,n)},g.isArrayLike=function(e){if(e)return"string"!=typeof e&&"number"==typeof e.length},g.each=L,g.map=function(e,t,n){if(e&&t){if(e.map&&e.map===S)return e.map(t,n);for(var i=[],r=0,o=e.length;r<o;r++)i.push(t.call(n,e[r],r,e));return i}},g.reduce=function(e,t,n,i){if(e&&t){if(e.reduce&&e.reduce===M)return e.reduce(t,n,i);for(var r=0,o=e.length;r<o;r++)n=t.call(i,n,e[r],r,e);return n}},g.filter=function(e,t,n){if(e&&t){if(e.filter&&e.filter===b)return e.filter(t,n);for(var i=[],r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)&&i.push(e[r]);return i}},g.find=function(e,t,n){if(e&&t)for(var i=0,r=e.length;i<r;i++)if(t.call(n,e[i],i,e))return e[i]},g.bind=k,g.curry=function(e){var t=w.call(arguments,1);return function(){return e.apply(this,t.concat(w.call(arguments)))}},g.isArray=O,g.isFunction=function(e){return"function"==typeof e},g.isString=function(e){return"[object String]"===y.call(e)},g.isObject=N,g.isBuiltInObject=R,g.isTypedArray=function(e){return!!v[y.call(e)]},g.isDom=E,g.eqNaN=function(e){return e!=e},g.retrieve=function(e){for(var t=0,n=arguments.length;t<n;t++)if(null!=arguments[t])return arguments[t]},g.retrieve2=function(e,t){return null!=e?e:t},g.retrieve3=function(e,t,n){return null!=e?e:null!=t?t:n},g.slice=function(){return Function.call.apply(w,arguments)},g.normalizeCssArray=function(e){if("number"==typeof e)return[e,e,e,e];var t=e.length;return 2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e},g.assert=function(e,t){if(!e)throw new Error(t)},g.trim=function(e){return null==e?null:"function"==typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},g.setAsPrimitive=function(e){e.__ec_primitive__=!0},g.isPrimitive=z,g.createHashMap=function(e){return new B(e)},g.concatArray=function(e,t){for(var n=new e.constructor(e.length+t.length),i=0;i<e.length;i++)n[i]=e[i];var r=e.length;for(i=0;i<t.length;i++)n[i+r]=t[i];return n},g.noop=function(){};var V={},G="undefined"==typeof Float32Array?Array:Float32Array;function F(e){return Math.sqrt(W(e))}var H=F;function W(e){return e[0]*e[0]+e[1]*e[1]}var U=W;function j(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var Z=j;function Y(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var X=Y;function q(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}function K(e,t){return{target:e,topTarget:t&&t.topTarget}}V.create=function(e,t){var n=new G(2);return null==e&&(e=0),null==t&&(t=0),n[0]=e,n[1]=t,n},V.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e},V.clone=function(e){var t=new G(2);return t[0]=e[0],t[1]=e[1],t},V.set=function(e,t,n){return e[0]=t,e[1]=n,e},V.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},V.scaleAndAdd=function(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e},V.sub=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e},V.len=F,V.length=H,V.lenSquare=W,V.lengthSquare=U,V.mul=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},V.div=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},V.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},V.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},V.normalize=function(e,t){var n=F(t);return 0===n?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e},V.distance=j,V.dist=Z,V.distanceSquare=Y,V.distSquare=X,V.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},V.lerp=function(e,t,n,i){return e[0]=t[0]+i*(n[0]-t[0]),e[1]=t[1]+i*(n[1]-t[1]),e},V.applyTransform=function(e,t,n){var i=t[0],r=t[1];return e[0]=n[0]*i+n[2]*r+n[4],e[1]=n[1]*i+n[3]*r+n[5],e},V.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e},V.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e},q.prototype={constructor:q,_dragStart:function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(K(t,e),"dragstart",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,i=e.offsetY,r=n-this._x,o=i-this._y;this._x=n,this._y=i,t.drift(r,o,e),this.dispatchToElement(K(t,e),"drag",e.event);var a=this.findHover(n,i,t).target,s=this._dropTarget;this._dropTarget=a,t!==a&&(s&&a!==s&&this.dispatchToElement(K(s,e),"dragleave",e.event),a&&a!==s&&this.dispatchToElement(K(a,e),"dragenter",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(K(t,e),"dragend",e.event),this._dropTarget&&this.dispatchToElement(K(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null}};var J=q,Q=Array.prototype.slice,$=function(e){this._$handlers={},this._$eventProcessor=e};function ee(e,t,n,i,r,o){var a=e._$handlers;if("function"==typeof n&&(r=i,i=n,n=null),!i||!t)return e;n=function(e,t){var n=e._$eventProcessor;return null!=t&&n&&n.normalizeQuery&&(t=n.normalizeQuery(t)),t}(e,n),a[t]||(a[t]=[]);for(var s=0;s<a[t].length;s++)if(a[t][s].h===i)return e;var l={h:i,one:o,query:n,ctx:r||e,callAtLast:i.zrEventfulCallAtLast},u=a[t].length-1,c=a[t][u];return c&&c.callAtLast?a[t].splice(u,0,l):a[t].push(l),e}$.prototype={constructor:$,one:function(e,t,n,i){return ee(this,e,t,n,i,!0)},on:function(e,t,n,i){return ee(this,e,t,n,i,!1)},isSilent:function(e){var t=this._$handlers;return!t[e]||!t[e].length},off:function(e,t){var n=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var i=[],r=0,o=n[e].length;r<o;r++)n[e][r].h!==t&&i.push(n[e][r]);n[e]=i}n[e]&&0===n[e].length&&delete n[e]}else delete n[e];return this},trigger:function(e){var t=this._$handlers[e],n=this._$eventProcessor;if(t){var i=arguments,r=i.length;r>3&&(i=Q.call(i,1));for(var o=t.length,a=0;a<o;){var s=t[a];if(n&&n.filter&&null!=s.query&&!n.filter(e,s.query))a++;else{switch(r){case 1:s.h.call(s.ctx);break;case 2:s.h.call(s.ctx,i[1]);break;case 3:s.h.call(s.ctx,i[1],i[2]);break;default:s.h.apply(s.ctx,i)}s.one?(t.splice(a,1),o--):a++}}}return n&&n.afterTrigger&&n.afterTrigger(e),this},triggerWithContext:function(e){var t=this._$handlers[e],n=this._$eventProcessor;if(t){var i=arguments,r=i.length;r>4&&(i=Q.call(i,1,i.length-1));for(var o=i[i.length-1],a=t.length,s=0;s<a;){var l=t[s];if(n&&n.filter&&null!=l.query&&!n.filter(e,l.query))s++;else{switch(r){case 1:l.h.call(o);break;case 2:l.h.call(o,i[1]);break;case 3:l.h.call(o,i[1],i[2]);break;default:l.h.apply(o,i)}l.one?(t.splice(s,1),a--):s++}}}return n&&n.afterTrigger&&n.afterTrigger(e),this}};var te=$,ne={},ie={},re={},oe=Math.log(2);function ae(e,t,n,i,r,o){var a=i+"-"+r,s=e.length;if(o.hasOwnProperty(a))return o[a];if(1===t){var l=Math.round(Math.log((1<<s)-1&~r)/oe);return e[n][l]}for(var u=i|1<<n,c=n+1;i&1<<c;)c++;for(var h=0,d=0,f=0;d<s;d++){var p=1<<d;p&r||(h+=(f%2?-1:1)*e[n][d]*ae(e,t-1,c,u,r|p,o),f++)}return o[a]=h,h}re.buildTransformer=function(e,t){var n=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],i={},r=ae(n,8,0,0,0,i);if(0!==r){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)null==o[s]&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*ae(n,7,0===a?1:0,1<<a,1<<s,i)/r*t[a];return function(e,t,n){var i=t*o[6]+n*o[7]+1;e[0]=(t*o[0]+n*o[1]+o[2])/i,e[1]=(t*o[3]+n*o[4]+o[5])/i}}};var se=p,le=re.buildTransformer,ue=[];function ce(e,t,n,i,r){if(t.getBoundingClientRect&&se.domSupported&&!he(t)){var o=t.___zrEVENTSAVED||(t.___zrEVENTSAVED={}),a=function(e,t,n){for(var i=n?"invTrans":"trans",r=t[i],o=t.srcCoords,a=!0,s=[],l=[],u=0;u<4;u++){var c=e[u].getBoundingClientRect(),h=2*u,d=c.left,f=c.top;s.push(d,f),a=a&&o&&d===o[h]&&f===o[h+1],l.push(e[u].offsetLeft,e[u].offsetTop)}return a&&r?r:(t.srcCoords=s,t[i]=n?le(l,s):le(s,l))}(function(e,t){var n=t.markers;if(n)return n;n=t.markers=[];for(var i=["left","right"],r=["top","bottom"],o=0;o<4;o++){var a=document.createElement("div"),s=o%2,l=(o>>1)%2;a.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[s]+":0",r[l]+":0",i[1-s]+":auto",r[1-l]+":auto",""].join("!important;"),e.appendChild(a),n.push(a)}return n}(t,o),o,r);if(a)return a(e,n,i),!0}return!1}function he(e){return"CANVAS"===e.nodeName.toUpperCase()}ie.transformLocalCoord=function(e,t,n,i,r){return ce(ue,t,i,r,!0)&&ce(e,n,ue[0],ue[1])},ie.transformCoordWithViewport=ce,ie.isCanvasEl=he;var de=te;ne.Dispatcher=de;var fe=p,pe=ie,ge=pe.isCanvasEl,me=pe.transformCoordWithViewport,ve="undefined"!=typeof window&&!!window.addEventListener,ye=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_e=[];function xe(e,t,n,i){return n=n||{},i||!fe.canvasSupported?be(e,t,n):fe.browser.firefox&&null!=t.layerX&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):null!=t.offsetX?(n.zrX=t.offsetX,n.zrY=t.offsetY):be(e,t,n),n}function be(e,t,n){if(fe.domSupported&&e.getBoundingClientRect){var i=t.clientX,r=t.clientY;if(ge(e)){var o=e.getBoundingClientRect();return n.zrX=i-o.left,void(n.zrY=r-o.top)}if(me(_e,e,i,r))return n.zrX=_e[0],void(n.zrY=_e[1])}n.zrX=n.zrY=0}function we(e){return e||window.event}var Se=ve?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};ne.clientToLocal=xe,ne.getNativeEvent=we,ne.normalizeEvent=function(e,t,n){if(null!=(t=we(t)).zrX)return t;var i=t.type;if(i&&i.indexOf("touch")>=0){var r="touchend"!==i?t.targetTouches[0]:t.changedTouches[0];r&&xe(e,r,t,n)}else xe(e,t,t,n),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;var o=t.button;return null==t.which&&void 0!==o&&ye.test(t.type)&&(t.which=1&o?1:2&o?3:4&o?2:0),t},ne.addEventListener=function(e,t,n,i){ve?e.addEventListener(t,n,i):e.attachEvent("on"+t,n)},ne.removeEventListener=function(e,t,n,i){ve?e.removeEventListener(t,n,i):e.detachEvent("on"+t,n)},ne.stop=Se,ne.isMiddleOrRightButtonOnMouseUpDown=function(e){return 2===e.which||3===e.which},ne.notLeftMouse=function(e){return e.which>1};var Me=ne,Ie=function(){this._track=[]};function Ae(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}Ie.prototype={constructor:Ie,recognize:function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},clear:function(){return this._track.length=0,this},_doTrack:function(e,t,n){var i=e.touches;if(i){for(var r={points:[],touches:[],target:t,event:e},o=0,a=i.length;o<a;o++){var s=i[o],l=Me.clientToLocal(n,s,{});r.points.push([l.zrX,l.zrY]),r.touches.push(s)}this._track.push(r)}},_recognize:function(e){for(var t in Te)if(Te.hasOwnProperty(t)){var n=Te[t](this._track,e);if(n)return n}}};var Te={pinch:function(e,t){var n=e.length;if(n){var i,r=(e[n-1]||{}).points,o=(e[n-2]||{}).points||r;if(o&&o.length>1&&r&&r.length>1){var a=Ae(r)/Ae(o);!isFinite(a)&&(a=1),t.pinchScale=a;var s=[((i=r)[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2];return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:e[0].target,event:t}}}}},Ce=g,De=V,Pe=J,Le=te,ke=ne,Oe=Ie;function Ne(){ke.stop(this.event)}function Re(){}Re.prototype.dispose=function(){};var Ee=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],ze=function(e,t,n,i){Le.call(this),this.storage=e,this.painter=t,this.painterRoot=i,n=n||new Re,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,Pe.call(this),this.setHandlerProxy(n)};function Be(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var i,r=e;r;){if(r.clipPath&&!r.clipPath.contain(t,n))return!1;r.silent&&(i=!0),r=r.parent}return!i||"silent"}return!1}function Ve(e,t,n){var i=e.painter;return t<0||t>i.getWidth()||n<0||n>i.getHeight()}ze.prototype={constructor:ze,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(Ce.each(Ee,(function(t){e.on&&e.on(t,this[t],this)}),this),e.handler=this),this.proxy=e},mousemove:function(e){var t=e.zrX,n=e.zrY,i=Ve(this,t,n),r=this._hovered,o=r.target;o&&!o.__zr&&(o=(r=this.findHover(r.x,r.y)).target);var a=this._hovered=i?{x:t,y:n}:this.findHover(t,n),s=a.target,l=this.proxy;l.setCursor&&l.setCursor(s?s.cursor:"default"),o&&s!==o&&this.dispatchToElement(r,"mouseout",e),this.dispatchToElement(a,"mousemove",e),s&&s!==o&&this.dispatchToElement(a,"mouseover",e)},mouseout:function(e){var t=e.zrEventControl,n=e.zrIsToLocalDOM;"only_globalout"!==t&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==t&&!n&&this.trigger("globalout",{type:"globalout",event:e})},resize:function(e){this._hovered={}},dispatch:function(e,t){var n=this[e];n&&n.call(this,t)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,t,n){var i=(e=e||{}).target;if(!i||!i.silent){for(var r="on"+t,o=function(e,t,n){return{type:e,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:Ne}}(t,e,n);i&&(i[r]&&(o.cancelBubble=i[r].call(i,o)),i.trigger(t,o),i=i.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(t,o),this.painter&&this.painter.eachOtherLayer((function(e){"function"==typeof e[r]&&e[r].call(e,o),e.trigger&&e.trigger(t,o)})))}},findHover:function(e,t,n){for(var i=this.storage.getDisplayList(),r={x:e,y:t},o=i.length-1;o>=0;o--){var a;if(i[o]!==n&&!i[o].ignore&&(a=Be(i[o],e,t))&&(!r.topTarget&&(r.topTarget=i[o]),"silent"!==a)){r.target=i[o];break}}return r},processGesture:function(e,t){this._gestureMgr||(this._gestureMgr=new Oe);var n=this._gestureMgr;"start"===t&&n.clear();var i=n.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===t&&n.clear(),i){var r=i.type;e.gestureEvent=r,this.dispatchToElement({target:i.target},r,i.event)}}},Ce.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(e){ze.prototype[e]=function(t){var n,i,r=t.zrX,o=t.zrY,a=Ve(this,r,o);if("mouseup"===e&&a||(i=(n=this.findHover(r,o)).target),"mousedown"===e)this._downEl=i,this._downPoint=[t.zrX,t.zrY],this._upEl=i;else if("mouseup"===e)this._upEl=i;else if("click"===e){if(this._downEl!==this._upEl||!this._downPoint||De.dist(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,e,t)}})),Ce.mixin(ze,Le),Ce.mixin(ze,Pe);var Ge=ze,Fe={},He="undefined"==typeof Float32Array?Array:Float32Array;function We(){var e=new He(6);return Ue(e),e}function Ue(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function je(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}Fe.create=We,Fe.identity=Ue,Fe.copy=je,Fe.mul=function(e,t,n){var i=t[0]*n[0]+t[2]*n[1],r=t[1]*n[0]+t[3]*n[1],o=t[0]*n[2]+t[2]*n[3],a=t[1]*n[2]+t[3]*n[3],s=t[0]*n[4]+t[2]*n[5]+t[4],l=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=i,e[1]=r,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e},Fe.translate=function(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e},Fe.rotate=function(e,t,n){var i=t[0],r=t[2],o=t[4],a=t[1],s=t[3],l=t[5],u=Math.sin(n),c=Math.cos(n);return e[0]=i*c+a*u,e[1]=-i*u+a*c,e[2]=r*c+s*u,e[3]=-r*u+c*s,e[4]=c*o+u*l,e[5]=c*l-u*o,e},Fe.scale=function(e,t,n){var i=n[0],r=n[1];return e[0]=t[0]*i,e[1]=t[1]*r,e[2]=t[2]*i,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*r,e},Fe.invert=function(e,t){var n=t[0],i=t[2],r=t[4],o=t[1],a=t[3],s=t[5],l=n*a-o*i;return l?(l=1/l,e[0]=a*l,e[1]=-o*l,e[2]=-i*l,e[3]=n*l,e[4]=(i*s-a*r)*l,e[5]=(o*r-n*s)*l,e):null},Fe.clone=function(e){var t=We();return je(t,e),t};var Ze=Fe,Ye=V,Xe=Ze.identity;function qe(e){return e>5e-5||e<-5e-5}var Ke=function(e){(e=e||{}).position||(this.position=[0,0]),null==e.rotation&&(this.rotation=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},Je=Ke.prototype;Je.transform=null,Je.needLocalTransform=function(){return qe(this.rotation)||qe(this.position[0])||qe(this.position[1])||qe(this.scale[0]-1)||qe(this.scale[1]-1)};var Qe=[];Je.updateTransform=function(){var e=this.parent,t=e&&e.transform,n=this.needLocalTransform(),i=this.transform;if(n||t){i=i||Ze.create(),n?this.getLocalTransform(i):Xe(i),t&&(n?Ze.mul(i,e.transform,i):Ze.copy(i,e.transform)),this.transform=i;var r=this.globalScaleRatio;if(null!=r&&1!==r){this.getGlobalScale(Qe);var o=Qe[0]<0?-1:1,a=Qe[1]<0?-1:1,s=((Qe[0]-o)*r+o)/Qe[0]||0,l=((Qe[1]-a)*r+a)/Qe[1]||0;i[0]*=s,i[1]*=s,i[2]*=l,i[3]*=l}this.invTransform=this.invTransform||Ze.create(),Ze.invert(this.invTransform,i)}else i&&Xe(i)},Je.getLocalTransform=function(e){return Ke.getLocalTransform(this,e)},Je.setTransform=function(e){var t=this.transform,n=e.dpr||1;t?e.setTransform(n*t[0],n*t[1],n*t[2],n*t[3],n*t[4],n*t[5]):e.setTransform(n,0,0,n,0,0)},Je.restoreTransform=function(e){var t=e.dpr||1;e.setTransform(t,0,0,t,0,0)};var $e=[],et=Ze.create();Je.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],i=this.position,r=this.scale;qe(t-1)&&(t=Math.sqrt(t)),qe(n-1)&&(n=Math.sqrt(n)),e[0]<0&&(t=-t),e[3]<0&&(n=-n),i[0]=e[4],i[1]=e[5],r[0]=t,r[1]=n,this.rotation=Math.atan2(-e[1]/n,e[0]/t)}},Je.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(Ze.mul($e,e.invTransform,t),t=$e);var n=this.origin;n&&(n[0]||n[1])&&(et[4]=n[0],et[5]=n[1],Ze.mul($e,t,et),$e[4]-=n[0],$e[5]-=n[1],t=$e),this.setLocalTransform(t)}},Je.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},Je.transformCoordToLocal=function(e,t){var n=[e,t],i=this.invTransform;return i&&Ye.applyTransform(n,n,i),n},Je.transformCoordToGlobal=function(e,t){var n=[e,t],i=this.transform;return i&&Ye.applyTransform(n,n,i),n},Ke.getLocalTransform=function(e,t){Xe(t=t||[]);var n=e.origin,i=e.scale||[1,1],r=e.rotation||0,o=e.position||[0,0];return n&&(t[4]-=n[0],t[5]-=n[1]),Ze.scale(t,t,i),r&&Ze.rotate(t,t,r),n&&(t[4]+=n[0],t[5]+=n[1]),t[4]+=o[0],t[5]+=o[1],t};var tt=Ke,nt={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))},elasticOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(e){var t,n=.1,i=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=i*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/i)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/i)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-nt.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*nt.bounceIn(2*e):.5*nt.bounceOut(2*e-1)+.5}},it=nt;function rt(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=null!=e.loop&&e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this._pausedTime=0,this._paused=!1}rt.prototype={constructor:rt,step:function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),this._paused)this._pausedTime+=t;else{var n=(e-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var i=this.easing,r="string"==typeof i?it[i]:i,o="function"==typeof r?r(n):n;return this.fire("frame",o),1===n?this.loop?(this.restart(e),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(e){var t=(e-this._startTime-this._pausedTime)%this._life;this._startTime=e-t+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(e,t){this[e="on"+e]&&this[e](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var ot=rt,at={},st=function(){this.head=null,this.tail=null,this._len=0},lt=st.prototype;lt.insert=function(e){var t=new ut(e);return this.insertEntry(t),t},lt.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},lt.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},lt.len=function(){return this._len},lt.clear=function(){this.head=this.tail=null,this._len=0};var ut=function(e){this.value=e,this.next,this.prev},ct=function(e){this._list=new st,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null},ht=ct.prototype;ht.put=function(e,t){var n=this._list,i=this._map,r=null;if(null==i[e]){var o=n.len(),a=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var s=n.head;n.remove(s),delete i[s.key],r=s.value,this._lastRemovedEntry=s}a?a.value=t:a=new ut(t),a.key=e,n.insertEntry(a),i[e]=a}return r},ht.get=function(e){var t=this._map[e],n=this._list;if(null!=t)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},ht.clear=function(){this._list.clear(),this._map={}};var dt=ct,ft={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function pt(e){return(e=Math.round(e))<0?0:e>255?255:e}function gt(e){return e<0?0:e>1?1:e}function mt(e){return e.length&&"%"===e.charAt(e.length-1)?pt(parseFloat(e)/100*255):pt(parseInt(e,10))}function vt(e){return e.length&&"%"===e.charAt(e.length-1)?gt(parseFloat(e)/100):gt(parseFloat(e))}function yt(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function _t(e,t,n){return e+(t-e)*n}function xt(e,t,n,i,r){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e}function bt(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var wt=new dt(20),St=null;function Mt(e,t){St&&bt(St,t),St=wt.put(e,St||t.slice())}function It(e,t){if(e){t=t||[];var n=wt.get(e);if(n)return bt(t,n);var i,r=(e+="").replace(/ /g,"").toLowerCase();if(r in ft)return bt(t,ft[r]),Mt(e,t),t;if("#"===r.charAt(0))return 4===r.length?(i=parseInt(r.substr(1),16))>=0&&i<=4095?(xt(t,(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1),Mt(e,t),t):void xt(t,0,0,0,1):7===r.length?(i=parseInt(r.substr(1),16))>=0&&i<=16777215?(xt(t,(16711680&i)>>16,(65280&i)>>8,255&i,1),Mt(e,t),t):void xt(t,0,0,0,1):void 0;var o=r.indexOf("("),a=r.indexOf(")");if(-1!==o&&a+1===r.length){var s=r.substr(0,o),l=r.substr(o+1,a-(o+1)).split(","),u=1;switch(s){case"rgba":if(4!==l.length)return void xt(t,0,0,0,1);u=vt(l.pop());case"rgb":return 3!==l.length?void xt(t,0,0,0,1):(xt(t,mt(l[0]),mt(l[1]),mt(l[2]),u),Mt(e,t),t);case"hsla":return 4!==l.length?void xt(t,0,0,0,1):(l[3]=vt(l[3]),At(l,t),Mt(e,t),t);case"hsl":return 3!==l.length?void xt(t,0,0,0,1):(At(l,t),Mt(e,t),t);default:return}}xt(t,0,0,0,1)}}function At(e,t){var n=(parseFloat(e[0])%360+360)%360/360,i=vt(e[1]),r=vt(e[2]),o=r<=.5?r*(i+1):r+i-r*i,a=2*r-o;return xt(t=t||[],pt(255*yt(a,o,n+1/3)),pt(255*yt(a,o,n)),pt(255*yt(a,o,n-1/3)),1),4===e.length&&(t[3]=e[3]),t}function Tt(e,t,n){if(t&&t.length&&e>=0&&e<=1){n=n||[];var i=e*(t.length-1),r=Math.floor(i),o=Math.ceil(i),a=t[r],s=t[o],l=i-r;return n[0]=pt(_t(a[0],s[0],l)),n[1]=pt(_t(a[1],s[1],l)),n[2]=pt(_t(a[2],s[2],l)),n[3]=gt(_t(a[3],s[3],l)),n}}var Ct=Tt;function Dt(e,t,n){if(t&&t.length&&e>=0&&e<=1){var i=e*(t.length-1),r=Math.floor(i),o=Math.ceil(i),a=It(t[r]),s=It(t[o]),l=i-r,u=Lt([pt(_t(a[0],s[0],l)),pt(_t(a[1],s[1],l)),pt(_t(a[2],s[2],l)),gt(_t(a[3],s[3],l))],"rgba");return n?{color:u,leftIndex:r,rightIndex:o,value:i}:u}}var Pt=Dt;function Lt(e,t){if(e&&e.length){var n=e[0]+","+e[1]+","+e[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(n+=","+e[3]),t+"("+n+")"}}at.parse=It,at.lift=function(e,t){var n=It(e);if(n){for(var i=0;i<3;i++)n[i]=t<0?n[i]*(1-t)|0:(255-n[i])*t+n[i]|0,n[i]>255?n[i]=255:e[i]<0&&(n[i]=0);return Lt(n,4===n.length?"rgba":"rgb")}},at.toHex=function(e){var t=It(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)},at.fastLerp=Tt,at.fastMapToColor=Ct,at.lerp=Dt,at.mapToColor=Pt,at.modifyHSL=function(e,t,n,i){if(e=It(e))return e=function(e){if(e){var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a,u=(s+a)/2;if(0===l)t=0,n=0;else{n=u<.5?l/(s+a):l/(2-s-a);var c=((s-i)/6+l/2)/l,h=((s-r)/6+l/2)/l,d=((s-o)/6+l/2)/l;i===s?t=d-h:r===s?t=1/3+c-d:o===s&&(t=2/3+h-c),t<0&&(t+=1),t>1&&(t-=1)}var f=[360*t,n,u];return null!=e[3]&&f.push(e[3]),f}}(e),null!=t&&(e[0]=function(e){return(e=Math.round(e))<0?0:e>360?360:e}(t)),null!=n&&(e[1]=vt(n)),null!=i&&(e[2]=vt(i)),Lt(At(e),"rgba")},at.modifyAlpha=function(e,t){if((e=It(e))&&null!=t)return e[3]=gt(t),Lt(e,"rgba")},at.stringify=Lt;var kt=ot,Ot=at,Nt=g.isArrayLike,Rt=Array.prototype.slice;function Et(e,t){return e[t]}function zt(e,t,n){e[t]=n}function Bt(e,t,n){return(t-e)*n+e}function Vt(e,t,n){return n>.5?t:e}function Gt(e,t,n,i,r){var o=e.length;if(1===r)for(var a=0;a<o;a++)i[a]=Bt(e[a],t[a],n);else{var s=o&&e[0].length;for(a=0;a<o;a++)for(var l=0;l<s;l++)i[a][l]=Bt(e[a][l],t[a][l],n)}}function Ft(e,t,n){var i=e.length,r=t.length;if(i!==r)if(i>r)e.length=r;else for(var o=i;o<r;o++)e.push(1===n?t[o]:Rt.call(t[o]));var a=e[0]&&e[0].length;for(o=0;o<e.length;o++)if(1===n)isNaN(e[o])&&(e[o]=t[o]);else for(var s=0;s<a;s++)isNaN(e[o][s])&&(e[o][s]=t[o][s])}function Ht(e,t,n){if(e===t)return!0;var i=e.length;if(i!==t.length)return!1;if(1===n){for(var r=0;r<i;r++)if(e[r]!==t[r])return!1}else{var o=e[0].length;for(r=0;r<i;r++)for(var a=0;a<o;a++)if(e[r][a]!==t[r][a])return!1}return!0}function Wt(e,t,n,i,r,o,a,s,l){var u=e.length;if(1===l)for(var c=0;c<u;c++)s[c]=Ut(e[c],t[c],n[c],i[c],r,o,a);else{var h=e[0].length;for(c=0;c<u;c++)for(var d=0;d<h;d++)s[c][d]=Ut(e[c][d],t[c][d],n[c][d],i[c][d],r,o,a)}}function Ut(e,t,n,i,r,o,a){var s=.5*(n-e),l=.5*(i-t);return(2*(t-n)+s+l)*a+(-3*(t-n)-2*s-l)*o+s*r+t}function jt(e){if(Nt(e)){var t=e.length;if(Nt(e[0])){for(var n=[],i=0;i<t;i++)n.push(Rt.call(e[i]));return n}return Rt.call(e)}return e}function Zt(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function Yt(e,t,n,i,r,o){var a=e._getter,s=e._setter,l="spline"===t,u=i.length;if(u){var c,h=i[0].value,d=Nt(h),f=!1,p=!1,g=d?function(e){var t=e[e.length-1].value;return Nt(t&&t[0])?2:1}(i):0;i.sort((function(e,t){return e.time-t.time})),c=i[u-1].time;for(var m=[],v=[],y=i[0].value,_=!0,x=0;x<u;x++){m.push(i[x].time/c);var b=i[x].value;if(d&&Ht(b,y,g)||!d&&b===y||(_=!1),y=b,"string"==typeof b){var w=Ot.parse(b);w?(b=w,f=!0):p=!0}v.push(b)}if(o||!_){var S=v[u-1];for(x=0;x<u-1;x++)d?Ft(v[x],S,g):!isNaN(v[x])||isNaN(S)||p||f||(v[x]=S);d&&Ft(a(e._target,r),S,g);var M,I,A,T,C,D=0,P=0;if(f)var L=[0,0,0,0];var k=new kt({target:e._target,life:c,loop:e._loop,delay:e._delay,onframe:function(e,t){var n;if(t<0)n=0;else if(t<P){for(n=Math.min(D+1,u-1);n>=0&&!(m[n]<=t);n--);n=Math.min(n,u-2)}else{for(n=D;n<u&&!(m[n]>t);n++);n=Math.min(n-1,u-2)}D=n,P=t;var i=m[n+1]-m[n];if(0!==i)if(M=(t-m[n])/i,l)if(A=v[n],I=v[0===n?n:n-1],T=v[n>u-2?u-1:n+1],C=v[n>u-3?u-1:n+2],d)Wt(I,A,T,C,M,M*M,M*M*M,a(e,r),g);else{if(f)o=Wt(I,A,T,C,M,M*M,M*M*M,L,1),o=Zt(L);else{if(p)return Vt(A,T,M);o=Ut(I,A,T,C,M,M*M,M*M*M)}s(e,r,o)}else if(d)Gt(v[n],v[n+1],M,a(e,r),g);else{var o;if(f)Gt(v[n],v[n+1],M,L,1),o=Zt(L);else{if(p)return Vt(v[n],v[n+1],M);o=Bt(v[n],v[n+1],M)}s(e,r,o)}},ondestroy:n});return t&&"spline"!==t&&(k.easing=t),k}}}var Xt=function(e,t,n,i){this._tracks={},this._target=e,this._loop=t||!1,this._getter=n||Et,this._setter=i||zt,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};Xt.prototype={when:function(e,t){var n=this._tracks;for(var i in t)if(t.hasOwnProperty(i)){if(!n[i]){n[i]=[];var r=this._getter(this._target,i);if(null==r)continue;0!==e&&n[i].push({time:0,value:jt(r)})}n[i].push({time:e,value:t[i]})}return this},during:function(e){return this._onframeList.push(e),this},pause:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].pause();this._paused=!0},resume:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,n=0;n<t;n++)e[n].call(this)},start:function(e,t){var n,i=this,r=0,o=function(){--r||i._doneCallback()};for(var a in this._tracks)if(this._tracks.hasOwnProperty(a)){var s=Yt(this,e,o,this._tracks[a],a,t);s&&(this._clipList.push(s),r++,this.animation&&this.animation.addClip(s),n=s)}if(n){var l=n.onframe;n.onframe=function(e,t){l(e,t);for(var n=0;n<i._onframeList.length;n++)i._onframeList[n](e,t)}}return r||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,n=this.animation,i=0;i<t.length;i++){var r=t[i];e&&r.onframe(this._target,1),n&&n.removeClip(r)}t.length=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}};var qt=Xt,Kt={},Jt=1;"undefined"!=typeof window&&(Jt=Math.max(window.devicePixelRatio||1,1));var Qt=Jt;Kt.debugMode=0,Kt.devicePixelRatio=Qt;var $t=function(){};1===Kt.debugMode&&($t=console.error);var en=$t,tn=qt,nn=en,rn=g,on=rn.isString,an=rn.isFunction,sn=rn.isObject,ln=rn.isArrayLike,un=rn.indexOf,cn=function(){this.animators=[]};function hn(e,t,n,i,r,o,a,s){on(i)?(o=r,r=i,i=0):an(r)?(o=r,r="linear",i=0):an(i)?(o=i,i=0):an(n)?(o=n,n=500):n||(n=500),e.stopAnimation(),dn(e,"",e,t,n,i,s);var l=e.animators.slice(),u=l.length;function c(){--u||o&&o()}u||o&&o();for(var h=0;h<l.length;h++)l[h].done(c).start(r,a)}function dn(e,t,n,i,r,o,a){var s={},l=0;for(var u in i)i.hasOwnProperty(u)&&(null!=n[u]?sn(i[u])&&!ln(i[u])?dn(e,t?t+"."+u:u,n[u],i[u],r,o,a):(a?(s[u]=n[u],fn(e,t,u,i[u])):s[u]=i[u],l++):null==i[u]||a||fn(e,t,u,i[u]));l>0&&e.animate(t,!1).when(null==r?500:r,s).delay(o||0)}function fn(e,t,n,i){if(t){var r={};r[t]={},r[t][n]=i,e.attr(r)}else e.attr(n,i)}cn.prototype={constructor:cn,animate:function(e,t){var n,i=!1,r=this,o=this.__zr;if(e){var a=e.split("."),s=r;i="shape"===a[0];for(var l=0,u=a.length;l<u;l++)s&&(s=s[a[l]]);s&&(n=s)}else n=r;if(n){var c=r.animators,h=new tn(n,t);return h.during((function(e){r.dirty(i)})).done((function(){c.splice(un(c,h),1)})),c.push(h),o&&o.animation.addAnimator(h),h}nn('Property "'+e+'" is not existed in element '+r.id)},stopAnimation:function(e){for(var t=this.animators,n=t.length,i=0;i<n;i++)t[i].stop(e);return t.length=0,this},animateTo:function(e,t,n,i,r,o){hn(this,e,t,n,i,r,o)},animateFrom:function(e,t,n,i,r,o){hn(this,e,t,n,i,r,o,!0)}};var pn=f,gn=te,mn=tt,vn=cn,yn=g,_n=function(e){mn.call(this,e),gn.call(this,e),vn.call(this,e),this.id=e.id||pn()};_n.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=e,n[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,t){},attrKV:function(e,t){if("position"===e||"scale"===e||"origin"===e){if(t){var n=this[e];n||(n=this[e]=[]),n[0]=t[0],n[1]=t[1]}}else this[e]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if("string"==typeof e)this.attrKV(e,t);else if(yn.isObject(e))for(var n in e)e.hasOwnProperty(n)&&this.attrKV(n,e[n]);return this.dirty(!1),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),this.clipPath=e,e.__zr=t,e.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}},yn.mixin(_n,vn),yn.mixin(_n,mn),yn.mixin(_n,gn);var xn,bn,wn,Sn,Mn=_n,In=Fe,An=V.applyTransform,Tn=Math.min,Cn=Math.max;function Dn(e,t,n,i){n<0&&(e+=n,n=-n),i<0&&(t+=i,i=-i),this.x=e,this.y=t,this.width=n,this.height=i}Dn.prototype={constructor:Dn,union:function(e){var t=Tn(e.x,this.x),n=Tn(e.y,this.y);this.width=Cn(e.x+e.width,this.x+this.width)-t,this.height=Cn(e.y+e.height,this.y+this.height)-n,this.x=t,this.y=n},applyTransform:(xn=[],bn=[],wn=[],Sn=[],function(e){if(e){xn[0]=wn[0]=this.x,xn[1]=Sn[1]=this.y,bn[0]=Sn[0]=this.x+this.width,bn[1]=wn[1]=this.y+this.height,An(xn,xn,e),An(bn,bn,e),An(wn,wn,e),An(Sn,Sn,e),this.x=Tn(xn[0],bn[0],wn[0],Sn[0]),this.y=Tn(xn[1],bn[1],wn[1],Sn[1]);var t=Cn(xn[0],bn[0],wn[0],Sn[0]),n=Cn(xn[1],bn[1],wn[1],Sn[1]);this.width=t-this.x,this.height=n-this.y}}),calculateTransform:function(e){var t=this,n=e.width/t.width,i=e.height/t.height,r=In.create();return In.translate(r,r,[-t.x,-t.y]),In.scale(r,r,[n,i]),In.translate(r,r,[e.x,e.y]),r},intersect:function(e){if(!e)return!1;e instanceof Dn||(e=Dn.create(e));var t=this,n=t.x,i=t.x+t.width,r=t.y,o=t.y+t.height,a=e.x,s=e.x+e.width,l=e.y,u=e.y+e.height;return!(i<a||s<n||o<l||u<r)},contain:function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},clone:function(){return new Dn(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},Dn.create=function(e){return new Dn(e.x,e.y,e.width,e.height)};var Pn=Dn,Ln=g,kn=Mn,On=Pn,Nn=function(e){for(var t in e=e||{},kn.call(this,e),e)e.hasOwnProperty(t)&&(this[t]=e[t]);this._children=[],this.__storage=null,this.__dirty=!0};Nn.prototype={constructor:Nn,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},childCount:function(){return this._children.length},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children,i=n.indexOf(t);i>=0&&(n.splice(i,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__storage,n=this.__zr;t&&t!==e.__storage&&(t.addToStorage(e),e instanceof Nn&&e.addChildrenToStorage(t)),n&&n.refresh()},remove:function(e){var t=this.__zr,n=this.__storage,i=this._children,r=Ln.indexOf(i,e);return r<0||(i.splice(r,1),e.parent=null,n&&(n.delFromStorage(e),e instanceof Nn&&e.delChildrenFromStorage(n)),t&&t.refresh()),this},removeAll:function(){var e,t,n=this._children,i=this.__storage;for(t=0;t<n.length;t++)e=n[t],i&&(i.delFromStorage(e),e instanceof Nn&&e.delChildrenFromStorage(i)),e.parent=null;return n.length=0,this},eachChild:function(e,t){for(var n=this._children,i=0;i<n.length;i++){var r=n[i];e.call(t,r,i)}return this},traverse:function(e,t){for(var n=0;n<this._children.length;n++){var i=this._children[n];e.call(t,i),"group"===i.type&&i.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.addToStorage(n),n instanceof Nn&&n.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.delFromStorage(n),n instanceof Nn&&n.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,n=new On(0,0,0,0),i=e||this._children,r=[],o=0;o<i.length;o++){var a=i[o];if(!a.ignore&&!a.invisible){var s=a.getBoundingRect(),l=a.getLocalTransform(r);l?(n.copy(s),n.applyTransform(l),(t=t||n.clone()).union(n)):(t=t||s.clone()).union(s)}}return t||n}},Ln.inherits(Nn,kn);var Rn=Nn;function En(e,t,n,i){var r=t+1;if(r===n)return 1;if(i(e[r++],e[t])<0){for(;r<n&&i(e[r],e[r-1])<0;)r++;!function(e,t,n){n--;for(;t<n;){var i=e[t];e[t++]=e[n],e[n--]=i}}(e,t,r)}else for(;r<n&&i(e[r],e[r-1])>=0;)r++;return r-t}function zn(e,t,n,i,r){for(i===t&&i++;i<n;i++){for(var o,a=e[i],s=t,l=i;s<l;)r(a,e[o=s+l>>>1])<0?l=o:s=o+1;var u=i-s;switch(u){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:for(;u>0;)e[s+u]=e[s+u-1],u--}e[s]=a}}function Bn(e,t,n,i,r,o){var a=0,s=0,l=1;if(o(e,t[n+r])>0){for(s=i-r;l<s&&o(e,t[n+r+l])>0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}else{for(s=r+1;l<s&&o(e,t[n+r-l])<=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}for(a++;a<l;){var c=a+(l-a>>>1);o(e,t[n+c])>0?a=c+1:l=c}return l}function Vn(e,t,n,i,r,o){var a=0,s=0,l=1;if(o(e,t[n+r])<0){for(s=r+1;l<s&&o(e,t[n+r-l])<0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}else{for(s=i-r;l<s&&o(e,t[n+r+l])>=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}for(a++;a<l;){var c=a+(l-a>>>1);o(e,t[n+c])<0?l=c:a=c+1}return l}function Gn(e,t){var n,i,r=7,o=0,a=[];function s(s){var l=n[s],u=i[s],c=n[s+1],h=i[s+1];i[s]=u+h,s===o-3&&(n[s+1]=n[s+2],i[s+1]=i[s+2]),o--;var d=Vn(e[c],e,l,u,0,t);l+=d,0!==(u-=d)&&0!==(h=Bn(e[l+u-1],e,c,h,h-1,t))&&(u<=h?function(n,i,o,s){var l=0;for(l=0;l<i;l++)a[l]=e[n+l];var u=0,c=o,h=n;if(e[h++]=e[c++],0==--s){for(l=0;l<i;l++)e[h+l]=a[u+l];return}if(1===i){for(l=0;l<s;l++)e[h+l]=e[c+l];return void(e[h+s]=a[u])}var d,f,p,g=r;for(;;){d=0,f=0,p=!1;do{if(t(e[c],a[u])<0){if(e[h++]=e[c++],f++,d=0,0==--s){p=!0;break}}else if(e[h++]=a[u++],d++,f=0,1==--i){p=!0;break}}while((d|f)<g);if(p)break;do{if(0!==(d=Vn(e[c],a,u,i,0,t))){for(l=0;l<d;l++)e[h+l]=a[u+l];if(h+=d,u+=d,(i-=d)<=1){p=!0;break}}if(e[h++]=e[c++],0==--s){p=!0;break}if(0!==(f=Bn(a[u],e,c,s,0,t))){for(l=0;l<f;l++)e[h+l]=e[c+l];if(h+=f,c+=f,0===(s-=f)){p=!0;break}}if(e[h++]=a[u++],1==--i){p=!0;break}g--}while(d>=7||f>=7);if(p)break;g<0&&(g=0),g+=2}if((r=g)<1&&(r=1),1===i){for(l=0;l<s;l++)e[h+l]=e[c+l];e[h+s]=a[u]}else{if(0===i)throw new Error;for(l=0;l<i;l++)e[h+l]=a[u+l]}}(l,u,c,h):function(n,i,o,s){var l=0;for(l=0;l<s;l++)a[l]=e[o+l];var u=n+i-1,c=s-1,h=o+s-1,d=0,f=0;if(e[h--]=e[u--],0==--i){for(d=h-(s-1),l=0;l<s;l++)e[d+l]=a[l];return}if(1===s){for(f=(h-=i)+1,d=(u-=i)+1,l=i-1;l>=0;l--)e[f+l]=e[d+l];return void(e[h]=a[c])}var p=r;for(;;){var g=0,m=0,v=!1;do{if(t(a[c],e[u])<0){if(e[h--]=e[u--],g++,m=0,0==--i){v=!0;break}}else if(e[h--]=a[c--],m++,g=0,1==--s){v=!0;break}}while((g|m)<p);if(v)break;do{if(0!==(g=i-Vn(a[c],e,n,i,i-1,t))){for(i-=g,f=(h-=g)+1,d=(u-=g)+1,l=g-1;l>=0;l--)e[f+l]=e[d+l];if(0===i){v=!0;break}}if(e[h--]=a[c--],1==--s){v=!0;break}if(0!==(m=s-Bn(e[u],a,0,s,s-1,t))){for(s-=m,f=(h-=m)+1,d=(c-=m)+1,l=0;l<m;l++)e[f+l]=a[d+l];if(s<=1){v=!0;break}}if(e[h--]=e[u--],0==--i){v=!0;break}p--}while(g>=7||m>=7);if(v)break;p<0&&(p=0),p+=2}(r=p)<1&&(r=1);if(1===s){for(f=(h-=i)+1,d=(u-=i)+1,l=i-1;l>=0;l--)e[f+l]=e[d+l];e[h]=a[c]}else{if(0===s)throw new Error;for(d=h-(s-1),l=0;l<s;l++)e[d+l]=a[l]}}(l,u,c,h))}n=[],i=[],this.mergeRuns=function(){for(;o>1;){var e=o-2;if(e>=1&&i[e-1]<=i[e]+i[e+1]||e>=2&&i[e-2]<=i[e]+i[e-1])i[e-1]<i[e+1]&&e--;else if(i[e]>i[e+1])break;s(e)}},this.forceMergeRuns=function(){for(;o>1;){var e=o-2;e>0&&i[e-1]<i[e+1]&&e--,s(e)}},this.pushRun=function(e,t){n[o]=e,i[o]=t,o+=1}}var Fn=function(e,t,n,i){n||(n=0),i||(i=e.length);var r=i-n;if(!(r<2)){var o=0;if(r<32)zn(e,n,i,n+(o=En(e,n,i,t)),t);else{var a=new Gn(e,t),s=function(e){for(var t=0;e>=32;)t|=1&e,e>>=1;return e+t}(r);do{if((o=En(e,n,i,t))<s){var l=r;l>s&&(l=s),zn(e,n,n+l,n+o,t),o=l}a.pushRun(n,o),a.mergeRuns(),r-=o,n+=o}while(0!==r);a.forceMergeRuns()}}},Hn=g,Wn=p,Un=Rn,jn=Fn;function Zn(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var Yn=function(){this._roots=[],this._displayList=[],this._displayListLen=0};Yn.prototype={constructor:Yn,traverse:function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,i=0,r=t.length;i<r;i++)this._updateAndAddDisplayable(t[i],null,e);n.length=this._displayListLen,Wn.canvasSupported&&jn(n,Zn)},_updateAndAddDisplayable:function(e,t,n){if(!e.ignore||n){e.beforeUpdate(),e.__dirty&&e.update(),e.afterUpdate();var i=e.clipPath;if(i){t=t?t.slice():[];for(var r=i,o=e;r;)r.parent=o,r.updateTransform(),t.push(r),o=r,r=r.clipPath}if(e.isGroup){for(var a=e._children,s=0;s<a.length;s++){var l=a[s];e.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,t,n)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){e.__storage!==this&&(e instanceof Un&&e.addChildrenToStorage(this),this.addToStorage(e),this._roots.push(e))},delRoot:function(e){if(null==e){for(var t=0;t<this._roots.length;t++){var n=this._roots[t];n instanceof Un&&n.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(e instanceof Array){t=0;for(var i=e.length;t<i;t++)this.delRoot(e[t])}else{var r=Hn.indexOf(this._roots,e);r>=0&&(this.delFromStorage(e),this._roots.splice(r,1),e instanceof Un&&e.delChildrenFromStorage(this))}},addToStorage:function(e){return e&&(e.__storage=this,e.dirty(!1)),this},delFromStorage:function(e){return e&&(e.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Zn};var Xn=Yn,qn={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};var Kn=function(e,t,n){return qn.hasOwnProperty(t)?n*e.dpr:n},Jn={};Jn.ContextCachedBy={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},Jn.WILL_BE_RESTORED=9;var Qn=Kn,$n=Jn.ContextCachedBy,ei=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],ti=function(e){this.extendFrom(e,!1)};function ni(e,t,n){var i=null==t.x?0:t.x,r=null==t.x2?1:t.x2,o=null==t.y?0:t.y,a=null==t.y2?0:t.y2;return t.global||(i=i*n.width+n.x,r=r*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y),i=isNaN(i)?0:i,r=isNaN(r)?1:r,o=isNaN(o)?0:o,a=isNaN(a)?0:a,e.createLinearGradient(i,o,r,a)}function ii(e,t,n){var i=n.width,r=n.height,o=Math.min(i,r),a=null==t.x?.5:t.x,s=null==t.y?.5:t.y,l=null==t.r?.5:t.r;return t.global||(a=a*i+n.x,s=s*r+n.y,l*=o),e.createRadialGradient(a,s,0,a,s,l)}for(var ri=ti.prototype={constructor:ti,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(e,t,n){var i=this,r=n&&n.style,o=!r||e.__attrCachedBy!==$n.STYLE_BIND;e.__attrCachedBy=$n.STYLE_BIND;for(var a=0;a<ei.length;a++){var s=ei[a],l=s[0];(o||i[l]!==r[l])&&(e[l]=Qn(e,l,i[l]||s[1]))}if((o||i.fill!==r.fill)&&(e.fillStyle=i.fill),(o||i.stroke!==r.stroke)&&(e.strokeStyle=i.stroke),(o||i.opacity!==r.opacity)&&(e.globalAlpha=null==i.opacity?1:i.opacity),(o||i.blend!==r.blend)&&(e.globalCompositeOperation=i.blend||"source-over"),this.hasStroke()){var u=i.lineWidth;e.lineWidth=u/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1)}},hasFill:function(){var e=this.fill;return null!=e&&"none"!==e},hasStroke:function(){var e=this.stroke;return null!=e&&"none"!==e&&this.lineWidth>0},extendFrom:function(e,t){if(e)for(var n in e)!e.hasOwnProperty(n)||!0!==t&&(!1===t?this.hasOwnProperty(n):null==e[n])||(this[n]=e[n])},set:function(e,t){"string"==typeof e?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},getGradient:function(e,t,n){for(var i=("radial"===t.type?ii:ni)(e,t,n),r=t.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);return i}},oi=0;oi<ei.length;oi++){var ai=ei[oi];ai[0]in ri||(ri[ai[0]]=ai[1])}ti.getGradient=ri.getGradient;var si=ti,li=function(e,t){this.image=e,this.repeat=t,this.type="pattern"};li.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||"repeat")};var ui=li,ci=g,hi=Kt.devicePixelRatio,di=si,fi=ui;function pi(){return!1}function gi(e,t,n){var i=ci.createCanvas(),r=t.getWidth(),o=t.getHeight(),a=i.style;return a&&(a.position="absolute",a.left=0,a.top=0,a.width=r+"px",a.height=o+"px",i.setAttribute("data-zr-dom-id",e)),i.width=r*n,i.height=o*n,i}var mi=function(e,t,n){var i;n=n||hi,"string"==typeof e?i=gi(e,t,n):ci.isObject(e)&&(e=(i=e).id),this.id=e,this.dom=i;var r=i.style;r&&(i.onselectstart=pi,r["-webkit-user-select"]="none",r["user-select"]="none",r["-webkit-touch-callout"]="none",r["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",r.padding=0,r.margin=0,r["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=t,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};mi.prototype={constructor:mi,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=gi("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},resize:function(e,t){var n=this.dpr,i=this.dom,r=i.style,o=this.domBack;r&&(r.width=e+"px",r.height=t+"px"),i.width=e*n,i.height=t*n,o&&(o.width=e*n,o.height=t*n,1!==n&&this.ctxBack.scale(n,n))},clear:function(e,t){var n,i=this.dom,r=this.ctx,o=i.width,a=i.height,s=(t=t||this.clearColor,this.motionBlur&&!e),l=this.lastFrameAlpha,u=this.dpr;(s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,o/u,a/u)),r.clearRect(0,0,o,a),t&&"transparent"!==t)&&(t.colorStops?(n=t.__canvasGradient||di.getGradient(r,t,{x:0,y:0,width:o,height:a}),t.__canvasGradient=n):t.image&&(n=fi.prototype.getCanvasPattern.call(t,r)),r.save(),r.fillStyle=n||t,r.fillRect(0,0,o,a),r.restore());if(s){var c=this.domBack;r.save(),r.globalAlpha=l,r.drawImage(c,0,0,o,a),r.restore()}}};var vi=mi,yi="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)},_i={},xi={},bi={},wi=new dt(50);function Si(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function Mi(e){return e&&e.width&&e.height}bi.findExistImage=function(e){if("string"==typeof e){var t=wi.get(e);return t&&t.image}return e},bi.createOrUpdateImage=function(e,t,n,i,r){if(e){if("string"==typeof e){if(t&&t.__zrImageSrc===e||!n)return t;var o=wi.get(e),a={hostEl:n,cb:i,cbPayload:r};return o?!Mi(t=o.image)&&o.pending.push(a):((t=new Image).onload=t.onerror=Si,wi.put(e,t.__cachedImgObj={image:t,pending:[a]}),t.src=t.__zrImageSrc=e),t}return e}return t},bi.isImageReady=Mi;var Ii=Pn,Ai=bi,Ti=g,Ci=Ti.getContext,Di=Ti.extend,Pi=Ti.retrieve2,Li=Ti.retrieve3,ki=Ti.trim,Oi={},Ni=0,Ri=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,Ei={};function zi(e,t){var n=e+":"+(t=t||"12px sans-serif");if(Oi[n])return Oi[n];for(var i=(e+"").split("\n"),r=0,o=0,a=i.length;o<a;o++)r=Math.max(Zi(i[o],t).width,r);return Ni>5e3&&(Ni=0,Oi={}),Ni++,Oi[n]=r,r}function Bi(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}function Vi(e,t,n){return"middle"===n?e-=t/2:"bottom"===n&&(e-=t),e}function Gi(e,t,n){var i=t.textPosition,r=t.textDistance,o=n.x,a=n.y;r=r||0;var s=n.height,l=n.width,u=s/2,c="left",h="top";switch(i){case"left":o-=r,a+=u,c="right",h="middle";break;case"right":o+=r+l,a+=u,h="middle";break;case"top":o+=l/2,a-=r,c="center",h="bottom";break;case"bottom":o+=l/2,a+=s+r,c="center";break;case"inside":o+=l/2,a+=u,c="center",h="middle";break;case"insideLeft":o+=r,a+=u,h="middle";break;case"insideRight":o+=l-r,a+=u,c="right",h="middle";break;case"insideTop":o+=l/2,a+=r,c="center";break;case"insideBottom":o+=l/2,a+=s-r,c="center",h="bottom";break;case"insideTopLeft":o+=r,a+=r;break;case"insideTopRight":o+=l-r,a+=r,c="right";break;case"insideBottomLeft":o+=r,a+=s-r,h="bottom";break;case"insideBottomRight":o+=l-r,a+=s-r,c="right",h="bottom"}return(e=e||{}).x=o,e.y=a,e.textAlign=c,e.textVerticalAlign=h,e}function Fi(e,t,n,i,r){if(!t)return"";var o=(e+"").split("\n");r=Hi(t,n,i,r);for(var a=0,s=o.length;a<s;a++)o[a]=Wi(o[a],r);return o.join("\n")}function Hi(e,t,n,i){(i=Di({},i)).font=t;n=Pi(n,"...");i.maxIterations=Pi(i.maxIterations,2);var r=i.minChar=Pi(i.minChar,0);i.cnCharWidth=zi("",t);var o=i.ascCharWidth=zi("a",t);i.placeholder=Pi(i.placeholder,"");for(var a=e=Math.max(0,e-1),s=0;s<r&&a>=o;s++)a-=o;var l=zi(n,t);return l>a&&(n="",l=0),a=e-l,i.ellipsis=n,i.ellipsisWidth=l,i.contentWidth=a,i.containerWidth=e,i}function Wi(e,t){var n=t.containerWidth,i=t.font,r=t.contentWidth;if(!n)return"";var o=zi(e,i);if(o<=n)return e;for(var a=0;;a++){if(o<=r||a>=t.maxIterations){e+=t.ellipsis;break}var s=0===a?Ui(e,r,t.ascCharWidth,t.cnCharWidth):o>0?Math.floor(e.length*r/o):0;o=zi(e=e.substr(0,s),i)}return""===e&&(e=t.placeholder),e}function Ui(e,t,n,i){for(var r=0,o=0,a=e.length;o<a&&r<t;o++){var s=e.charCodeAt(o);r+=0<=s&&s<=127?n:i}return o}function ji(e){return zi("",e)}function Zi(e,t){return Ei.measureText(e,t)}function Yi(e,t,n,i,r){null!=e&&(e+="");var o=Pi(i,ji(t)),a=e?e.split("\n"):[],s=a.length*o,l=s,u=!0;if(n&&(l+=n[0]+n[2]),e&&r){u=!1;var c=r.outerHeight,h=r.outerWidth;if(null!=c&&l>c)e="",a=[];else if(null!=h)for(var d=Hi(h-(n?n[1]+n[3]:0),t,r.ellipsis,{minChar:r.minChar,placeholder:r.placeholder}),f=0,p=a.length;f<p;f++)a[f]=Wi(a[f],d)}return{lines:a,height:s,outerHeight:l,lineHeight:o,canCacheByTextString:u}}function Xi(e,t){var n={lines:[],width:0,height:0};if(null!=e&&(e+=""),!e)return n;for(var i,r=Ri.lastIndex=0;null!=(i=Ri.exec(e));){var o=i.index;o>r&&qi(n,e.substring(r,o)),qi(n,i[2],i[1]),r=Ri.lastIndex}r<e.length&&qi(n,e.substring(r,e.length));var a=n.lines,s=0,l=0,u=[],c=t.textPadding,h=t.truncate,d=h&&h.outerWidth,f=h&&h.outerHeight;c&&(null!=d&&(d-=c[1]+c[3]),null!=f&&(f-=c[0]+c[2]));for(var p=0;p<a.length;p++){for(var g=a[p],m=0,v=0,y=0;y<g.tokens.length;y++){var _=(D=g.tokens[y]).styleName&&t.rich[D.styleName]||{},x=D.textPadding=_.textPadding,b=D.font=_.font||t.font,w=D.textHeight=Pi(_.textHeight,ji(b));if(x&&(w+=x[0]+x[2]),D.height=w,D.lineHeight=Li(_.textLineHeight,t.textLineHeight,w),D.textAlign=_&&_.textAlign||t.textAlign,D.textVerticalAlign=_&&_.textVerticalAlign||"middle",null!=f&&s+D.lineHeight>f)return{lines:[],width:0,height:0};D.textWidth=zi(D.text,b);var S=_.textWidth,M=null==S||"auto"===S;if("string"==typeof S&&"%"===S.charAt(S.length-1))D.percentWidth=S,u.push(D),S=0;else{if(M){S=D.textWidth;var I=_.textBackgroundColor,A=I&&I.image;A&&(A=Ai.findExistImage(A),Ai.isImageReady(A)&&(S=Math.max(S,A.width*w/A.height)))}var T=x?x[1]+x[3]:0;S+=T;var C=null!=d?d-v:null;null!=C&&C<S&&(!M||C<T?(D.text="",D.textWidth=S=0):(D.text=Fi(D.text,C-T,b,h.ellipsis,{minChar:h.minChar}),D.textWidth=zi(D.text,b),S=D.textWidth+T))}v+=D.width=S,_&&(m=Math.max(m,D.lineHeight))}g.width=v,g.lineHeight=m,s+=m,l=Math.max(l,v)}n.outerWidth=n.width=Pi(t.textWidth,l),n.outerHeight=n.height=Pi(t.textHeight,s),c&&(n.outerWidth+=c[1]+c[3],n.outerHeight+=c[0]+c[2]);for(p=0;p<u.length;p++){var D,P=(D=u[p]).percentWidth;D.width=parseInt(P,10)/100*l}return n}function qi(e,t,n){for(var i=""===t,r=t.split("\n"),o=e.lines,a=0;a<r.length;a++){var s=r[a],l={styleName:n,text:s,isLineHolder:!s&&!i};if(a)o.push({tokens:[l]});else{var u=(o[o.length-1]||(o[0]={tokens:[]})).tokens,c=u.length;1===c&&u[0].isLineHolder?u[0]=l:(s||!c||i)&&u.push(l)}}}Ei.measureText=function(e,t){var n=Ci();return n.font=t||"12px sans-serif",n.measureText(e)},xi.DEFAULT_FONT="12px sans-serif",xi.$override=function(e,t){Ei[e]=t},xi.getWidth=zi,xi.getBoundingRect=function(e,t,n,i,r,o,a,s){return a?function(e,t,n,i,r,o,a,s){var l=Xi(e,{rich:a,truncate:s,font:t,textAlign:n,textPadding:r,textLineHeight:o}),u=l.outerWidth,c=l.outerHeight,h=Bi(0,u,n),d=Vi(0,c,i);return new Ii(h,d,u,c)}(e,t,n,i,r,o,a,s):function(e,t,n,i,r,o,a){var s=Yi(e,t,r,o,a),l=zi(e,t);r&&(l+=r[1]+r[3]);var u=s.outerHeight,c=Bi(0,l,n),h=Vi(0,u,i),d=new Ii(c,h,l,u);return d.lineHeight=s.lineHeight,d}(e,t,n,i,r,o,s)},xi.adjustTextX=Bi,xi.adjustTextY=Vi,xi.calculateTextPosition=Gi,xi.adjustTextPositionOnRect=function(e,t,n){return Gi({},{textPosition:e,textDistance:n},t)},xi.truncateText=Fi,xi.getLineHeight=ji,xi.measureText=Zi,xi.parsePlainText=Yi,xi.parseRichText=Xi,xi.makeFont=function(e){var t=(e.fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+"px",e.fontFamily||"sans-serif"].join(" ");return t&&ki(t)||e.textFont||e.font};var Ki={};Ki.buildPath=function(e,t){var n,i,r,o,a,s=t.x,l=t.y,u=t.width,c=t.height,h=t.r;u<0&&(s+=u,u=-u),c<0&&(l+=c,c=-c),"number"==typeof h?n=i=r=o=h:h instanceof Array?1===h.length?n=i=r=o=h[0]:2===h.length?(n=r=h[0],i=o=h[1]):3===h.length?(n=h[0],i=o=h[1],r=h[2]):(n=h[0],i=h[1],r=h[2],o=h[3]):n=i=r=o=0,n+i>u&&(n*=u/(a=n+i),i*=u/a),r+o>u&&(r*=u/(a=r+o),o*=u/a),i+r>c&&(i*=c/(a=i+r),r*=c/a),n+o>c&&(n*=c/(a=n+o),o*=c/a),e.moveTo(s+n,l),e.lineTo(s+u-i,l),0!==i&&e.arc(s+u-i,l+i,i,-Math.PI/2,0),e.lineTo(s+u,l+c-r),0!==r&&e.arc(s+u-r,l+c-r,r,0,Math.PI/2),e.lineTo(s+o,l+c),0!==o&&e.arc(s+o,l+c-o,o,Math.PI/2,Math.PI),e.lineTo(s,l+n),0!==n&&e.arc(s+n,l+n,n,Math.PI,1.5*Math.PI)};var Ji=g,Qi=Ji.retrieve2,$i=Ji.retrieve3,er=Ji.each,tr=Ji.normalizeCssArray,nr=Ji.isString,ir=Ji.isObject,rr=xi,or=Ki,ar=bi,sr=Kn,lr=Jn,ur=lr.ContextCachedBy,cr=lr.WILL_BE_RESTORED,hr=rr.DEFAULT_FONT,dr={left:1,right:1,center:1},fr={top:1,bottom:1,middle:1},pr=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],gr={},mr={};function vr(e){if(e){e.font=rr.makeFont(e);var t=e.textAlign;"middle"===t&&(t="center"),e.textAlign=null==t||dr[t]?t:"left";var n=e.textVerticalAlign||e.textBaseline;"center"===n&&(n="middle"),e.textVerticalAlign=null==n||fr[n]?n:"top",e.textPadding&&(e.textPadding=tr(e.textPadding))}}function yr(e,t,n,i,r){if(n&&t.textRotation){var o=t.textOrigin;"center"===o?(i=n.width/2+n.x,r=n.height/2+n.y):o&&(i=o[0]+n.x,r=o[1]+n.y),e.translate(i,r),e.rotate(-t.textRotation),e.translate(-i,-r)}}function _r(e,t,n,i,r,o,a,s){var l=i.rich[n.styleName]||{};l.text=n.text;var u=n.textVerticalAlign,c=o+r/2;"top"===u?c=o+n.height/2:"bottom"===u&&(c=o+r-n.height/2),!n.isLineHolder&&xr(l)&&br(e,t,l,"right"===s?a-n.width:"center"===s?a-n.width/2:a,c-n.height/2,n.width,n.height);var h=n.textPadding;h&&(a=Cr(a,s,h),c-=n.height/2-h[2]-n.textHeight/2),Mr(t,"shadowBlur",$i(l.textShadowBlur,i.textShadowBlur,0)),Mr(t,"shadowColor",l.textShadowColor||i.textShadowColor||"transparent"),Mr(t,"shadowOffsetX",$i(l.textShadowOffsetX,i.textShadowOffsetX,0)),Mr(t,"shadowOffsetY",$i(l.textShadowOffsetY,i.textShadowOffsetY,0)),Mr(t,"textAlign",s),Mr(t,"textBaseline","middle"),Mr(t,"font",n.font||hr);var d=Ir(l.textStroke||i.textStroke,p),f=Ar(l.textFill||i.textFill),p=Qi(l.textStrokeWidth,i.textStrokeWidth);d&&(Mr(t,"lineWidth",p),Mr(t,"strokeStyle",d),t.strokeText(n.text,a,c)),f&&(Mr(t,"fillStyle",f),t.fillText(n.text,a,c))}function xr(e){return!!(e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor)}function br(e,t,n,i,r,o,a){var s=n.textBackgroundColor,l=n.textBorderWidth,u=n.textBorderColor,c=nr(s);if(Mr(t,"shadowBlur",n.textBoxShadowBlur||0),Mr(t,"shadowColor",n.textBoxShadowColor||"transparent"),Mr(t,"shadowOffsetX",n.textBoxShadowOffsetX||0),Mr(t,"shadowOffsetY",n.textBoxShadowOffsetY||0),c||l&&u){t.beginPath();var h=n.textBorderRadius;h?or.buildPath(t,{x:i,y:r,width:o,height:a,r:h}):t.rect(i,r,o,a),t.closePath()}if(c)if(Mr(t,"fillStyle",s),null!=n.fillOpacity){var d=t.globalAlpha;t.globalAlpha=n.fillOpacity*n.opacity,t.fill(),t.globalAlpha=d}else t.fill();else if(ir(s)){var f=s.image;(f=ar.createOrUpdateImage(f,null,e,wr,s))&&ar.isImageReady(f)&&t.drawImage(f,i,r,o,a)}if(l&&u)if(Mr(t,"lineWidth",l),Mr(t,"strokeStyle",u),null!=n.strokeOpacity){d=t.globalAlpha;t.globalAlpha=n.strokeOpacity*n.opacity,t.stroke(),t.globalAlpha=d}else t.stroke()}function wr(e,t){t.image=e}function Sr(e,t,n,i){var r=n.x||0,o=n.y||0,a=n.textAlign,s=n.textVerticalAlign;if(i){var l=n.textPosition;if(l instanceof Array)r=i.x+Tr(l[0],i.width),o=i.y+Tr(l[1],i.height);else{var u=t&&t.calculateTextPosition?t.calculateTextPosition(gr,n,i):rr.calculateTextPosition(gr,n,i);r=u.x,o=u.y,a=a||u.textAlign,s=s||u.textVerticalAlign}var c=n.textOffset;c&&(r+=c[0],o+=c[1])}return(e=e||{}).baseX=r,e.baseY=o,e.textAlign=a,e.textVerticalAlign=s,e}function Mr(e,t,n){return e[t]=sr(e,t,n),e[t]}function Ir(e,t){return null==e||t<=0||"transparent"===e||"none"===e?null:e.image||e.colorStops?"#000":e}function Ar(e){return null==e||"none"===e?null:e.image||e.colorStops?"#000":e}function Tr(e,t){return"string"==typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function Cr(e,t,n){return"right"===t?e-n[1]:"center"===t?e+n[3]/2-n[1]/2:e+n[3]}_i.normalizeTextStyle=function(e){return vr(e),er(e.rich,vr),e},_i.renderText=function(e,t,n,i,r,o){i.rich?function(e,t,n,i,r,o){o!==cr&&(t.__attrCachedBy=ur.NONE);var a=e.__textCotentBlock;a&&!e.__dirtyText||(a=e.__textCotentBlock=rr.parseRichText(n,i));!function(e,t,n,i,r){var o=n.width,a=n.outerWidth,s=n.outerHeight,l=i.textPadding,u=Sr(mr,e,i,r),c=u.baseX,h=u.baseY,d=u.textAlign,f=u.textVerticalAlign;yr(t,i,r,c,h);var p=rr.adjustTextX(c,a,d),g=rr.adjustTextY(h,s,f),m=p,v=g;l&&(m+=l[3],v+=l[0]);var y=m+o;xr(i)&&br(e,t,i,p,g,a,s);for(var _=0;_<n.lines.length;_++){for(var x,b=n.lines[_],w=b.tokens,S=w.length,M=b.lineHeight,I=b.width,A=0,T=m,C=y,D=S-1;A<S&&(!(x=w[A]).textAlign||"left"===x.textAlign);)_r(e,t,x,i,M,v,T,"left"),I-=x.width,T+=x.width,A++;for(;D>=0&&"right"===(x=w[D]).textAlign;)_r(e,t,x,i,M,v,C,"right"),I-=x.width,C-=x.width,D--;for(T+=(o-(T-m)-(y-C)-I)/2;A<=D;)_r(e,t,x=w[A],i,M,v,T+x.width/2,"center"),T+=x.width,A++;v+=M}}(e,t,a,i,r)}(e,t,n,i,r,o):function(e,t,n,i,r,o){var a,s=xr(i),l=!1,u=t.__attrCachedBy===ur.PLAIN_TEXT;o!==cr?(o&&(a=o.style,l=!s&&u&&a),t.__attrCachedBy=s?ur.NONE:ur.PLAIN_TEXT):u&&(t.__attrCachedBy=ur.NONE);var c=i.font||hr;l&&c===(a.font||hr)||(t.font=c);var h=e.__computedFont;e.__styleFont!==c&&(e.__styleFont=c,h=e.__computedFont=t.font);var d=i.textPadding,f=i.textLineHeight,p=e.__textCotentBlock;p&&!e.__dirtyText||(p=e.__textCotentBlock=rr.parsePlainText(n,h,d,f,i.truncate));var g=p.outerHeight,m=p.lines,v=p.lineHeight,y=Sr(mr,e,i,r),_=y.baseX,x=y.baseY,b=y.textAlign||"left",w=y.textVerticalAlign;yr(t,i,r,_,x);var S=rr.adjustTextY(x,g,w),M=_,I=S;if(s||d){var A=rr.getWidth(n,h);d&&(A+=d[1]+d[3]);var T=rr.adjustTextX(_,A,b);s&&br(e,t,i,T,S,A,g),d&&(M=Cr(_,b,d),I+=d[0])}t.textAlign=b,t.textBaseline="middle",t.globalAlpha=i.opacity||1;for(var C=0;C<pr.length;C++){var D=pr[C],P=D[0],L=D[1],k=i[P];l&&k===a[P]||(t[L]=sr(t,L,k||D[2]))}I+=v/2;var O=i.textStrokeWidth,N=l?a.textStrokeWidth:null,R=!l||O!==N,E=!l||R||i.textStroke!==a.textStroke,z=Ir(i.textStroke,O),B=Ar(i.textFill);z&&(R&&(t.lineWidth=O),E&&(t.strokeStyle=z));B&&(l&&i.textFill===a.textFill||(t.fillStyle=B));if(1===m.length)z&&t.strokeText(m[0],M,I),B&&t.fillText(m[0],M,I);else for(C=0;C<m.length;C++)z&&t.strokeText(m[C],M,I),B&&t.fillText(m[C],M,I),I+=v}(e,t,n,i,r,o)},_i.getBoxPosition=Sr,_i.getStroke=Ir,_i.getFill=Ar,_i.parsePercent=Tr,_i.needDrawText=function(e,t){return null!=e&&(e||t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor||t.textPadding)};var Dr=_i,Pr=Pn,Lr=Jn.WILL_BE_RESTORED,kr=new Pr,Or=function(){};Or.prototype={constructor:Or,drawRectText:function(e,t){var n=this.style;t=n.textRect||t,this.__dirty&&Dr.normalizeTextStyle(n,!0);var i=n.text;if(null!=i&&(i+=""),Dr.needDrawText(i,n)){e.save();var r=this.transform;n.transformText?this.setTransform(e):r&&(kr.copy(t),kr.applyTransform(r),t=kr),Dr.renderText(this,e,i,n,t,Lr),e.restore()}}};var Nr=Or,Rr=g,Er=si,zr=Mn,Br=Nr;function Vr(e){for(var t in e=e||{},zr.call(this,e),e)e.hasOwnProperty(t)&&"style"!==t&&(this[t]=e[t]);this.style=new Er(e.style,this),this._rect=null,this.__clipPaths=null}Vr.prototype={constructor:Vr,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,t){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var n=this.transformCoordToLocal(e,t);return this.getBoundingRect().contain(n[0],n[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){"style"!==e?zr.prototype.attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new Er(e,this),this.dirty(!1),this},calculateTextPosition:null},Rr.inherits(Vr,zr),Rr.mixin(Vr,Br);var Gr=Vr,Fr=Gr,Hr=Pn,Wr=g,Ur=bi;function jr(e){Fr.call(this,e)}jr.prototype={constructor:jr,type:"image",brush:function(e,t){var n=this.style,i=n.image;n.bind(e,this,t);var r=this._image=Ur.createOrUpdateImage(i,this._image,this,this.onload);if(r&&Ur.isImageReady(r)){var o=n.x||0,a=n.y||0,s=n.width,l=n.height,u=r.width/r.height;if(null==s&&null!=l?s=l*u:null==l&&null!=s?l=s/u:null==s&&null==l&&(s=r.width,l=r.height),this.setTransform(e),n.sWidth&&n.sHeight){var c=n.sx||0,h=n.sy||0;e.drawImage(r,c,h,n.sWidth,n.sHeight,o,a,s,l)}else if(n.sx&&n.sy){var d=s-(c=n.sx),f=l-(h=n.sy);e.drawImage(r,c,h,d,f,o,a,s,l)}else e.drawImage(r,o,a,s,l);null!=n.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new Hr(e.x||0,e.y||0,e.width||0,e.height||0)),this._rect}},Wr.inherits(jr,Fr);var Zr=jr,Yr=Kt.devicePixelRatio,Xr=g,qr=en,Kr=Pn,Jr=Fn,Qr=vi,$r=yi,eo=Zr,to=p;function no(e){return parseInt(e,10)}var io=new Kr(0,0,0,0),ro=new Kr(0,0,0,0);var oo=function(e,t,n){this.type="canvas";var i=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=n=Xr.extend({},n||{}),this.dpr=n.devicePixelRatio||Yr,this._singleCanvas=i,this.root=e;var r=e.style;r&&(r["-webkit-tap-highlight-color"]="transparent",r["-webkit-user-select"]=r["user-select"]=r["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var o=this._zlevelList=[],a=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,i){var s=e.width,l=e.height;null!=n.width&&(s=n.width),null!=n.height&&(l=n.height),this.dpr=n.devicePixelRatio||1,e.width=s*this.dpr,e.height=l*this.dpr,this._width=s,this._height=l;var u=new Qr(e,this,this.dpr);u.__builtin__=!0,u.initContext(),a[314159]=u,u.zlevel=314159,o.push(314159),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var c=this._domRoot=function(e,t){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}(this._width,this._height);e.appendChild(c)}this._hoverlayer=null,this._hoverElements=[]};oo.prototype={constructor:oo,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(e){var t=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,e,this._redrawId);for(var i=0;i<n.length;i++){var r=n[i],o=this._layers[r];if(!o.__builtin__&&o.refresh){var a=0===i?this._backgroundColor:null;o.refresh(a)}}return this.refreshHover(),this},addHover:function(e,t){if(!e.__hoverMir){var n=new e.constructor({style:e.style,shape:e.shape,z:e.z,z2:e.z2,silent:e.silent});return n.__from=e,e.__hoverMir=n,t&&n.setStyle(t),this._hoverElements.push(n),n}},removeHover:function(e){var t=e.__hoverMir,n=this._hoverElements,i=Xr.indexOf(n,t);i>=0&&n.splice(i,1),e.__hoverMir=null},clearHover:function(e){for(var t=this._hoverElements,n=0;n<t.length;n++){var i=t[n].__from;i&&(i.__hoverMir=null)}t.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,n=this._hoverlayer;if(n&&n.clear(),t){Jr(e,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(1e5));var i={};n.ctx.save();for(var r=0;r<t;){var o=e[r],a=o.__from;a&&a.__zr?(r++,a.invisible||(o.transform=a.transform,o.invTransform=a.invTransform,o.__clipPaths=a.__clipPaths,this._doPaintEl(o,n,!0,i))):(e.splice(r,1),a.__hoverMir=null,t--)}n.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(e,t,n){if(this._redrawId===n){t=t||!1,this._updateLayerStatus(e);var i=this._doPaintList(e,t);if(this._needsManuallyCompositing&&this._compositeManually(),!i){var r=this;$r((function(){r._paintList(e,t,n)}))}}},_compositeManually:function(){var e=this.getLayer(314159).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer((function(i){i.virtual&&e.drawImage(i.dom,0,0,t,n)}))},_doPaintList:function(e,t){for(var n=[],i=0;i<this._zlevelList.length;i++){var r=this._zlevelList[i];(s=this._layers[r]).__builtin__&&s!==this._hoverlayer&&(s.__dirty||t)&&n.push(s)}for(var o=!0,a=0;a<n.length;a++){var s,l=(s=n[a]).ctx,u={};l.save();var c=t?s.__startIndex:s.__drawIndex,h=!t&&s.incremental&&Date.now,d=h&&Date.now(),f=s.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(s.__startIndex===s.__endIndex)s.clear(!1,f);else if(c===s.__startIndex){var p=e[c];p.incremental&&p.notClear&&!t||s.clear(!1,f)}-1===c&&(console.error("For some unknown reason. drawIndex is -1"),c=s.__startIndex);for(var g=c;g<s.__endIndex;g++){var m=e[g];if(this._doPaintEl(m,s,t,u),m.__dirty=m.__dirtyText=!1,h)if(Date.now()-d>15)break}s.__drawIndex=g,s.__drawIndex<s.__endIndex&&(o=!1),u.prevElClipPaths&&l.restore(),l.restore()}return to.wxa&&Xr.each(this._layers,(function(e){e&&e.ctx&&e.ctx.draw&&e.ctx.draw()})),o},_doPaintEl:function(e,t,n,i){var r=t.ctx,o=e.transform;if((t.__dirty||n)&&!e.invisible&&0!==e.style.opacity&&(!o||o[0]||o[3])&&(!e.culling||!function(e,t,n){return io.copy(e.getBoundingRect()),e.transform&&io.applyTransform(e.transform),ro.width=t,ro.height=n,!io.intersect(ro)}(e,this._width,this._height))){var a=e.__clipPaths,s=i.prevElClipPaths;s&&!function(e,t){if(e===t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1}(a,s)||(s&&(r.restore(),i.prevElClipPaths=null,i.prevEl=null),a&&(r.save(),function(e,t){for(var n=0;n<e.length;n++){var i=e[n];i.setTransform(t),t.beginPath(),i.buildPath(t,i.shape),t.clip(),i.restoreTransform(t)}}(a,r),i.prevElClipPaths=a)),e.beforeBrush&&e.beforeBrush(r),e.brush(r,i.prevEl||null),i.prevEl=e,e.afterBrush&&e.afterBrush(r)}},getLayer:function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=314159);var n=this._layers[e];return n||((n=new Qr("zr_"+e,this,this.dpr)).zlevel=e,n.__builtin__=!0,this._layerConfig[e]?Xr.merge(n,this._layerConfig[e],!0):this._layerConfig[e-.01]&&Xr.merge(n,this._layerConfig[e-.01],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},insertLayer:function(e,t){var n=this._layers,i=this._zlevelList,r=i.length,o=null,a=-1,s=this._domRoot;if(n[e])qr("ZLevel "+e+" has been used already");else if(function(e){return!!e&&(!!e.__builtin__||"function"==typeof e.resize&&"function"==typeof e.refresh)}(t)){if(r>0&&e>i[0]){for(a=0;a<r-1&&!(i[a]<e&&i[a+1]>e);a++);o=n[i[a]]}if(i.splice(a+1,0,e),n[e]=t,!t.virtual)if(o){var l=o.dom;l.nextSibling?s.insertBefore(t.dom,l.nextSibling):s.appendChild(t.dom)}else s.firstChild?s.insertBefore(t.dom,s.firstChild):s.appendChild(t.dom)}else qr("Layer of zlevel "+e+" is not valid")},eachLayer:function(e,t){var n,i,r=this._zlevelList;for(i=0;i<r.length;i++)n=r[i],e.call(t,this._layers[n],n)},eachBuiltinLayer:function(e,t){var n,i,r,o=this._zlevelList;for(r=0;r<o.length;r++)i=o[r],(n=this._layers[i]).__builtin__&&e.call(t,n,i)},eachOtherLayer:function(e,t){var n,i,r,o=this._zlevelList;for(r=0;r<o.length;r++)i=o[r],(n=this._layers[i]).__builtin__||e.call(t,n,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){function t(e){r&&(r.__endIndex!==e&&(r.__dirty=!0),r.__endIndex=e)}if(this.eachBuiltinLayer((function(e,t){e.__dirty=e.__used=!1})),this._singleCanvas)for(var n=1;n<e.length;n++){if((a=e[n]).zlevel!==e[n-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}var i,r=null,o=0;for(n=0;n<e.length;n++){var a,s,l=(a=e[n]).zlevel;i!==l&&(i=l,o=0),a.incremental?((s=this.getLayer(l+.001,this._needsManuallyCompositing)).incremental=!0,o=1):s=this.getLayer(l+(o>0?.01:0),this._needsManuallyCompositing),s.__builtin__||qr("ZLevel "+l+" has been used by unkown layer "+s.id),s!==r&&(s.__used=!0,s.__startIndex!==n&&(s.__dirty=!0),s.__startIndex=n,s.incremental?s.__drawIndex=-1:s.__drawIndex=n,t(n),r=s),a.__dirty&&(s.__dirty=!0,s.incremental&&s.__drawIndex<0&&(s.__drawIndex=n))}t(n),this.eachBuiltinLayer((function(e,t){!e.__used&&e.getElementCount()>0&&(e.__dirty=!0,e.__startIndex=e.__endIndex=e.__drawIndex=0),e.__dirty&&e.__drawIndex<0&&(e.__drawIndex=e.__startIndex)}))},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},setBackgroundColor:function(e){this._backgroundColor=e},configLayer:function(e,t){if(t){var n=this._layerConfig;n[e]?Xr.merge(n[e],t,!0):n[e]=t;for(var i=0;i<this._zlevelList.length;i++){var r=this._zlevelList[i];if(r===e||r===e+.01){var o=this._layers[r];Xr.merge(o,n[e],!0)}}}},delLayer:function(e){var t=this._layers,n=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],n.splice(Xr.indexOf(n,e),1))},resize:function(e,t){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts;if(null!=e&&(i.width=e),null!=t&&(i.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display="",this._width!==e||t!==this._height){for(var r in n.style.width=e+"px",n.style.height=t+"px",this._layers)this._layers.hasOwnProperty(r)&&this._layers[r].resize(e,t);Xr.each(this._progressiveLayers,(function(n){n.resize(e,t)})),this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(314159).resize(e,t)}return this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var t=new Qr("image",this,e.pixelRatio||this.dpr);if(t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor),e.pixelRatio<=this.dpr){this.refresh();var n=t.dom.width,i=t.dom.height,r=t.ctx;this.eachLayer((function(e){e.__builtin__?r.drawImage(e.dom,0,0,n,i):e.renderToCanvas&&(t.ctx.save(),e.renderToCanvas(t.ctx),t.ctx.restore())}))}else for(var o={},a=this.storage.getDisplayList(!0),s=0;s<a.length;s++){var l=a[s];this._doPaintEl(l,t,!0,o)}return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,n=["width","height"][e],i=["clientWidth","clientHeight"][e],r=["paddingLeft","paddingTop"][e],o=["paddingRight","paddingBottom"][e];if(null!=t[n]&&"auto"!==t[n])return parseFloat(t[n]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[i]||no(s[n])||no(a.style[n]))-(no(s[r])||0)-(no(s[o])||0)|0},pathToImage:function(e,t){t=t||this.dpr;var n=document.createElement("canvas"),i=n.getContext("2d"),r=e.getBoundingRect(),o=e.style,a=o.shadowBlur*t,s=o.shadowOffsetX*t,l=o.shadowOffsetY*t,u=o.hasStroke()?o.lineWidth:0,c=Math.max(u/2,-s+a),h=Math.max(u/2,s+a),d=Math.max(u/2,-l+a),f=Math.max(u/2,l+a),p=r.width+c+h,g=r.height+d+f;n.width=p*t,n.height=g*t,i.scale(t,t),i.clearRect(0,0,p,g),i.dpr=t;var m={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[c-r.x,d-r.y],e.rotation=0,e.scale=[1,1],e.updateTransform(),e&&e.brush(i);var v=new eo({style:{x:0,y:0,image:n}});return null!=m.position&&(v.position=e.position=m.position),null!=m.rotation&&(v.rotation=e.rotation=m.rotation),null!=m.scale&&(v.scale=e.scale=m.scale),v}};var ao=oo,so=g,lo=ne.Dispatcher,uo=yi,co=qt,ho=function(e){e=e||{},this.stage=e.stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,lo.call(this)};ho.prototype={constructor:ho,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;for(var t=e.getClips(),n=0;n<t.length;n++)this.addClip(t[n])},removeClip:function(e){var t=so.indexOf(this._clips,e);t>=0&&this._clips.splice(t,1)},removeAnimator:function(e){for(var t=e.getClips(),n=0;n<t.length;n++)this.removeClip(t[n]);e.animation=null},_update:function(){for(var e=(new Date).getTime()-this._pausedTime,t=e-this._time,n=this._clips,i=n.length,r=[],o=[],a=0;a<i;a++){var s=n[a],l=s.step(e,t);l&&(r.push(l),o.push(s))}for(a=0;a<i;)n[a]._needsRemove?(n[a]=n[i-1],n.pop(),i--):a++;i=r.length;for(a=0;a<i;a++)o[a].fire(r[a]);this._time=e,this.onframe(t),this.trigger("frame",t),this.stage.update&&this.stage.update()},_startLoop:function(){var e=this;this._running=!0,uo((function t(){e._running&&(uo(t),!e._paused&&e._update())}))},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(e,t){var n=new co(e,(t=t||{}).loop,t.getter,t.setter);return this.addAnimator(n),n}},so.mixin(ho,lo);var fo,po,go=ho,mo=ne,vo=mo.addEventListener,yo=mo.removeEventListener,_o=mo.normalizeEvent,xo=mo.getNativeEvent,bo=g,wo=te,So=p,Mo=So.domSupported,Io=(po={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:fo=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:bo.map(fo,(function(e){var t=e.replace("mouse","pointer");return po.hasOwnProperty(t)?t:e}))}),Ao=["mousemove","mouseup"],To=["pointermove","pointerup"];function Co(e){return"mousewheel"===e&&So.browser.firefox?"DOMMouseScroll":e}function Do(e){var t=e.pointerType;return"pen"===t||"touch"===t}function Po(e){e&&(e.zrByTouch=!0)}function Lo(e,t){for(var n=t,i=!1;n&&9!==n.nodeType&&!(i=n.domBelongToZr||n!==t&&n===e.painterRoot);)n=n.parentNode;return i}function ko(e,t){this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}var Oo=ko.prototype;Oo.stopPropagation=Oo.stopImmediatePropagation=Oo.preventDefault=bo.noop;var No={mousedown:function(e){e=_o(this.dom,e),this._mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=_o(this.dom,e);var t=this._mayPointerCapture;!t||e.zrX===t[0]&&e.zrY===t[1]||Go(this,!0),this.trigger("mousemove",e)},mouseup:function(e){e=_o(this.dom,e),Go(this,!1),this.trigger("mouseup",e)},mouseout:function(e){e=_o(this.dom,e),this._pointerCapturing&&(e.zrEventControl="no_globalout");var t=e.toElement||e.relatedTarget;e.zrIsToLocalDOM=Lo(this,t),this.trigger("mouseout",e)},touchstart:function(e){Po(e=_o(this.dom,e)),this._lastTouchMoment=new Date,this.handler.processGesture(e,"start"),No.mousemove.call(this,e),No.mousedown.call(this,e)},touchmove:function(e){Po(e=_o(this.dom,e)),this.handler.processGesture(e,"change"),No.mousemove.call(this,e)},touchend:function(e){Po(e=_o(this.dom,e)),this.handler.processGesture(e,"end"),No.mouseup.call(this,e),+new Date-this._lastTouchMoment<300&&No.click.call(this,e)},pointerdown:function(e){No.mousedown.call(this,e)},pointermove:function(e){Do(e)||No.mousemove.call(this,e)},pointerup:function(e){No.mouseup.call(this,e)},pointerout:function(e){Do(e)||No.mouseout.call(this,e)}};bo.each(["click","mousewheel","dblclick","contextmenu"],(function(e){No[e]=function(t){t=_o(this.dom,t),this.trigger(e,t)}}));var Ro={pointermove:function(e){Do(e)||Ro.mousemove.call(this,e)},pointerup:function(e){Ro.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this._pointerCapturing;Go(this,!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function Eo(e,t){var n=t.domHandlers;So.pointerEventsSupported?bo.each(Io.pointer,(function(i){Bo(t,i,(function(t){n[i].call(e,t)}))})):(So.touchEventsSupported&&bo.each(Io.touch,(function(i){Bo(t,i,(function(r){n[i].call(e,r),function(e){e.touching=!0,null!=e.touchTimer&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout((function(){e.touching=!1,e.touchTimer=null}),700)}(t)}))})),bo.each(Io.mouse,(function(i){Bo(t,i,(function(r){r=xo(r),t.touching||n[i].call(e,r)}))})))}function zo(e,t){function n(n){Bo(t,n,(function(i){i=xo(i),Lo(e,i.target)||(i=function(e,t){return _o(e.dom,new ko(e,t),!0)}(e,i),t.domHandlers[n].call(e,i))}),{capture:!0})}So.pointerEventsSupported?bo.each(To,n):So.touchEventsSupported||bo.each(Ao,n)}function Bo(e,t,n,i){e.mounted[t]=n,e.listenerOpts[t]=i,vo(e.domTarget,Co(t),n,i)}function Vo(e){var t=e.mounted;for(var n in t)t.hasOwnProperty(n)&&yo(e.domTarget,Co(n),t[n],e.listenerOpts[n]);e.mounted={}}function Go(e,t){if(e._mayPointerCapture=null,Mo&&e._pointerCapturing^t){e._pointerCapturing=t;var n=e._globalHandlerScope;t?zo(e,n):Vo(n)}}function Fo(e,t){this.domTarget=e,this.domHandlers=t,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function Ho(e,t){wo.call(this),this.dom=e,this.painterRoot=t,this._localHandlerScope=new Fo(e,No),Mo&&(this._globalHandlerScope=new Fo(document,Ro)),this._pointerCapturing=!1,this._mayPointerCapture=null,Eo(this,this._localHandlerScope)}var Wo=Ho.prototype;Wo.dispose=function(){Vo(this._localHandlerScope),Mo&&Vo(this._globalHandlerScope)},Wo.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},bo.mixin(Ho,wo);var Uo=f,jo=p,Zo=g,Yo=Ge,Xo=Xn,qo=ao,Ko=go,Jo=Ho,Qo=!jo.canvasSupported,$o={canvas:qo},ea={};var ta=function(e,t,n){n=n||{},this.dom=t,this.id=e;var i=this,r=new Xo,o=n.renderer;if(Qo){if(!$o.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");o="vml"}else o&&$o[o]||(o="canvas");var a=new $o[o](t,r,n,e);this.storage=r,this.painter=a;var s=jo.node||jo.worker?null:new Jo(a.getViewportRoot(),a.root);this.handler=new Yo(r,a,s,a.root),this.animation=new Ko({stage:{update:Zo.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var l=r.delFromStorage,u=r.addToStorage;r.delFromStorage=function(e){l.call(r,e),e&&e.removeSelfFromZr(i)},r.addToStorage=function(e){u.call(r,e),e.addSelfToZr(i)}};ta.prototype={constructor:ta,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this._needsRefresh=!0},setBackgroundColor:function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var e;this._needsRefresh&&(e=!0,this.refreshImmediately()),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately()),e&&this.trigger("rendered")},addHover:function(e,t){if(this.painter.addHover){var n=this.painter.addHover(e,t);return this.refreshHover(),n}},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,t){return this.painter.pathToImage(e,t)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,t){return this.handler.findHover(e,t)},on:function(e,t,n){this.handler.on(e,t,n)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler.trigger(e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){var e;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,e=this.id,delete ea[e]}},h.version="4.3.2",h.init=function(e,t){var n=new ta(Uo(),e,t);return ea[n.id]=n,n},h.dispose=function(e){if(e)e.dispose();else{for(var t in ea)ea.hasOwnProperty(t)&&ea[t].dispose();ea={}}return this},h.getInstance=function(e){return ea[e]},h.registerPainter=function(e,t){$o[e]=t};var na={},ia=g,ra=p,oa=ia.each,aa=ia.isObject,sa=ia.isArray;function la(e){return e instanceof Array?e:null==e?[]:[e]}function ua(e){return aa(e)&&e.id&&0===(e.id+"").indexOf("\0_ec_\0")}var ca=0;function ha(e,t){return e&&e.hasOwnProperty(t)}na.normalizeToArray=la,na.defaultEmphasis=function(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var i=0,r=n.length;i<r;i++){var o=n[i];!e.emphasis[t].hasOwnProperty(o)&&e[t].hasOwnProperty(o)&&(e.emphasis[t][o]=e[t][o])}}},na.TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],na.getDataItemValue=function(e){return!aa(e)||sa(e)||e instanceof Date?e:e.value},na.isDataItemOption=function(e){return aa(e)&&!(e instanceof Array)},na.mappingToExists=function(e,t){t=(t||[]).slice();var n=ia.map(e||[],(function(e,t){return{exist:e}}));return oa(t,(function(e,i){if(aa(e)){for(var r=0;r<n.length;r++)if(!n[r].option&&null!=e.id&&n[r].exist.id===e.id+"")return n[r].option=e,void(t[i]=null);for(r=0;r<n.length;r++){var o=n[r].exist;if(!(n[r].option||null!=o.id&&null!=e.id||null==e.name||ua(e)||ua(o)||o.name!==e.name+""))return n[r].option=e,void(t[i]=null)}}})),oa(t,(function(e,t){if(aa(e)){for(var i=0;i<n.length;i++){var r=n[i].exist;if(!n[i].option&&!ua(r)&&null==e.id){n[i].option=e;break}}i>=n.length&&n.push({option:e})}})),n},na.makeIdAndName=function(e){var t=ia.createHashMap();oa(e,(function(e,n){var i=e.exist;i&&t.set(i.id,e)})),oa(e,(function(e,n){var i=e.option;ia.assert(!i||null==i.id||!t.get(i.id)||t.get(i.id)===e,"id duplicates: "+(i&&i.id)),i&&null!=i.id&&t.set(i.id,e),!e.keyInfo&&(e.keyInfo={})})),oa(e,(function(e,n){var i=e.exist,r=e.option,o=e.keyInfo;if(aa(r)){if(o.name=null!=r.name?r.name+"":i?i.name:"series\0"+n,i)o.id=i.id;else if(null!=r.id)o.id=r.id+"";else{var a=0;do{o.id="\0"+o.name+"\0"+a++}while(t.get(o.id))}t.set(o.id,e)}}))},na.isNameSpecified=function(e){var t=e.name;return!(!t||!t.indexOf("series\0"))},na.isIdInner=ua,na.compressBatches=function(e,t){var n={},i={};return r(e||[],n),r(t||[],i,n),[o(n),o(i)];function r(e,t,n){for(var i=0,r=e.length;i<r;i++)for(var o=e[i].seriesId,a=la(e[i].dataIndex),s=n&&n[o],l=0,u=a.length;l<u;l++){var c=a[l];s&&s[c]?s[c]=null:(t[o]||(t[o]={}))[c]=1}}function o(e,t){var n=[];for(var i in e)if(e.hasOwnProperty(i)&&null!=e[i])if(t)n.push(+i);else{var r=o(e[i],!0);r.length&&n.push({seriesId:i,dataIndex:r})}return n}},na.queryDataIndex=function(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?ia.isArray(t.dataIndex)?ia.map(t.dataIndex,(function(t){return e.indexOfRawIndex(t)})):e.indexOfRawIndex(t.dataIndex):null!=t.name?ia.isArray(t.name)?ia.map(t.name,(function(t){return e.indexOfName(t)})):e.indexOfName(t.name):void 0},na.makeInner=function(){var e="__\0ec_inner_"+ca+++"_"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}},na.parseFinder=function(e,t,n){if(ia.isString(t)){var i={};i[t+"Index"]=0,t=i}var r=n&&n.defaultMainType;!r||ha(t,r+"Index")||ha(t,r+"Id")||ha(t,r+"Name")||(t[r+"Index"]=0);var o={};return oa(t,(function(i,r){i=t[r];if("dataIndex"!==r&&"dataIndexInside"!==r){var a=r.match(/^(\w+)(Index|Id|Name)$/)||[],s=a[1],l=(a[2]||"").toLowerCase();if(!(!s||!l||null==i||"index"===l&&"none"===i||n&&n.includeMainTypes&&ia.indexOf(n.includeMainTypes,s)<0)){var u={mainType:s};"index"===l&&"all"===i||(u[l]=i);var c=e.queryComponents(u);o[s+"Models"]=c,o[s+"Model"]=c[0]}}else o[r]=i})),o},na.setAttribute=function(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n},na.getAttribute=function(e,t){return e.getAttribute?e.getAttribute(t):e[t]},na.getTooltipRenderMode=function(e){return"auto"===e?ra.domSupported?"html":"richText":e||"html"},na.groupData=function(e,t){var n=ia.createHashMap(),i=[];return ia.each(e,(function(e){var r=t(e);(n.get(r)||(i.push(r),n.set(r,[]))).push(e)})),{keys:i,buckets:n}};var da={},fa=g,pa="___EC__COMPONENT__CONTAINER___";function ga(e){var t={main:"",sub:""};return e&&(e=e.split("."),t.main=e[0]||"",t.sub=e[1]||""),t}var ma=0;function va(e,t){var n=fa.slice(arguments,2);return this.superClass.prototype[t].apply(e,n)}function ya(e,t,n){return this.superClass.prototype[t].apply(e,n)}da.parseClassType=ga,da.enableClassExtend=function(e,t){e.$constructor=e,e.extend=function(e){var t=this,n=function(){e.$constructor?e.$constructor.apply(this,arguments):t.apply(this,arguments)};return fa.extend(n.prototype,e),n.extend=this.extend,n.superCall=va,n.superApply=ya,fa.inherits(n,this),n.superClass=t,n}},da.enableClassCheck=function(e){var t=["__\0is_clz",ma++,Math.random().toFixed(3)].join("_");e.prototype[t]=!0,e.isInstance=function(e){return!(!e||!e[t])}},da.enableClassManagement=function(e,t){t=t||{};var n={};if(e.registerClass=function(e,t){if(t)if(function(e){fa.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}(t),(t=ga(t)).sub){if(t.sub!==pa){(function(e){var t=n[e.main];t&&t[pa]||((t=n[e.main]={})[pa]=!0);return t}(t))[t.sub]=e}}else n[t.main]=e;return e},e.getClass=function(e,t,i){var r=n[e];if(r&&r[pa]&&(r=t?r[t]:null),i&&!r)throw new Error(t?"Component "+e+"."+(t||"")+" not exists. Load it first.":e+".type should be specified.");return r},e.getClassesByMainType=function(e){e=ga(e);var t=[],i=n[e.main];return i&&i[pa]?fa.each(i,(function(e,n){n!==pa&&t.push(e)})):t.push(i),t},e.hasClass=function(e){return e=ga(e),!!n[e.main]},e.getAllClassMainTypes=function(){var e=[];return fa.each(n,(function(t,n){e.push(n)})),e},e.hasSubTypes=function(e){e=ga(e);var t=n[e.main];return t&&t[pa]},e.parseClassType=ga,t.registerWhenExtend){var i=e.extend;i&&(e.extend=function(t){var n=i.call(this,t);return e.registerClass(n,t.type)})}return e},da.setReadOnly=function(e,t){};var _a=g;var xa=function(e){for(var t=0;t<e.length;t++)e[t][1]||(e[t][1]=e[t][0]);return function(t,n,i){for(var r={},o=0;o<e.length;o++){var a=e[o][1];if(!(n&&_a.indexOf(n,a)>=0||i&&_a.indexOf(i,a)<0)){var s=t.getShallow(a);null!=s&&(r[e[o][0]]=s)}}return r}},ba=xa([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),wa={getLineStyle:function(e){var t=ba(this,e);return t.lineDash=this.getLineDash(t.lineWidth),t},getLineDash:function(e){null==e&&(e=1);var t=this.get("type"),n=Math.max(e,2),i=4*e;return"solid"!==t&&null!=t&&("dashed"===t?[i,i]:[n,n])}},Sa=xa([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),Ma={getAreaStyle:function(e,t){return Sa(this,e,t)}},Ia={},Aa={},Ta={},Ca=V,Da=Ca.create,Pa=Ca.distSquare,La=Math.pow,ka=Math.sqrt,Oa=ka(3),Na=1/3,Ra=Da(),Ea=Da(),za=Da();function Ba(e){return e>-1e-8&&e<1e-8}function Va(e){return e>1e-8||e<-1e-8}function Ga(e,t,n,i,r){var o=1-r;return o*o*(o*e+3*r*t)+r*r*(r*i+3*o*n)}function Fa(e,t,n,i){var r=1-i;return r*(r*e+2*i*t)+i*i*n}Ta.cubicAt=Ga,Ta.cubicDerivativeAt=function(e,t,n,i,r){var o=1-r;return 3*(((t-e)*o+2*(n-t)*r)*o+(i-n)*r*r)},Ta.cubicRootAt=function(e,t,n,i,r,o){var a=i+3*(t-n)-e,s=3*(n-2*t+e),l=3*(t-e),u=e-r,c=s*s-3*a*l,h=s*l-9*a*u,d=l*l-3*s*u,f=0;if(Ba(c)&&Ba(h)){if(Ba(s))o[0]=0;else(M=-l/s)>=0&&M<=1&&(o[f++]=M)}else{var p=h*h-4*c*d;if(Ba(p)){var g=h/c,m=-g/2;(M=-s/a+g)>=0&&M<=1&&(o[f++]=M),m>=0&&m<=1&&(o[f++]=m)}else if(p>0){var v=ka(p),y=c*s+1.5*a*(-h+v),_=c*s+1.5*a*(-h-v);(M=(-s-((y=y<0?-La(-y,Na):La(y,Na))+(_=_<0?-La(-_,Na):La(_,Na))))/(3*a))>=0&&M<=1&&(o[f++]=M)}else{var x=(2*c*s-3*a*h)/(2*ka(c*c*c)),b=Math.acos(x)/3,w=ka(c),S=Math.cos(b),M=(-s-2*w*S)/(3*a),I=(m=(-s+w*(S+Oa*Math.sin(b)))/(3*a),(-s+w*(S-Oa*Math.sin(b)))/(3*a));M>=0&&M<=1&&(o[f++]=M),m>=0&&m<=1&&(o[f++]=m),I>=0&&I<=1&&(o[f++]=I)}}return f},Ta.cubicExtrema=function(e,t,n,i,r){var o=6*n-12*t+6*e,a=9*t+3*i-3*e-9*n,s=3*t-3*e,l=0;if(Ba(a)){if(Va(o))(c=-s/o)>=0&&c<=1&&(r[l++]=c)}else{var u=o*o-4*a*s;if(Ba(u))r[0]=-o/(2*a);else if(u>0){var c,h=ka(u),d=(-o-h)/(2*a);(c=(-o+h)/(2*a))>=0&&c<=1&&(r[l++]=c),d>=0&&d<=1&&(r[l++]=d)}}return l},Ta.cubicSubdivide=function(e,t,n,i,r,o){var a=(t-e)*r+e,s=(n-t)*r+t,l=(i-n)*r+n,u=(s-a)*r+a,c=(l-s)*r+s,h=(c-u)*r+u;o[0]=e,o[1]=a,o[2]=u,o[3]=h,o[4]=h,o[5]=c,o[6]=l,o[7]=i},Ta.cubicProjectPoint=function(e,t,n,i,r,o,a,s,l,u,c){var h,d,f,p,g,m=.005,v=1/0;Ra[0]=l,Ra[1]=u;for(var y=0;y<1;y+=.05)Ea[0]=Ga(e,n,r,a,y),Ea[1]=Ga(t,i,o,s,y),(p=Pa(Ra,Ea))<v&&(h=y,v=p);v=1/0;for(var _=0;_<32&&!(m<1e-4);_++)d=h-m,f=h+m,Ea[0]=Ga(e,n,r,a,d),Ea[1]=Ga(t,i,o,s,d),p=Pa(Ea,Ra),d>=0&&p<v?(h=d,v=p):(za[0]=Ga(e,n,r,a,f),za[1]=Ga(t,i,o,s,f),g=Pa(za,Ra),f<=1&&g<v?(h=f,v=g):m*=.5);return c&&(c[0]=Ga(e,n,r,a,h),c[1]=Ga(t,i,o,s,h)),ka(v)},Ta.quadraticAt=Fa,Ta.quadraticDerivativeAt=function(e,t,n,i){return 2*((1-i)*(t-e)+i*(n-t))},Ta.quadraticRootAt=function(e,t,n,i,r){var o=e-2*t+n,a=2*(t-e),s=e-i,l=0;if(Ba(o)){if(Va(a))(c=-s/a)>=0&&c<=1&&(r[l++]=c)}else{var u=a*a-4*o*s;if(Ba(u))(c=-a/(2*o))>=0&&c<=1&&(r[l++]=c);else if(u>0){var c,h=ka(u),d=(-a-h)/(2*o);(c=(-a+h)/(2*o))>=0&&c<=1&&(r[l++]=c),d>=0&&d<=1&&(r[l++]=d)}}return l},Ta.quadraticExtremum=function(e,t,n){var i=e+n-2*t;return 0===i?.5:(e-t)/i},Ta.quadraticSubdivide=function(e,t,n,i,r){var o=(t-e)*i+e,a=(n-t)*i+t,s=(a-o)*i+o;r[0]=e,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=n},Ta.quadraticProjectPoint=function(e,t,n,i,r,o,a,s,l){var u,c=.005,h=1/0;Ra[0]=a,Ra[1]=s;for(var d=0;d<1;d+=.05){Ea[0]=Fa(e,n,r,d),Ea[1]=Fa(t,i,o,d),(m=Pa(Ra,Ea))<h&&(u=d,h=m)}h=1/0;for(var f=0;f<32&&!(c<1e-4);f++){var p=u-c,g=u+c;Ea[0]=Fa(e,n,r,p),Ea[1]=Fa(t,i,o,p);var m=Pa(Ea,Ra);if(p>=0&&m<h)u=p,h=m;else{za[0]=Fa(e,n,r,g),za[1]=Fa(t,i,o,g);var v=Pa(za,Ra);g<=1&&v<h?(u=g,h=v):c*=.5}}return l&&(l[0]=Fa(e,n,r,u),l[1]=Fa(t,i,o,u)),ka(h)};var Ha={},Wa=V,Ua=Ta,ja=Math.min,Za=Math.max,Ya=Math.sin,Xa=Math.cos,qa=2*Math.PI,Ka=Wa.create(),Ja=Wa.create(),Qa=Wa.create();var $a=[],es=[];Ha.fromPoints=function(e,t,n){if(0!==e.length){var i,r=e[0],o=r[0],a=r[0],s=r[1],l=r[1];for(i=1;i<e.length;i++)r=e[i],o=ja(o,r[0]),a=Za(a,r[0]),s=ja(s,r[1]),l=Za(l,r[1]);t[0]=o,t[1]=s,n[0]=a,n[1]=l}},Ha.fromLine=function(e,t,n,i,r,o){r[0]=ja(e,n),r[1]=ja(t,i),o[0]=Za(e,n),o[1]=Za(t,i)},Ha.fromCubic=function(e,t,n,i,r,o,a,s,l,u){var c,h=Ua.cubicExtrema,d=Ua.cubicAt,f=h(e,n,r,a,$a);for(l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0,c=0;c<f;c++){var p=d(e,n,r,a,$a[c]);l[0]=ja(p,l[0]),u[0]=Za(p,u[0])}for(f=h(t,i,o,s,es),c=0;c<f;c++){var g=d(t,i,o,s,es[c]);l[1]=ja(g,l[1]),u[1]=Za(g,u[1])}l[0]=ja(e,l[0]),u[0]=Za(e,u[0]),l[0]=ja(a,l[0]),u[0]=Za(a,u[0]),l[1]=ja(t,l[1]),u[1]=Za(t,u[1]),l[1]=ja(s,l[1]),u[1]=Za(s,u[1])},Ha.fromQuadratic=function(e,t,n,i,r,o,a,s){var l=Ua.quadraticExtremum,u=Ua.quadraticAt,c=Za(ja(l(e,n,r),1),0),h=Za(ja(l(t,i,o),1),0),d=u(e,n,r,c),f=u(t,i,o,h);a[0]=ja(e,r,d),a[1]=ja(t,o,f),s[0]=Za(e,r,d),s[1]=Za(t,o,f)},Ha.fromArc=function(e,t,n,i,r,o,a,s,l){var u=Wa.min,c=Wa.max,h=Math.abs(r-o);if(h%qa<1e-4&&h>1e-4)return s[0]=e-n,s[1]=t-i,l[0]=e+n,void(l[1]=t+i);if(Ka[0]=Xa(r)*n+e,Ka[1]=Ya(r)*i+t,Ja[0]=Xa(o)*n+e,Ja[1]=Ya(o)*i+t,u(s,Ka,Ja),c(l,Ka,Ja),(r%=qa)<0&&(r+=qa),(o%=qa)<0&&(o+=qa),r>o&&!a?o+=qa:r<o&&a&&(r+=qa),a){var d=o;o=r,r=d}for(var f=0;f<o;f+=Math.PI/2)f>r&&(Qa[0]=Xa(f)*n+e,Qa[1]=Ya(f)*i+t,u(s,Qa,s),c(l,Qa,l))};var ts=Ta,ns=V,is=Ha,rs=Pn,os=Kt.devicePixelRatio,as={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},ss=[],ls=[],us=[],cs=[],hs=Math.min,ds=Math.max,fs=Math.cos,ps=Math.sin,gs=Math.sqrt,ms=Math.abs,vs="undefined"!=typeof Float32Array,ys=function(e){this._saveData=!e,this._saveData&&(this.data=[]),this._ctx=null};ys.prototype={constructor:ys,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t,n){n=n||0,this._ux=ms(n/os/e)||0,this._uy=ms(n/os/t)||0},getContext:function(){return this._ctx},beginPath:function(e){return this._ctx=e,e&&e.beginPath(),e&&(this.dpr=e.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(e,t){return this.addData(as.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},lineTo:function(e,t){var n=ms(e-this._xi)>this._ux||ms(t-this._yi)>this._uy||this._len<5;return this.addData(as.L,e,t),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),n&&(this._xi=e,this._yi=t),this},bezierCurveTo:function(e,t,n,i,r,o){return this.addData(as.C,e,t,n,i,r,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(e,t,n,i,r,o):this._ctx.bezierCurveTo(e,t,n,i,r,o)),this._xi=r,this._yi=o,this},quadraticCurveTo:function(e,t,n,i){return this.addData(as.Q,e,t,n,i),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(e,t,n,i):this._ctx.quadraticCurveTo(e,t,n,i)),this._xi=n,this._yi=i,this},arc:function(e,t,n,i,r,o){return this.addData(as.A,e,t,n,n,i,r-i,0,o?0:1),this._ctx&&this._ctx.arc(e,t,n,i,r,o),this._xi=fs(r)*n+e,this._yi=ps(r)*n+t,this},arcTo:function(e,t,n,i,r){return this._ctx&&this._ctx.arcTo(e,t,n,i,r),this},rect:function(e,t,n,i){return this._ctx&&this._ctx.rect(e,t,n,i),this.addData(as.R,e,t,n,i),this},closePath:function(){this.addData(as.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&(this._needsDash()&&this._dashedLineTo(t,n),e.closePath()),this._xi=t,this._yi=n,this},fill:function(e){e&&e.fill(),this.toStatic()},stroke:function(e){e&&e.stroke(),this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e,this._dashIdx=0;for(var t=0,n=0;n<e.length;n++)t+=e[n];this._dashSum=t}return this},setLineDashOffset:function(e){return this._dashOffset=e,this},len:function(){return this._len},setData:function(e){var t=e.length;this.data&&this.data.length===t||!vs||(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t},appendPath:function(e){e instanceof Array||(e=[e]);for(var t=e.length,n=0,i=this._len,r=0;r<t;r++)n+=e[r].len();vs&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(r=0;r<t;r++)for(var o=e[r].data,a=0;a<o.length;a++)this.data[i++]=o[a];this._len=i},addData:function(e){if(this._saveData){var t=this.data;this._len+arguments.length>t.length&&(this._expandData(),t=this.data);for(var n=0;n<arguments.length;n++)t[this._len++]=arguments[n];this._prevCmd=e}},_expandData:function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var n,i,r=this._dashSum,o=this._dashOffset,a=this._lineDash,s=this._ctx,l=this._xi,u=this._yi,c=e-l,h=t-u,d=gs(c*c+h*h),f=l,p=u,g=a.length;for(o<0&&(o=r+o),f-=(o%=r)*(c/=d),p-=o*(h/=d);c>0&&f<=e||c<0&&f>=e||0===c&&(h>0&&p<=t||h<0&&p>=t);)f+=c*(n=a[i=this._dashIdx]),p+=h*n,this._dashIdx=(i+1)%g,c>0&&f<l||c<0&&f>l||h>0&&p<u||h<0&&p>u||s[i%2?"moveTo":"lineTo"](c>=0?hs(f,e):ds(f,e),h>=0?hs(p,t):ds(p,t));c=f-e,h=p-t,this._dashOffset=-gs(c*c+h*h)},_dashedBezierTo:function(e,t,n,i,r,o){var a,s,l,u,c,h=this._dashSum,d=this._dashOffset,f=this._lineDash,p=this._ctx,g=this._xi,m=this._yi,v=ts.cubicAt,y=0,_=this._dashIdx,x=f.length,b=0;for(d<0&&(d=h+d),d%=h,a=0;a<1;a+=.1)s=v(g,e,n,r,a+.1)-v(g,e,n,r,a),l=v(m,t,i,o,a+.1)-v(m,t,i,o,a),y+=gs(s*s+l*l);for(;_<x&&!((b+=f[_])>d);_++);for(a=(b-d)/y;a<=1;)u=v(g,e,n,r,a),c=v(m,t,i,o,a),_%2?p.moveTo(u,c):p.lineTo(u,c),a+=f[_]/y,_=(_+1)%x;_%2!=0&&p.lineTo(r,o),s=r-u,l=o-c,this._dashOffset=-gs(s*s+l*l)},_dashedQuadraticTo:function(e,t,n,i){var r=n,o=i;n=(n+2*e)/3,i=(i+2*t)/3,e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,this._dashedBezierTo(e,t,n,i,r,o)},toStatic:function(){var e=this.data;e instanceof Array&&(e.length=this._len,vs&&(this.data=new Float32Array(e)))},getBoundingRect:function(){ss[0]=ss[1]=us[0]=us[1]=Number.MAX_VALUE,ls[0]=ls[1]=cs[0]=cs[1]=-Number.MAX_VALUE;for(var e=this.data,t=0,n=0,i=0,r=0,o=0;o<e.length;){var a=e[o++];switch(1===o&&(i=t=e[o],r=n=e[o+1]),a){case as.M:t=i=e[o++],n=r=e[o++],us[0]=i,us[1]=r,cs[0]=i,cs[1]=r;break;case as.L:is.fromLine(t,n,e[o],e[o+1],us,cs),t=e[o++],n=e[o++];break;case as.C:is.fromCubic(t,n,e[o++],e[o++],e[o++],e[o++],e[o],e[o+1],us,cs),t=e[o++],n=e[o++];break;case as.Q:is.fromQuadratic(t,n,e[o++],e[o++],e[o],e[o+1],us,cs),t=e[o++],n=e[o++];break;case as.A:var s=e[o++],l=e[o++],u=e[o++],c=e[o++],h=e[o++],d=e[o++]+h;o+=1;var f=1-e[o++];1===o&&(i=fs(h)*u+s,r=ps(h)*c+l),is.fromArc(s,l,u,c,h,d,f,us,cs),t=fs(d)*u+s,n=ps(d)*c+l;break;case as.R:i=t=e[o++],r=n=e[o++];var p=e[o++],g=e[o++];is.fromLine(i,r,i+p,r+g,us,cs);break;case as.Z:t=i,n=r}ns.min(ss,ss,us),ns.max(ls,ls,cs)}return 0===o&&(ss[0]=ss[1]=ls[0]=ls[1]=0),new rs(ss[0],ss[1],ls[0]-ss[0],ls[1]-ss[1])},rebuildPath:function(e){for(var t,n,i,r,o,a,s=this.data,l=this._ux,u=this._uy,c=this._len,h=0;h<c;){var d=s[h++];switch(1===h&&(t=i=s[h],n=r=s[h+1]),d){case as.M:t=i=s[h++],n=r=s[h++],e.moveTo(i,r);break;case as.L:o=s[h++],a=s[h++],(ms(o-i)>l||ms(a-r)>u||h===c-1)&&(e.lineTo(o,a),i=o,r=a);break;case as.C:e.bezierCurveTo(s[h++],s[h++],s[h++],s[h++],s[h++],s[h++]),i=s[h-2],r=s[h-1];break;case as.Q:e.quadraticCurveTo(s[h++],s[h++],s[h++],s[h++]),i=s[h-2],r=s[h-1];break;case as.A:var f=s[h++],p=s[h++],g=s[h++],m=s[h++],v=s[h++],y=s[h++],_=s[h++],x=s[h++],b=g>m?g:m,w=g>m?1:g/m,S=g>m?m/g:1,M=v+y;Math.abs(g-m)>.001?(e.translate(f,p),e.rotate(_),e.scale(w,S),e.arc(0,0,b,v,M,1-x),e.scale(1/w,1/S),e.rotate(-_),e.translate(-f,-p)):e.arc(f,p,b,v,M,1-x),1===h&&(t=fs(v)*g+f,n=ps(v)*m+p),i=fs(M)*g+f,r=ps(M)*m+p;break;case as.R:t=i=s[h],n=r=s[h+1],e.rect(s[h++],s[h++],s[h++],s[h++]);break;case as.Z:e.closePath(),i=t,r=n}}}},ys.CMD=as;var _s=ys,xs={},bs={};bs.containStroke=function(e,t,n,i,r,o,a){if(0===r)return!1;var s=r,l=0;if(a>t+s&&a>i+s||a<t-s&&a<i-s||o>e+s&&o>n+s||o<e-s&&o<n-s)return!1;if(e===n)return Math.abs(o-e)<=s/2;var u=(l=(t-i)/(e-n))*o-a+(e*i-n*t)/(e-n);return u*u/(l*l+1)<=s/2*s/2};var ws={},Ss=Ta;ws.containStroke=function(e,t,n,i,r,o,a,s,l,u,c){if(0===l)return!1;var h=l;return!(c>t+h&&c>i+h&&c>o+h&&c>s+h||c<t-h&&c<i-h&&c<o-h&&c<s-h||u>e+h&&u>n+h&&u>r+h&&u>a+h||u<e-h&&u<n-h&&u<r-h&&u<a-h)&&Ss.cubicProjectPoint(e,t,n,i,r,o,a,s,u,c,null)<=h/2};var Ms={},Is=Ta.quadraticProjectPoint;Ms.containStroke=function(e,t,n,i,r,o,a,s,l){if(0===a)return!1;var u=a;return!(l>t+u&&l>i+u&&l>o+u||l<t-u&&l<i-u&&l<o-u||s>e+u&&s>n+u&&s>r+u||s<e-u&&s<n-u&&s<r-u)&&Is(e,t,n,i,r,o,s,l,null)<=u/2};var As={},Ts={},Cs=2*Math.PI;Ts.normalizeRadian=function(e){return(e%=Cs)<0&&(e+=Cs),e};var Ds=Ts.normalizeRadian,Ps=2*Math.PI;As.containStroke=function(e,t,n,i,r,o,a,s,l){if(0===a)return!1;var u=a;s-=e,l-=t;var c=Math.sqrt(s*s+l*l);if(c-u>n||c+u<n)return!1;if(Math.abs(i-r)%Ps<1e-4)return!0;if(o){var h=i;i=Ds(r),r=Ds(h)}else i=Ds(i),r=Ds(r);i>r&&(r+=Ps);var d=Math.atan2(l,s);return d<0&&(d+=Ps),d>=i&&d<=r||d+Ps>=i&&d+Ps<=r};var Ls=function(e,t,n,i,r,o){if(o>t&&o>i||o<t&&o<i)return 0;if(i===t)return 0;var a=i<t?1:-1,s=(o-t)/(i-t);1!==s&&0!==s||(a=i<t?.5:-.5);var l=s*(n-e)+e;return l===r?1/0:l>r?a:0},ks=_s,Os=bs,Ns=ws,Rs=Ms,Es=As,zs=Ts.normalizeRadian,Bs=Ta,Vs=Ls,Gs=ks.CMD,Fs=2*Math.PI;var Hs=[-1,-1,-1],Ws=[-1,-1];function Us(e,t,n,i,r,o,a,s,l,u){if(u>t&&u>i&&u>o&&u>s||u<t&&u<i&&u<o&&u<s)return 0;var c,h=Bs.cubicRootAt(t,i,o,s,u,Hs);if(0===h)return 0;for(var d,f,p=0,g=-1,m=0;m<h;m++){var v=Hs[m],y=0===v||1===v?.5:1;Bs.cubicAt(e,n,r,a,v)<l||(g<0&&(g=Bs.cubicExtrema(t,i,o,s,Ws),Ws[1]<Ws[0]&&g>1&&(c=void 0,c=Ws[0],Ws[0]=Ws[1],Ws[1]=c),d=Bs.cubicAt(t,i,o,s,Ws[0]),g>1&&(f=Bs.cubicAt(t,i,o,s,Ws[1]))),2===g?v<Ws[0]?p+=d<t?y:-y:v<Ws[1]?p+=f<d?y:-y:p+=s<f?y:-y:v<Ws[0]?p+=d<t?y:-y:p+=s<d?y:-y)}return p}function js(e,t,n,i,r,o,a,s){if(s>t&&s>i&&s>o||s<t&&s<i&&s<o)return 0;var l=Bs.quadraticRootAt(t,i,o,s,Hs);if(0===l)return 0;var u=Bs.quadraticExtremum(t,i,o);if(u>=0&&u<=1){for(var c=0,h=Bs.quadraticAt(t,i,o,u),d=0;d<l;d++){var f=0===Hs[d]||1===Hs[d]?.5:1;Bs.quadraticAt(e,n,r,Hs[d])<a||(Hs[d]<u?c+=h<t?f:-f:c+=o<h?f:-f)}return c}f=0===Hs[0]||1===Hs[0]?.5:1;return Bs.quadraticAt(e,n,r,Hs[0])<a?0:o<t?f:-f}function Zs(e,t,n,i,r,o,a,s){if((s-=t)>n||s<-n)return 0;var l=Math.sqrt(n*n-s*s);Hs[0]=-l,Hs[1]=l;var u=Math.abs(i-r);if(u<1e-4)return 0;if(u%Fs<1e-4){i=0,r=Fs;var c=o?1:-1;return a>=Hs[0]+e&&a<=Hs[1]+e?c:0}if(o){l=i;i=zs(r),r=zs(l)}else i=zs(i),r=zs(r);i>r&&(r+=Fs);for(var h=0,d=0;d<2;d++){var f=Hs[d];if(f+e>a){var p=Math.atan2(s,f);c=o?1:-1;p<0&&(p=Fs+p),(p>=i&&p<=r||p+Fs>=i&&p+Fs<=r)&&(p>Math.PI/2&&p<1.5*Math.PI&&(c=-c),h+=c)}}return h}function Ys(e,t,n,i,r){for(var o,a,s=0,l=0,u=0,c=0,h=0,d=0;d<e.length;){var f=e[d++];switch(f===Gs.M&&d>1&&(n||(s+=Vs(l,u,c,h,i,r))),1===d&&(c=l=e[d],h=u=e[d+1]),f){case Gs.M:l=c=e[d++],u=h=e[d++];break;case Gs.L:if(n){if(Os.containStroke(l,u,e[d],e[d+1],t,i,r))return!0}else s+=Vs(l,u,e[d],e[d+1],i,r)||0;l=e[d++],u=e[d++];break;case Gs.C:if(n){if(Ns.containStroke(l,u,e[d++],e[d++],e[d++],e[d++],e[d],e[d+1],t,i,r))return!0}else s+=Us(l,u,e[d++],e[d++],e[d++],e[d++],e[d],e[d+1],i,r)||0;l=e[d++],u=e[d++];break;case Gs.Q:if(n){if(Rs.containStroke(l,u,e[d++],e[d++],e[d],e[d+1],t,i,r))return!0}else s+=js(l,u,e[d++],e[d++],e[d],e[d+1],i,r)||0;l=e[d++],u=e[d++];break;case Gs.A:var p=e[d++],g=e[d++],m=e[d++],v=e[d++],y=e[d++],_=e[d++];d+=1;var x=1-e[d++],b=Math.cos(y)*m+p,w=Math.sin(y)*v+g;d>1?s+=Vs(l,u,b,w,i,r):(c=b,h=w);var S=(i-p)*v/m+p;if(n){if(Es.containStroke(p,g,v,y,y+_,x,t,S,r))return!0}else s+=Zs(p,g,v,y,y+_,x,S,r);l=Math.cos(y+_)*m+p,u=Math.sin(y+_)*v+g;break;case Gs.R:c=l=e[d++],h=u=e[d++];b=c+e[d++],w=h+e[d++];if(n){if(Os.containStroke(c,h,b,h,t,i,r)||Os.containStroke(b,h,b,w,t,i,r)||Os.containStroke(b,w,c,w,t,i,r)||Os.containStroke(c,w,c,h,t,i,r))return!0}else s+=Vs(b,h,b,w,i,r),s+=Vs(c,w,c,h,i,r);break;case Gs.Z:if(n){if(Os.containStroke(l,u,c,h,t,i,r))return!0}else s+=Vs(l,u,c,h,i,r);l=c,u=h}}return n||(o=u,a=h,Math.abs(o-a)<1e-4)||(s+=Vs(l,u,c,h,i,r)||0),0!==s}xs.contain=function(e,t,n){return Ys(e,0,!1,t,n)},xs.containStroke=function(e,t,n,i){return Ys(e,t,!0,n,i)};var Xs=Gr,qs=g,Ks=_s,Js=xs,Qs=ui.prototype.getCanvasPattern,$s=Math.abs,el=new Ks(!0);function tl(e){Xs.call(this,e),this.path=null}tl.prototype={constructor:tl,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(e,t){var n,i=this.style,r=this.path||el,o=i.hasStroke(),a=i.hasFill(),s=i.fill,l=i.stroke,u=a&&!!s.colorStops,c=o&&!!l.colorStops,h=a&&!!s.image,d=o&&!!l.image;(i.bind(e,this,t),this.setTransform(e),this.__dirty)&&(u&&(n=n||this.getBoundingRect(),this._fillGradient=i.getGradient(e,s,n)),c&&(n=n||this.getBoundingRect(),this._strokeGradient=i.getGradient(e,l,n)));u?e.fillStyle=this._fillGradient:h&&(e.fillStyle=Qs.call(s,e)),c?e.strokeStyle=this._strokeGradient:d&&(e.strokeStyle=Qs.call(l,e));var f=i.lineDash,p=i.lineDashOffset,g=!!e.setLineDash,m=this.getGlobalScale();if(r.setScale(m[0],m[1],this.segmentIgnoreThreshold),this.__dirtyPath||f&&!g&&o?(r.beginPath(e),f&&!g&&(r.setLineDash(f),r.setLineDashOffset(p)),this.buildPath(r,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(e.beginPath(),this.path.rebuildPath(e)),a)if(null!=i.fillOpacity){var v=e.globalAlpha;e.globalAlpha=i.fillOpacity*i.opacity,r.fill(e),e.globalAlpha=v}else r.fill(e);if(f&&g&&(e.setLineDash(f),e.lineDashOffset=p),o)if(null!=i.strokeOpacity){v=e.globalAlpha;e.globalAlpha=i.strokeOpacity*i.opacity,r.stroke(e),e.globalAlpha=v}else r.stroke(e);f&&g&&e.setLineDash([]),null!=i.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))},buildPath:function(e,t,n){},createPathProxy:function(){this.path=new Ks},getBoundingRect:function(){var e=this._rect,t=this.style,n=!e;if(n){var i=this.path;i||(i=this.path=new Ks),this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape,!1)),e=i.getBoundingRect()}if(this._rect=e,t.hasStroke()){var r=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||n){r.copy(e);var o=t.lineWidth,a=t.strokeNoScale?this.getLineScale():1;t.hasFill()||(o=Math.max(o,this.strokeContainThreshold||4)),a>1e-10&&(r.width+=o/a,r.height+=o/a,r.x-=o/a/2,r.y-=o/a/2)}return r}return e},contain:function(e,t){var n=this.transformCoordToLocal(e,t),i=this.getBoundingRect(),r=this.style;if(e=n[0],t=n[1],i.contain(e,t)){var o=this.path.data;if(r.hasStroke()){var a=r.lineWidth,s=r.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(r.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),Js.containStroke(o,a/s,e,t)))return!0}if(r.hasFill())return Js.contain(o,e,t)}return!1},dirty:function(e){null==e&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){"shape"===e?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):Xs.prototype.attrKV.call(this,e,t)},setShape:function(e,t){var n=this.shape;if(n){if(qs.isObject(e))for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);else n[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&$s(e[0]-1)>1e-10&&$s(e[3]-1)>1e-10?Math.sqrt($s(e[0]*e[3]-e[2]*e[1])):1}},tl.extend=function(e){var t=function(t){tl.call(this,t),e.style&&this.style.extendFrom(e.style,!1);var n=e.shape;if(n){this.shape=this.shape||{};var i=this.shape;for(var r in n)!i.hasOwnProperty(r)&&n.hasOwnProperty(r)&&(i[r]=n[r])}e.init&&e.init.call(this,t)};for(var n in qs.inherits(t,tl),e)"style"!==n&&"shape"!==n&&(t.prototype[n]=e[n]);return t},qs.inherits(tl,Xs);var nl=tl,il=_s,rl=V.applyTransform,ol=il.CMD,al=[[],[],[]],sl=Math.sqrt,ll=Math.atan2;var ul=nl,cl=_s,hl=function(e,t){var n,i,r,o,a,s=e.data,l=ol.M,u=ol.C,c=ol.L,h=ol.R,d=ol.A,f=ol.Q;for(r=0,o=0;r<s.length;){switch(n=s[r++],o=r,i=0,n){case l:case c:i=1;break;case u:i=3;break;case f:i=2;break;case d:var p=t[4],g=t[5],m=sl(t[0]*t[0]+t[1]*t[1]),v=sl(t[2]*t[2]+t[3]*t[3]),y=ll(-t[1]/v,t[0]/m);s[r]*=m,s[r++]+=p,s[r]*=v,s[r++]+=g,s[r++]*=m,s[r++]*=v,s[r++]+=y,s[r++]+=y,o=r+=2;break;case h:_[0]=s[r++],_[1]=s[r++],rl(_,_,t),s[o++]=_[0],s[o++]=_[1],_[0]+=s[r++],_[1]+=s[r++],rl(_,_,t),s[o++]=_[0],s[o++]=_[1]}for(a=0;a<i;a++){var _;(_=al[a])[0]=s[r++],_[1]=s[r++],rl(_,_,t),s[o++]=_[0],s[o++]=_[1]}}},dl=Math.sqrt,fl=Math.sin,pl=Math.cos,gl=Math.PI,ml=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},vl=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(ml(e)*ml(t))},yl=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(vl(e,t))};function _l(e,t,n,i,r,o,a,s,l,u,c){var h=l*(gl/180),d=pl(h)*(e-n)/2+fl(h)*(t-i)/2,f=-1*fl(h)*(e-n)/2+pl(h)*(t-i)/2,p=d*d/(a*a)+f*f/(s*s);p>1&&(a*=dl(p),s*=dl(p));var g=(r===o?-1:1)*dl((a*a*(s*s)-a*a*(f*f)-s*s*(d*d))/(a*a*(f*f)+s*s*(d*d)))||0,m=g*a*f/s,v=g*-s*d/a,y=(e+n)/2+pl(h)*m-fl(h)*v,_=(t+i)/2+fl(h)*m+pl(h)*v,x=yl([1,0],[(d-m)/a,(f-v)/s]),b=[(d-m)/a,(f-v)/s],w=[(-1*d-m)/a,(-1*f-v)/s],S=yl(b,w);vl(b,w)<=-1&&(S=gl),vl(b,w)>=1&&(S=0),0===o&&S>0&&(S-=2*gl),1===o&&S<0&&(S+=2*gl),c.addData(u,y,_,a,s,x,S,h,o)}var xl=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,bl=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function wl(e,t){var n=function(e){if(!e)return new cl;for(var t,n=0,i=0,r=n,o=i,a=new cl,s=cl.CMD,l=e.match(xl),u=0;u<l.length;u++){for(var c,h=l[u],d=h.charAt(0),f=h.match(bl)||[],p=f.length,g=0;g<p;g++)f[g]=parseFloat(f[g]);for(var m=0;m<p;){var v,y,_,x,b,w,S,M=n,I=i;switch(d){case"l":n+=f[m++],i+=f[m++],c=s.L,a.addData(c,n,i);break;case"L":n=f[m++],i=f[m++],c=s.L,a.addData(c,n,i);break;case"m":n+=f[m++],i+=f[m++],c=s.M,a.addData(c,n,i),r=n,o=i,d="l";break;case"M":n=f[m++],i=f[m++],c=s.M,a.addData(c,n,i),r=n,o=i,d="L";break;case"h":n+=f[m++],c=s.L,a.addData(c,n,i);break;case"H":n=f[m++],c=s.L,a.addData(c,n,i);break;case"v":i+=f[m++],c=s.L,a.addData(c,n,i);break;case"V":i=f[m++],c=s.L,a.addData(c,n,i);break;case"C":c=s.C,a.addData(c,f[m++],f[m++],f[m++],f[m++],f[m++],f[m++]),n=f[m-2],i=f[m-1];break;case"c":c=s.C,a.addData(c,f[m++]+n,f[m++]+i,f[m++]+n,f[m++]+i,f[m++]+n,f[m++]+i),n+=f[m-2],i+=f[m-1];break;case"S":v=n,y=i;var A=a.len(),T=a.data;t===s.C&&(v+=n-T[A-4],y+=i-T[A-3]),c=s.C,M=f[m++],I=f[m++],n=f[m++],i=f[m++],a.addData(c,v,y,M,I,n,i);break;case"s":v=n,y=i,A=a.len(),T=a.data,t===s.C&&(v+=n-T[A-4],y+=i-T[A-3]),c=s.C,M=n+f[m++],I=i+f[m++],n+=f[m++],i+=f[m++],a.addData(c,v,y,M,I,n,i);break;case"Q":M=f[m++],I=f[m++],n=f[m++],i=f[m++],c=s.Q,a.addData(c,M,I,n,i);break;case"q":M=f[m++]+n,I=f[m++]+i,n+=f[m++],i+=f[m++],c=s.Q,a.addData(c,M,I,n,i);break;case"T":v=n,y=i,A=a.len(),T=a.data,t===s.Q&&(v+=n-T[A-4],y+=i-T[A-3]),n=f[m++],i=f[m++],c=s.Q,a.addData(c,v,y,n,i);break;case"t":v=n,y=i,A=a.len(),T=a.data,t===s.Q&&(v+=n-T[A-4],y+=i-T[A-3]),n+=f[m++],i+=f[m++],c=s.Q,a.addData(c,v,y,n,i);break;case"A":_=f[m++],x=f[m++],b=f[m++],w=f[m++],S=f[m++],_l(M=n,I=i,n=f[m++],i=f[m++],w,S,_,x,b,c=s.A,a);break;case"a":_=f[m++],x=f[m++],b=f[m++],w=f[m++],S=f[m++],_l(M=n,I=i,n+=f[m++],i+=f[m++],w,S,_,x,b,c=s.A,a)}}"z"!==d&&"Z"!==d||(c=s.Z,a.addData(c),n=r,i=o),t=c}return a.toStatic(),a}(e);return(t=t||{}).buildPath=function(e){if(e.setData){e.setData(n.data),(t=e.getContext())&&e.rebuildPath(t)}else{var t=e;n.rebuildPath(t)}},t.applyTransform=function(e){hl(n,e),this.dirty(!0)},t}Aa.createFromString=function(e,t){return new ul(wl(e,t))},Aa.extendFromString=function(e,t){return ul.extend(wl(e,t))},Aa.mergePath=function(e,t){for(var n=[],i=e.length,r=0;r<i;r++){var o=e[r];o.path||o.createPathProxy(),o.__dirtyPath&&o.buildPath(o.path,o.shape,!0),n.push(o.path)}var a=new ul(t);return a.createPathProxy(),a.buildPath=function(e){e.appendPath(n);var t=e.getContext();t&&e.rebuildPath(t)},a};var Sl=Gr,Ml=g,Il=xi,Al=_i,Tl=Jn.ContextCachedBy,Cl=function(e){Sl.call(this,e)};Cl.prototype={constructor:Cl,type:"text",brush:function(e,t){var n=this.style;this.__dirty&&Al.normalizeTextStyle(n,!0),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var i=n.text;null!=i&&(i+=""),Al.needDrawText(i,n)?(this.setTransform(e),Al.renderText(this,e,i,n,null,t),this.restoreTransform(e)):e.__attrCachedBy=Tl.NONE},getBoundingRect:function(){var e=this.style;if(this.__dirty&&Al.normalizeTextStyle(e,!0),!this._rect){e.text;var t=Il.getBoundingRect(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich);if(t.x+=e.x||0,t.y+=e.y||0,Al.getStroke(e.textStroke,e.textStrokeWidth)){var n=e.textStrokeWidth;t.x-=n/2,t.y-=n/2,t.width+=n,t.height+=n}this._rect=t}return this._rect}},Ml.inherits(Cl,Sl);var Dl=Cl,Pl=nl.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,n){n&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI,!0)}}),Ll=p,kl=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];var Ol=function(e){return Ll.browser.ie&&Ll.browser.version>=11?function(){var t,n=this.__clipPaths,i=this.style;if(n)for(var r=0;r<n.length;r++){var o=n[r],a=o&&o.shape,s=o&&o.type;if(a&&("sector"===s&&a.startAngle===a.endAngle||"rect"===s&&(!a.width||!a.height))){for(var l=0;l<kl.length;l++)kl[l][2]=i[kl[l][0]],i[kl[l][0]]=kl[l][1];t=!0;break}}if(e.apply(this,arguments),t)for(l=0;l<kl.length;l++)i[kl[l][0]]=kl[l][2]}:e},Nl=nl,Rl=Ol,El=Nl.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:Rl(Nl.prototype.brush),buildPath:function(e,t){var n=t.cx,i=t.cy,r=Math.max(t.r0||0,0),o=Math.max(t.r,0),a=t.startAngle,s=t.endAngle,l=t.clockwise,u=Math.cos(a),c=Math.sin(a);e.moveTo(u*r+n,c*r+i),e.lineTo(u*o+n,c*o+i),e.arc(n,i,o,a,s,!l),e.lineTo(Math.cos(s)*r+n,Math.sin(s)*r+i),0!==r&&e.arc(n,i,r,s,a,l),e.closePath()}}),zl=nl.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var n=t.cx,i=t.cy,r=2*Math.PI;e.moveTo(n+t.r,i),e.arc(n,i,t.r,0,r,!1),e.moveTo(n+t.r0,i),e.arc(n,i,t.r0,0,r,!0)}}),Bl={},Vl=V.distance;function Gl(e,t,n,i,r,o,a){var s=.5*(n-e),l=.5*(i-t);return(2*(t-n)+s+l)*a+(-3*(t-n)-2*s-l)*o+s*r+t}var Fl=function(e,t){for(var n=e.length,i=[],r=0,o=1;o<n;o++)r+=Vl(e[o-1],e[o]);var a=r/2;for(a=a<n?n:a,o=0;o<a;o++){var s,l,u,c=o/(a-1)*(t?n:n-1),h=Math.floor(c),d=c-h,f=e[h%n];t?(s=e[(h-1+n)%n],l=e[(h+1)%n],u=e[(h+2)%n]):(s=e[0===h?h:h-1],l=e[h>n-2?n-1:h+1],u=e[h>n-3?n-1:h+2]);var p=d*d,g=d*p;i.push([Gl(s[0],f[0],l[0],u[0],d,p,g),Gl(s[1],f[1],l[1],u[1],d,p,g)])}return i},Hl=V,Wl=Hl.min,Ul=Hl.max,jl=Hl.scale,Zl=Hl.distance,Yl=Hl.add,Xl=Hl.clone,ql=Hl.sub;var Kl=Fl,Jl=function(e,t,n,i){var r,o,a,s,l=[],u=[],c=[],h=[];if(i){a=[1/0,1/0],s=[-1/0,-1/0];for(var d=0,f=e.length;d<f;d++)Wl(a,a,e[d]),Ul(s,s,e[d]);Wl(a,a,i[0]),Ul(s,s,i[1])}for(d=0,f=e.length;d<f;d++){var p=e[d];if(n)r=e[d?d-1:f-1],o=e[(d+1)%f];else{if(0===d||d===f-1){l.push(Xl(e[d]));continue}r=e[d-1],o=e[d+1]}ql(u,o,r),jl(u,u,t);var g=Zl(p,r),m=Zl(p,o),v=g+m;0!==v&&(g/=v,m/=v),jl(c,u,-g),jl(h,u,m);var y=Yl([],p,c),_=Yl([],p,h);i&&(Ul(y,y,a),Wl(y,y,s),Ul(_,_,a),Wl(_,_,s)),l.push(y),l.push(_)}return n&&l.push(l.shift()),l};Bl.buildPath=function(e,t,n){var i=t.points,r=t.smooth;if(i&&i.length>=2){if(r&&"spline"!==r){var o=Jl(i,r,n,t.smoothConstraint);e.moveTo(i[0][0],i[0][1]);for(var a=i.length,s=0;s<(n?a:a-1);s++){var l=o[2*s],u=o[2*s+1],c=i[(s+1)%a];e.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{"spline"===r&&(i=Kl(i,n)),e.moveTo(i[0][0],i[0][1]);s=1;for(var h=i.length;s<h;s++)e.lineTo(i[s][0],i[s][1])}n&&e.closePath()}};var Ql=Bl,$l=nl.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,t){Ql.buildPath(e,t,!0)}}),eu=Bl,tu=nl.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,t){eu.buildPath(e,t,!1)}}),nu={},iu=Math.round;function ru(e,t,n){if(!t)return e;var i=iu(2*e);return(i+iu(t))%2==0?i/2:(i+(n?1:-1))/2}nu.subPixelOptimizeLine=function(e,t,n){if(t){var i=t.x1,r=t.x2,o=t.y1,a=t.y2;e.x1=i,e.x2=r,e.y1=o,e.y2=a;var s=n&&n.lineWidth;s&&(iu(2*i)===iu(2*r)&&(e.x1=e.x2=ru(i,s,!0)),iu(2*o)===iu(2*a)&&(e.y1=e.y2=ru(o,s,!0)))}},nu.subPixelOptimizeRect=function(e,t,n){if(t){var i=t.x,r=t.y,o=t.width,a=t.height;e.x=i,e.y=r,e.width=o,e.height=a;var s=n&&n.lineWidth;s&&(e.x=ru(i,s,!0),e.y=ru(r,s,!0),e.width=Math.max(ru(i+o,s,!1)-e.x,0===o?0:1),e.height=Math.max(ru(r+a,s,!1)-e.y,0===a?0:1))}},nu.subPixelOptimize=ru;var ou=nl,au=Ki,su=nu.subPixelOptimizeRect,lu={},uu=ou.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,t){var n,i,r,o;this.subPixelOptimize?(su(lu,t,this.style),n=lu.x,i=lu.y,r=lu.width,o=lu.height,lu.r=t.r,t=lu):(n=t.x,i=t.y,r=t.width,o=t.height),t.r?au.buildPath(e,t):e.rect(n,i,r,o),e.closePath()}}),cu=nl,hu=nu.subPixelOptimizeLine,du={},fu=cu.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n,i,r,o;this.subPixelOptimize?(hu(du,t,this.style),n=du.x1,i=du.y1,r=du.x2,o=du.y2):(n=t.x1,i=t.y1,r=t.x2,o=t.y2);var a=t.percent;0!==a&&(e.moveTo(n,i),a<1&&(r=n*(1-a)+r*a,o=i*(1-a)+o*a),e.lineTo(r,o))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}}),pu=nl,gu=V,mu=Ta,vu=mu.quadraticSubdivide,yu=mu.cubicSubdivide,_u=mu.quadraticAt,xu=mu.cubicAt,bu=mu.quadraticDerivativeAt,wu=mu.cubicDerivativeAt,Su=[];function Mu(e,t,n){var i=e.cpx2,r=e.cpy2;return null===i||null===r?[(n?wu:xu)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?wu:xu)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?bu:_u)(e.x1,e.cpx1,e.x2,t),(n?bu:_u)(e.y1,e.cpy1,e.y2,t)]}var Iu=pu.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1,i=t.y1,r=t.x2,o=t.y2,a=t.cpx1,s=t.cpy1,l=t.cpx2,u=t.cpy2,c=t.percent;0!==c&&(e.moveTo(n,i),null==l||null==u?(c<1&&(vu(n,a,r,c,Su),a=Su[1],r=Su[2],vu(i,s,o,c,Su),s=Su[1],o=Su[2]),e.quadraticCurveTo(a,s,r,o)):(c<1&&(yu(n,a,l,r,c,Su),a=Su[1],l=Su[2],r=Su[3],yu(i,s,u,o,c,Su),s=Su[1],u=Su[2],o=Su[3]),e.bezierCurveTo(a,s,l,u,r,o)))},pointAt:function(e){return Mu(this.shape,e,!1)},tangentAt:function(e){var t=Mu(this.shape,e,!0);return gu.normalize(t,t)}}),Au=nl.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.cx,i=t.cy,r=Math.max(t.r,0),o=t.startAngle,a=t.endAngle,s=t.clockwise,l=Math.cos(o),u=Math.sin(o);e.moveTo(l*r+n,u*r+i),e.arc(n,i,r,o,a,!s)}}),Tu=nl,Cu=Tu.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,n=0;n<t.length;n++)e=e||t[n].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),n=0;n<e.length;n++)e[n].path||e[n].createPathProxy(),e[n].path.setScale(t[0],t[1],e[n].segmentIgnoreThreshold)},buildPath:function(e,t){for(var n=t.paths||[],i=0;i<n.length;i++)n[i].buildPath(e,n[i].shape,!0)},afterBrush:function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),Tu.prototype.getBoundingRect.call(this)}}),Du=function(e){this.colorStops=e||[]};Du.prototype={constructor:Du,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}};var Pu=Du,Lu=g,ku=Pu,Ou=function(e,t,n,i,r,o){this.x=null==e?0:e,this.y=null==t?0:t,this.x2=null==n?1:n,this.y2=null==i?0:i,this.type="linear",this.global=o||!1,ku.call(this,r)};Ou.prototype={constructor:Ou},Lu.inherits(Ou,ku);var Nu=Ou,Ru=g,Eu=Pu,zu=function(e,t,n,i,r){this.x=null==e?.5:e,this.y=null==t?.5:t,this.r=null==n?.5:n,this.type="radial",this.global=r||!1,Eu.call(this,i)};zu.prototype={constructor:zu},Ru.inherits(zu,Eu);var Bu=zu,Vu=g.inherits,Gu=Gr,Fu=Pn;function Hu(e){Gu.call(this,e),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}Hu.prototype.incremental=!0,Hu.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},Hu.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.dirty()},Hu.prototype.addDisplayables=function(e,t){t=t||!1;for(var n=0;n<e.length;n++)this.addDisplayable(e[n],t)},Hu.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])},Hu.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){(t=this._displayables[e]).parent=this,t.update(),t.parent=null}for(e=0;e<this._temporaryDisplayables.length;e++){var t;(t=this._temporaryDisplayables[e]).parent=this,t.update(),t.parent=null}},Hu.prototype.brush=function(e,t){for(var n=this._cursor;n<this._displayables.length;n++){(i=this._displayables[n]).beforeBrush&&i.beforeBrush(e),i.brush(e,n===this._cursor?null:this._displayables[n-1]),i.afterBrush&&i.afterBrush(e)}this._cursor=n;for(n=0;n<this._temporaryDisplayables.length;n++){var i;(i=this._temporaryDisplayables[n]).beforeBrush&&i.beforeBrush(e),i.brush(e,0===n?null:this._temporaryDisplayables[n-1]),i.afterBrush&&i.afterBrush(e)}this._temporaryDisplayables=[],this.notClear=!0};var Wu=[];Hu.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new Fu(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var n=this._displayables[t],i=n.getBoundingRect().clone();n.needLocalTransform()&&i.applyTransform(n.getLocalTransform(Wu)),e.union(i)}this._rect=e}return this._rect},Hu.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t);if(this.getBoundingRect().contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++){if(this._displayables[i].contain(e,t))return!0}return!1},Vu(Hu,Gu);var Uu=Hu,ju=g,Zu=Aa,Yu=at,Xu=Fe,qu=V,Ku=nl,Ju=tt,Qu=Zr;Ia.Image=Qu;var $u=Rn;Ia.Group=$u;var ec=Dl;Ia.Text=ec;var tc=Pl;Ia.Circle=tc;var nc=El;Ia.Sector=nc;var ic=zl;Ia.Ring=ic;var rc=$l;Ia.Polygon=rc;var oc=tu;Ia.Polyline=oc;var ac=uu;Ia.Rect=ac;var sc=fu;Ia.Line=sc;var lc=Iu;Ia.BezierCurve=lc;var uc=Au;Ia.Arc=uc;var cc=Cu;Ia.CompoundPath=cc;var hc=Nu;Ia.LinearGradient=hc;var dc=Bu;Ia.RadialGradient=dc;var fc=Pn;Ia.BoundingRect=fc;var pc=Uu;Ia.IncrementalDisplayable=pc;var gc=nu,mc=Math.max,vc=Math.min,yc={},_c=1,xc={},bc={};function wc(e,t){bc[e]=t}function Sc(e,t,n,i){var r=Zu.createFromString(e,t);return n&&("center"===i&&(n=Mc(n,r.getBoundingRect())),Ac(r,n)),r}function Mc(e,t){var n,i=t.width/t.height,r=e.height*i;return n=r<=e.width?e.height:(r=e.width)/i,{x:e.x+e.width/2-r/2,y:e.y+e.height/2-n/2,width:r,height:n}}var Ic=Zu.mergePath;function Ac(e,t){if(e.applyTransform){var n=e.getBoundingRect().calculateTransform(t);e.applyTransform(n)}}var Tc=gc.subPixelOptimize;function Cc(e){return null!=e&&"none"!==e}var Dc=ju.createHashMap(),Pc=0;function Lc(e){var t=e.__hoverStl;if(t&&!e.__highlighted){var n=e.__zr,i=e.useHoverLayer&&n&&"canvas"===n.painter.type;if(e.__highlighted=i?"layer":"plain",!(e.isGroup||!n&&e.useHoverLayer)){var r=e,o=e.style;i&&(o=(r=n.addHover(e)).style),Yc(o),i||function(e){if(e.__hoverStlDirty){e.__hoverStlDirty=!1;var t=e.__hoverStl;if(t){var n=e.__cachedNormalStl={};e.__cachedNormalZ2=e.z2;var i=e.style;for(var r in t)null!=t[r]&&(n[r]=i[r]);n.fill=i.fill,n.stroke=i.stroke}else e.__cachedNormalStl=e.__cachedNormalZ2=null}}(r),o.extendFrom(t),kc(o,t,"fill"),kc(o,t,"stroke"),Zc(o),i||(e.dirty(!1),e.z2+=1)}}}function kc(e,t,n){!Cc(t[n])&&Cc(e[n])&&(e[n]=function(e){if("string"!=typeof e)return e;var t=Dc.get(e);return t||(t=Yu.lift(e,-.1),Pc<1e4&&(Dc.set(e,t),Pc++)),t}(e[n]))}function Oc(e){var t=e.__highlighted;if(t&&(e.__highlighted=!1,!e.isGroup))if("layer"===t)e.__zr&&e.__zr.removeHover(e);else{var n=e.style,i=e.__cachedNormalStl;i&&(Yc(n),e.setStyle(i),Zc(n));var r=e.__cachedNormalZ2;null!=r&&e.z2-r==1&&(e.z2=r)}}function Nc(e,t,n){var i,r="normal",o="normal";e.__highlighted&&(r="emphasis",i=!0),t(e,n),e.__highlighted&&(o="emphasis",i=!0),e.isGroup&&e.traverse((function(e){!e.isGroup&&t(e,n)})),i&&e.__highDownOnUpdate&&e.__highDownOnUpdate(r,o)}function Rc(e,t){t=e.__hoverStl=!1!==t&&(e.hoverStyle||t||{}),e.__hoverStlDirty=!0,e.__highlighted&&(e.__cachedNormalStl=null,Oc(e),Lc(e))}function Ec(e){!Gc(this,e)&&!this.__highByOuter&&Nc(this,Lc)}function zc(e){!Gc(this,e)&&!this.__highByOuter&&Nc(this,Oc)}function Bc(e){this.__highByOuter|=1<<(e||0),Nc(this,Lc)}function Vc(e){!(this.__highByOuter&=~(1<<(e||0)))&&Nc(this,Oc)}function Gc(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function Fc(e,t){var n=!1===t;if(e.__highDownSilentOnTouch=e.highDownSilentOnTouch,e.__highDownOnUpdate=e.highDownOnUpdate,!n||e.__highDownDispatcher){var i=n?"off":"on";e[i]("mouseover",Ec)[i]("mouseout",zc),e[i]("emphasis",Bc)[i]("normal",Vc),e.__highByOuter=e.__highByOuter||0,e.__highDownDispatcher=!n}}function Hc(e,t,n,i,r){return Wc(e,t,i,r),n&&ju.extend(e,n),e}function Wc(e,t,n,i){if((n=n||yc).isRectText){var r;n.getTextPosition?r=n.getTextPosition(t,i):"outside"===(r=t.getShallow("position")||(i?null:"inside"))&&(r="top"),e.textPosition=r,e.textOffset=t.getShallow("offset");var o=t.getShallow("rotate");null!=o&&(o*=Math.PI/180),e.textRotation=o,e.textDistance=ju.retrieve2(t.getShallow("distance"),i?null:5)}var a,s=t.ecModel,l=s&&s.option.textStyle,u=function(e){var t;for(;e&&e!==e.ecModel;){var n=(e.option||yc).rich;if(n)for(var i in t=t||{},n)n.hasOwnProperty(i)&&(t[i]=1);e=e.parentModel}return t}(t);if(u)for(var c in a={},u)if(u.hasOwnProperty(c)){var h=t.getModel(["rich",c]);Uc(a[c]={},h,l,n,i)}return e.rich=a,Uc(e,t,l,n,i,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),e}function Uc(e,t,n,i,r,o){n=!r&&n||yc,e.textFill=jc(t.getShallow("color"),i)||n.color,e.textStroke=jc(t.getShallow("textBorderColor"),i)||n.textBorderColor,e.textStrokeWidth=ju.retrieve2(t.getShallow("textBorderWidth"),n.textBorderWidth),r||(o&&(e.insideRollbackOpt=i,Zc(e)),null==e.textFill&&(e.textFill=i.autoColor)),e.fontStyle=t.getShallow("fontStyle")||n.fontStyle,e.fontWeight=t.getShallow("fontWeight")||n.fontWeight,e.fontSize=t.getShallow("fontSize")||n.fontSize,e.fontFamily=t.getShallow("fontFamily")||n.fontFamily,e.textAlign=t.getShallow("align"),e.textVerticalAlign=t.getShallow("verticalAlign")||t.getShallow("baseline"),e.textLineHeight=t.getShallow("lineHeight"),e.textWidth=t.getShallow("width"),e.textHeight=t.getShallow("height"),e.textTag=t.getShallow("tag"),o&&i.disableBox||(e.textBackgroundColor=jc(t.getShallow("backgroundColor"),i),e.textPadding=t.getShallow("padding"),e.textBorderColor=jc(t.getShallow("borderColor"),i),e.textBorderWidth=t.getShallow("borderWidth"),e.textBorderRadius=t.getShallow("borderRadius"),e.textBoxShadowColor=t.getShallow("shadowColor"),e.textBoxShadowBlur=t.getShallow("shadowBlur"),e.textBoxShadowOffsetX=t.getShallow("shadowOffsetX"),e.textBoxShadowOffsetY=t.getShallow("shadowOffsetY")),e.textShadowColor=t.getShallow("textShadowColor")||n.textShadowColor,e.textShadowBlur=t.getShallow("textShadowBlur")||n.textShadowBlur,e.textShadowOffsetX=t.getShallow("textShadowOffsetX")||n.textShadowOffsetX,e.textShadowOffsetY=t.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function jc(e,t){return"auto"!==e?e:t&&t.autoColor?t.autoColor:null}function Zc(e){var t,n=e.textPosition,i=e.insideRollbackOpt;if(i&&null==e.textFill){var r=i.autoColor,o=i.isRectText,a=i.useInsideStyle,s=!1!==a&&(!0===a||o&&n&&"string"==typeof n&&n.indexOf("inside")>=0),l=!s&&null!=r;(s||l)&&(t={textFill:e.textFill,textStroke:e.textStroke,textStrokeWidth:e.textStrokeWidth}),s&&(e.textFill="#fff",null==e.textStroke&&(e.textStroke=r,null==e.textStrokeWidth&&(e.textStrokeWidth=2))),l&&(e.textFill=r)}e.insideRollback=t}function Yc(e){var t=e.insideRollback;t&&(e.textFill=t.textFill,e.textStroke=t.textStroke,e.textStrokeWidth=t.textStrokeWidth,e.insideRollback=null)}function Xc(e,t,n,i,r,o){if("function"==typeof r&&(o=r,r=null),i&&i.isAnimationEnabled()){var a=e?"Update":"",s=i.getShallow("animationDuration"+a),l=i.getShallow("animationEasing"+a),u=i.getShallow("animationDelay"+a);"function"==typeof u&&(u=u(r,i.getAnimationDelayParams?i.getAnimationDelayParams(t,r):null)),"function"==typeof s&&(s=s(r)),s>0?t.animateTo(n,s,u||0,l,o,!!o):(t.stopAnimation(),t.attr(n),o&&o())}else t.stopAnimation(),t.attr(n),o&&o()}function qc(e,t,n,i,r){Xc(!0,e,t,n,i,r)}function Kc(e,t,n){return t&&!ju.isArrayLike(t)&&(t=Ju.getLocalTransform(t)),n&&(t=Xu.invert([],t)),qu.applyTransform([],e,t)}function Jc(e,t,n,i,r,o,a,s){var l,u=n-e,c=i-t,h=a-r,d=s-o,f=Qc(h,d,u,c);if((l=f)<=1e-6&&l>=-1e-6)return!1;var p=e-r,g=t-o,m=Qc(p,g,u,c)/f;if(m<0||m>1)return!1;var v=Qc(p,g,h,d)/f;return!(v<0||v>1)}function Qc(e,t,n,i){return e*i-n*t}wc("circle",tc),wc("sector",nc),wc("ring",ic),wc("polygon",rc),wc("polyline",oc),wc("rect",ac),wc("line",sc),wc("bezierCurve",lc),wc("arc",uc),Ia.Z2_EMPHASIS_LIFT=1,Ia.CACHED_LABEL_STYLE_PROPERTIES={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},Ia.extendShape=function(e){return Ku.extend(e)},Ia.extendPath=function(e,t){return Zu.extendFromString(e,t)},Ia.registerShape=wc,Ia.getShapeClass=function(e){if(bc.hasOwnProperty(e))return bc[e]},Ia.makePath=Sc,Ia.makeImage=function(e,t,n){var i=new Qu({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(e){if("center"===n){var r={width:e.width,height:e.height};i.setStyle(Mc(t,r))}}});return i},Ia.mergePath=Ic,Ia.resizePath=Ac,Ia.subPixelOptimizeLine=function(e){return gc.subPixelOptimizeLine(e.shape,e.shape,e.style),e},Ia.subPixelOptimizeRect=function(e){return gc.subPixelOptimizeRect(e.shape,e.shape,e.style),e},Ia.subPixelOptimize=Tc,Ia.setElementHoverStyle=Rc,Ia.setHoverStyle=function(e,t){Fc(e,!0),Nc(e,Rc,t)},Ia.setAsHighDownDispatcher=Fc,Ia.isHighDownDispatcher=function(e){return!(!e||!e.__highDownDispatcher)},Ia.getHighlightDigit=function(e){var t=xc[e];return null==t&&_c<=32&&(t=xc[e]=_c++),t},Ia.setLabelStyle=function(e,t,n,i,r,o,a){var s,l=(r=r||yc).labelFetcher,u=r.labelDataIndex,c=r.labelDimIndex,h=r.labelProp,d=n.getShallow("show"),f=i.getShallow("show");(d||f)&&(l&&(s=l.getFormattedLabel(u,"normal",null,c,h)),null==s&&(s=ju.isFunction(r.defaultText)?r.defaultText(u,r):r.defaultText));var p=d?s:null,g=f?ju.retrieve2(l?l.getFormattedLabel(u,"emphasis",null,c,h):null,s):null;null==p&&null==g||(Hc(e,n,o,r),Hc(t,i,a,r,!0)),e.text=p,t.text=g},Ia.modifyLabelStyle=function(e,t,n){var i=e.style;t&&(Yc(i),e.setStyle(t),Zc(i)),i=e.__hoverStl,n&&i&&(Yc(i),ju.extend(i,n),Zc(i))},Ia.setTextStyle=Hc,Ia.setText=function(e,t,n){var i,r={isRectText:!0};!1===n?i=!0:r.autoColor=n,Wc(e,t,r,i)},Ia.getFont=function(e,t){var n=t&&t.getModel("textStyle");return ju.trim([e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))},Ia.updateProps=qc,Ia.initProps=function(e,t,n,i,r){Xc(!1,e,t,n,i,r)},Ia.getTransform=function(e,t){for(var n=Xu.identity([]);e&&e!==t;)Xu.mul(n,e.getLocalTransform(),n),e=e.parent;return n},Ia.applyTransform=Kc,Ia.transformDirection=function(e,t,n){var i=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),r=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),o=["left"===e?-i:"right"===e?i:0,"top"===e?-r:"bottom"===e?r:0];return o=Kc(o,t,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"},Ia.groupTransition=function(e,t,n,i){if(e&&t){var r,o=(r={},e.traverse((function(e){!e.isGroup&&e.anid&&(r[e.anid]=e)})),r);t.traverse((function(e){if(!e.isGroup&&e.anid){var t=o[e.anid];if(t){var i=a(e);e.attr(a(t)),qc(e,i,n,e.dataIndex)}}}))}function a(e){var t={position:qu.clone(e.position),rotation:e.rotation};return e.shape&&(t.shape=ju.extend({},e.shape)),t}},Ia.clipPointsByRect=function(e,t){return ju.map(e,(function(e){var n=e[0];n=mc(n,t.x),n=vc(n,t.x+t.width);var i=e[1];return i=mc(i,t.y),[n,i=vc(i,t.y+t.height)]}))},Ia.clipRectByRect=function(e,t){var n=mc(e.x,t.x),i=vc(e.x+e.width,t.x+t.width),r=mc(e.y,t.y),o=vc(e.y+e.height,t.y+t.height);if(i>=n&&o>=r)return{x:n,y:r,width:i-n,height:o-r}},Ia.createIcon=function(e,t,n){var i=(t=ju.extend({rectHover:!0},t)).style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return 0===e.indexOf("image://")?(i.image=e.slice(8),ju.defaults(i,n),new Qu(t)):Sc(e.replace("path://",""),t,n,"center")},Ia.linePolygonIntersect=function(e,t,n,i,r){for(var o=0,a=r[r.length-1];o<r.length;o++){var s=r[o];if(Jc(e,t,n,i,s[0],s[1],a[0],a[1]))return!0;a=s}},Ia.lineLineIntersect=Jc;var $c=xi,eh=Ia,th=["textStyle","color"],nh={getTextColor:function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(th):null)},getFont:function(){return eh.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(e){return $c.getBoundingRect(e,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}},ih=xa([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),rh={getItemStyle:function(e,t){var n=ih(this,e,t),i=this.getBorderLineDash();return i&&(n.lineDash=i),n},getBorderLineDash:function(){var e=this.get("borderType");return"solid"===e||null==e?null:"dashed"===e?[5,5]:[1,1]}},oh=g,ah=p,sh=na.makeInner,lh=da,uh=lh.enableClassExtend,ch=lh.enableClassCheck,hh=wa,dh=Ma,fh=nh,ph=rh,gh=oh.mixin,mh=sh();function vh(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}function yh(e,t,n){for(var i=0;i<t.length&&(!t[i]||null!=(e=e&&"object"==typeof e?e[t[i]]:null));i++);return null==e&&n&&(e=n.get(t)),e}function _h(e,t){var n=mh(e).getParent;return n?n.call(e,t):e.parentModel}vh.prototype={constructor:vh,init:null,mergeOption:function(e){oh.merge(this.option,e,!0)},get:function(e,t){return null==e?this.option:yh(this.option,this.parsePath(e),!t&&_h(this,e))},getShallow:function(e,t){var n=this.option,i=null==n?n:n[e],r=!t&&_h(this,e);return null==i&&r&&(i=r.getShallow(e)),i},getModel:function(e,t){var n;return new vh(null==e?this.option:yh(this.option,e=this.parsePath(e)),t=t||(n=_h(this,e))&&n.getModel(e),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(oh.clone(this.option))},setReadOnly:function(e){},parsePath:function(e){return"string"==typeof e&&(e=e.split(".")),e},customizeGetParent:function(e){mh(this).getParent=e},isAnimationEnabled:function(){if(!ah.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},uh(vh),ch(vh),gh(vh,hh),gh(vh,dh),gh(vh,fh),gh(vh,ph);var xh=vh,bh={},wh=g,Sh=da.parseClassType,Mh=0;bh.getUID=function(e){return[e||"",Mh++,Math.random().toFixed(5)].join("_")},bh.enableSubTypeDefaulter=function(e){var t={};return e.registerSubTypeDefaulter=function(e,n){e=Sh(e),t[e.main]=n},e.determineSubType=function(n,i){var r=i.type;if(!r){var o=Sh(n).main;e.hasSubTypes(n)&&t[o]&&(r=t[o](i))}return r},e},bh.enableTopologicalTravel=function(e,t){function n(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}e.topologicalTravel=function(e,i,r,o){if(e.length){var a=function(e){var i={},r=[];return wh.each(e,(function(o){var a=n(i,o),s=function(e,t){var n=[];return wh.each(e,(function(e){wh.indexOf(t,e)>=0&&n.push(e)})),n}(a.originalDeps=t(o),e);a.entryCount=s.length,0===a.entryCount&&r.push(o),wh.each(s,(function(e){wh.indexOf(a.predecessor,e)<0&&a.predecessor.push(e);var t=n(i,e);wh.indexOf(t.successor,e)<0&&t.successor.push(o)}))})),{graph:i,noEntryList:r}}(i),s=a.graph,l=a.noEntryList,u={};for(wh.each(e,(function(e){u[e]=!0}));l.length;){var c=l.pop(),h=s[c],d=!!u[c];d&&(r.call(o,c,h.originalDeps.slice()),delete u[c]),wh.each(h.successor,d?p:f)}wh.each(u,(function(){throw new Error("Circle dependency may exists")}))}function f(e){s[e].entryCount--,0===s[e].entryCount&&l.push(e)}function p(e){u[e]=!0,f(e)}}};var Ih={},Ah={},Th=g;var Ch=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Dh(e){if(0===e)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}Ah.linearMap=function(e,t,n,i){var r=t[1]-t[0],o=n[1]-n[0];if(0===r)return 0===o?n[0]:(n[0]+n[1])/2;if(i)if(r>0){if(e<=t[0])return n[0];if(e>=t[1])return n[1]}else{if(e>=t[0])return n[0];if(e<=t[1])return n[1]}else{if(e===t[0])return n[0];if(e===t[1])return n[1]}return(e-t[0])/r*o+n[0]},Ah.parsePercent=function(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}return"string"==typeof e?(n=e,n.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?NaN:+e;var n},Ah.round=function(e,t,n){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),e=(+e).toFixed(t),n?e:+e},Ah.asc=function(e){return e.sort((function(e,t){return e-t})),e},Ah.getPrecision=function(e){if(e=+e,isNaN(e))return 0;for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n},Ah.getPrecisionSafe=function(e){var t=e.toString(),n=t.indexOf("e");if(n>0){var i=+t.slice(n+1);return i<0?-i:0}var r=t.indexOf(".");return r<0?0:t.length-1-r},Ah.getPixelPrecision=function(e,t){var n=Math.log,i=Math.LN10,r=Math.floor(n(e[1]-e[0])/i),o=Math.round(n(Math.abs(t[1]-t[0]))/i),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20},Ah.getPercentWithPrecision=function(e,t,n){if(!e[t])return 0;var i=Th.reduce(e,(function(e,t){return e+(isNaN(t)?0:t)}),0);if(0===i)return 0;for(var r=Math.pow(10,n),o=Th.map(e,(function(e){return(isNaN(e)?0:e)/i*r*100})),a=100*r,s=Th.map(o,(function(e){return Math.floor(e)})),l=Th.reduce(s,(function(e,t){return e+t}),0),u=Th.map(o,(function(e,t){return e-s[t]}));l<a;){for(var c=Number.NEGATIVE_INFINITY,h=null,d=0,f=u.length;d<f;++d)u[d]>c&&(c=u[d],h=d);++s[h],u[h]=0,++l}return s[t]/r},Ah.MAX_SAFE_INTEGER=9007199254740991,Ah.remRadian=function(e){var t=2*Math.PI;return(e%t+t)%t},Ah.isRadianAroundZero=function(e){return e>-1e-4&&e<1e-4},Ah.parseDate=function(e){if(e instanceof Date)return e;if("string"==typeof e){var t=Ch.exec(e);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(n-=t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,+t[7]||0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,+t[7]||0)}return null==e?new Date(NaN):new Date(Math.round(e))},Ah.quantity=function(e){return Math.pow(10,Dh(e))},Ah.quantityExponent=Dh,Ah.nice=function(e,t){var n=Dh(e),i=Math.pow(10,n),r=e/i;return e=(t?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*i,n>=-20?+e.toFixed(n<0?-n:0):e},Ah.quantile=function(e,t){var n=(e.length-1)*t+1,i=Math.floor(n),r=+e[i-1],o=n-i;return o?r+o*(e[i]-r):r},Ah.reformIntervals=function(e){e.sort((function(e,t){return s(e,t,0)?-1:1}));for(var t=-1/0,n=1,i=0;i<e.length;){for(var r=e[i].interval,o=e[i].close,a=0;a<2;a++)r[a]<=t&&(r[a]=t,o[a]=a?1:1-n),t=r[a],n=o[a];r[0]===r[1]&&o[0]*o[1]!=1?e.splice(i,1):i++}return e;function s(e,t,n){return e.interval[n]<t.interval[n]||e.interval[n]===t.interval[n]&&(e.close[n]-t.close[n]==(n?-1:1)||!n&&s(e,t,1))}},Ah.isNumeric=function(e){return e-parseFloat(e)>=0};var Ph={},Lh=g,kh=xi,Oh=Ah;var Nh=Lh.normalizeCssArray,Rh=/([&<>"'])/g,Eh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function zh(e){return null==e?"":(e+"").replace(Rh,(function(e,t){return Eh[t]}))}var Bh=["a","b","c","d","e","f","g"],Vh=function(e,t){return"{"+e+(null==t?"":t)+"}"};function Gh(e,t){return"0000".substr(0,t-(e+="").length)+e}var Fh=kh.truncateText;Ph.addCommas=function(e){return isNaN(e)?"-":(e=(e+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")},Ph.toCamelCase=function(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()})),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e},Ph.normalizeCssArray=Nh,Ph.encodeHTML=zh,Ph.formatTpl=function(e,t,n){Lh.isArray(t)||(t=[t]);var i=t.length;if(!i)return"";for(var r=t[0].$vars||[],o=0;o<r.length;o++){var a=Bh[o];e=e.replace(Vh(a),Vh(a,0))}for(var s=0;s<i;s++)for(var l=0;l<r.length;l++){var u=t[s][r[l]];e=e.replace(Vh(Bh[l],s),n?zh(u):u)}return e},Ph.formatTplSimple=function(e,t,n){return Lh.each(t,(function(t,i){e=e.replace("{"+i+"}",n?zh(t):t)})),e},Ph.getTooltipMarker=function(e,t){var n=(e=Lh.isString(e)?{color:e,extraCssText:t}:e||{}).color,i=e.type,r=(t=e.extraCssText,e.renderMode||"html"),o=e.markerId||"X";return n?"html"===r?"subItem"===i?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+zh(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+zh(n)+";"+(t||"")+'"></span>':{renderMode:r,content:"{marker"+o+"|}  ",style:{color:n}}:""},Ph.formatTime=function(e,t,n){"week"!==e&&"month"!==e&&"quarter"!==e&&"half-year"!==e&&"year"!==e||(e="MM-dd\nyyyy");var i=Oh.parseDate(t),r=n?"UTC":"",o=i["get"+r+"FullYear"](),a=i["get"+r+"Month"]()+1,s=i["get"+r+"Date"](),l=i["get"+r+"Hours"](),u=i["get"+r+"Minutes"](),c=i["get"+r+"Seconds"](),h=i["get"+r+"Milliseconds"]();return e=e.replace("MM",Gh(a,2)).replace("M",a).replace("yyyy",o).replace("yy",o%100).replace("dd",Gh(s,2)).replace("d",s).replace("hh",Gh(l,2)).replace("h",l).replace("mm",Gh(u,2)).replace("m",u).replace("ss",Gh(c,2)).replace("s",c).replace("SSS",Gh(h,3))},Ph.capitalFirst=function(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e},Ph.truncateText=Fh,Ph.getTextBoundingRect=function(e){return kh.getBoundingRect(e.text,e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich,e.truncate)},Ph.getTextRect=function(e,t,n,i,r,o,a,s){return kh.getBoundingRect(e,t,n,i,r,s,o,a)},Ph.windowOpen=function(e,t){if("_blank"===t||"blank"===t){var n=window.open();n.opener=null,n.location=e}else window.open(e,t)};var Hh=g,Wh=Pn,Uh=Ah.parsePercent,jh=Ph,Zh=Hh.each,Yh=["left","right","top","bottom","width","height"],Xh=[["width","left","right"],["height","top","bottom"]];function qh(e,t,n,i,r){var o=0,a=0;null==i&&(i=1/0),null==r&&(r=1/0);var s=0;t.eachChild((function(l,u){var c,h,d=l.position,f=l.getBoundingRect(),p=t.childAt(u+1),g=p&&p.getBoundingRect();if("horizontal"===e){var m=f.width+(g?-g.x+f.x:0);(c=o+m)>i||l.newline?(o=0,c=m,a+=s+n,s=f.height):s=Math.max(s,f.height)}else{var v=f.height+(g?-g.y+f.y:0);(h=a+v)>r||l.newline?(o+=s+n,a=0,h=v,s=f.width):s=Math.max(s,f.width)}l.newline||(d[0]=o,d[1]=a,"horizontal"===e?o=c+n:a=h+n)}))}var Kh=qh,Jh=Hh.curry(qh,"vertical"),Qh=Hh.curry(qh,"horizontal");function $h(e,t,n){n=jh.normalizeCssArray(n||0);var i=t.width,r=t.height,o=Uh(e.left,i),a=Uh(e.top,r),s=Uh(e.right,i),l=Uh(e.bottom,r),u=Uh(e.width,i),c=Uh(e.height,r),h=n[2]+n[0],d=n[1]+n[3],f=e.aspect;switch(isNaN(u)&&(u=i-s-d-o),isNaN(c)&&(c=r-l-h-a),null!=f&&(isNaN(u)&&isNaN(c)&&(f>i/r?u=.8*i:c=.8*r),isNaN(u)&&(u=f*c),isNaN(c)&&(c=u/f)),isNaN(o)&&(o=i-s-u-d),isNaN(a)&&(a=r-l-c-h),e.left||e.right){case"center":o=i/2-u/2-n[3];break;case"right":o=i-u-d}switch(e.top||e.bottom){case"middle":case"center":a=r/2-c/2-n[0];break;case"bottom":a=r-c-h}o=o||0,a=a||0,isNaN(u)&&(u=i-d-o-(s||0)),isNaN(c)&&(c=r-h-a-(l||0));var p=new Wh(o+n[3],a+n[0],u,c);return p.margin=n,p}function ed(e,t){return t&&e&&Zh(Yh,(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e}Ih.LOCATION_PARAMS=Yh,Ih.HV_NAMES=Xh,Ih.box=Kh,Ih.vbox=Jh,Ih.hbox=Qh,Ih.getAvailableSize=function(e,t,n){var i=t.width,r=t.height,o=Uh(e.x,i),a=Uh(e.y,r),s=Uh(e.x2,i),l=Uh(e.y2,r);return(isNaN(o)||isNaN(parseFloat(e.x)))&&(o=0),(isNaN(s)||isNaN(parseFloat(e.x2)))&&(s=i),(isNaN(a)||isNaN(parseFloat(e.y)))&&(a=0),(isNaN(l)||isNaN(parseFloat(e.y2)))&&(l=r),n=jh.normalizeCssArray(n||0),{width:Math.max(s-o-n[1]-n[3],0),height:Math.max(l-a-n[0]-n[2],0)}},Ih.getLayoutRect=$h,Ih.positionElement=function(e,t,n,i,r){var o=!r||!r.hv||r.hv[0],a=!r||!r.hv||r.hv[1],s=r&&r.boundingMode||"all";if(o||a){var l;if("raw"===s)l="group"===e.type?new Wh(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(l=e.getBoundingRect(),e.needLocalTransform()){var u=e.getLocalTransform();(l=l.clone()).applyTransform(u)}t=$h(Hh.defaults({width:l.width,height:l.height},t),n,i);var c=e.position,h=o?t.x-l.x:0,d=a?t.y-l.y:0;e.attr("position","raw"===s?[h,d]:[c[0]+h,c[1]+d])}},Ih.sizeCalculable=function(e,t){return null!=e[Xh[t][0]]||null!=e[Xh[t][1]]&&null!=e[Xh[t][2]]},Ih.mergeLayoutParam=function(e,t,n){!Hh.isObject(n)&&(n={});var i=n.ignoreSize;!Hh.isArray(i)&&(i=[i,i]);var r=a(Xh[0],0),o=a(Xh[1],1);function a(n,r){var o={},a=0,u={},c=0;if(Zh(n,(function(t){u[t]=e[t]})),Zh(n,(function(e){s(t,e)&&(o[e]=u[e]=t[e]),l(o,e)&&a++,l(u,e)&&c++})),i[r])return l(t,n[1])?u[n[2]]=null:l(t,n[2])&&(u[n[1]]=null),u;if(2!==c&&a){if(a>=2)return o;for(var h=0;h<n.length;h++){var d=n[h];if(!s(o,d)&&s(e,d)){o[d]=e[d];break}}return o}return u}function s(e,t){return e.hasOwnProperty(t)}function l(e,t){return null!=e[t]&&"auto"!==e[t]}function u(e,t,n){Zh(e,(function(e){t[e]=n[e]}))}u(Xh[0],e,r),u(Xh[1],e,o)},Ih.getLayoutParams=function(e){return ed({},e)},Ih.copyLayoutParams=ed;var td={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}},nd=g,id=xh,rd=bh,od=da,ad=od.enableClassManagement,sd=od.parseClassType,ld=na.makeInner,ud=Ih,cd=td,hd=ld(),dd=id.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,n,i){id.call(this,e,t,n,i),this.uid=rd.getUID("ec_cpt_model")},init:function(e,t,n,i){this.mergeDefaultAndTheme(e,n)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,i=n?ud.getLayoutParams(e):{},r=t.getTheme();nd.merge(e,r.get(this.mainType)),nd.merge(e,this.getDefaultOption()),n&&ud.mergeLayoutParam(e,i,n)},mergeOption:function(e,t){nd.merge(this.option,e,!0);var n=this.layoutMode;n&&ud.mergeLayoutParam(this.option,e,n)},optionUpdated:function(e,t){},getDefaultOption:function(){var e=hd(this);if(!e.defaultOption){for(var t=[],n=this.constructor;n;){var i=n.prototype.defaultOption;i&&t.push(i),n=n.superClass}for(var r={},o=t.length-1;o>=0;o--)r=nd.merge(r,t[o],!0);e.defaultOption=r}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)})}});ad(dd,{registerWhenExtend:!0}),rd.enableSubTypeDefaulter(dd),rd.enableTopologicalTravel(dd,(function(e){var t=[];nd.each(dd.getClassesByMainType(e),(function(e){t=t.concat(e.prototype.dependencies||[])})),t=nd.map(t,(function(e){return sd(e).main})),"dataset"!==e&&nd.indexOf(t,"dataset")<=0&&t.unshift("dataset");return t})),nd.mixin(dd,cd);var fd=dd,pd="";"undefined"!=typeof navigator&&(pd=navigator.platform||"");var gd={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:pd.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},md=na,vd=md.makeInner,yd=md.normalizeToArray,_d=vd();var xd={clearColorPalette:function(){_d(this).colorIdx=0,_d(this).colorNameMap={}},getColorFromPalette:function(e,t,n){var i=_d(t=t||this),r=i.colorIdx||0,o=i.colorNameMap=i.colorNameMap||{};if(o.hasOwnProperty(e))return o[e];var a=yd(this.get("color",!0)),s=this.get("colorLayer",!0),l=null!=n&&s?function(e,t){for(var n=e.length,i=0;i<n;i++)if(e[i].length>t)return e[i];return e[n-1]}(s,n):a;if((l=l||a)&&l.length){var u=l[r];return e&&(o[e]=u),i.colorIdx=(r+1)%l.length,u}}},bd={},wd={};wd.SOURCE_FORMAT_ORIGINAL="original",wd.SOURCE_FORMAT_ARRAY_ROWS="arrayRows",wd.SOURCE_FORMAT_OBJECT_ROWS="objectRows",wd.SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",wd.SOURCE_FORMAT_UNKNOWN="unknown",wd.SOURCE_FORMAT_TYPED_ARRAY="typedArray",wd.SERIES_LAYOUT_BY_COLUMN="column",wd.SERIES_LAYOUT_BY_ROW="row";var Sd=g,Md=Sd.createHashMap,Id=Sd.isTypedArray,Ad=da.enableClassCheck,Td=wd,Cd=Td.SOURCE_FORMAT_ORIGINAL,Dd=Td.SERIES_LAYOUT_BY_COLUMN,Pd=Td.SOURCE_FORMAT_UNKNOWN,Ld=Td.SOURCE_FORMAT_TYPED_ARRAY,kd=Td.SOURCE_FORMAT_KEYED_COLUMNS;function Od(e){this.fromDataset=e.fromDataset,this.data=e.data||(e.sourceFormat===kd?{}:[]),this.sourceFormat=e.sourceFormat||Pd,this.seriesLayoutBy=e.seriesLayoutBy||Dd,this.dimensionsDefine=e.dimensionsDefine,this.encodeDefine=e.encodeDefine&&Md(e.encodeDefine),this.startIndex=e.startIndex||0,this.dimensionsDetectCount=e.dimensionsDetectCount}Od.seriesDataToSource=function(e){return new Od({data:e,sourceFormat:Id(e)?Ld:Cd,fromDataset:!1})},Ad(Od);var Nd=Od,Rd=na,Ed=Rd.makeInner,zd=Rd.getDataItemValue,Bd=g,Vd=Bd.createHashMap,Gd=Bd.each,Fd=Bd.map,Hd=Bd.isArray,Wd=Bd.isString,Ud=Bd.isObject,jd=Bd.isTypedArray,Zd=Bd.isArrayLike,Yd=Bd.extend;Bd.assert;var Xd=Nd,qd=wd,Kd=qd.SOURCE_FORMAT_ORIGINAL,Jd=qd.SOURCE_FORMAT_ARRAY_ROWS,Qd=qd.SOURCE_FORMAT_OBJECT_ROWS,$d=qd.SOURCE_FORMAT_KEYED_COLUMNS,ef=qd.SOURCE_FORMAT_UNKNOWN,tf=qd.SOURCE_FORMAT_TYPED_ARRAY,nf=qd.SERIES_LAYOUT_BY_ROW,rf={Must:1,Might:2,Not:3},of=Ed();function af(e){if(e){var t=Vd();return Fd(e,(function(e,n){if(null==(e=Yd({},Ud(e)?e:{name:e})).name)return e;e.name+="",null==e.displayName&&(e.displayName=e.name);var i=t.get(e.name);return i?e.name+="-"+i.count++:t.set(e.name,{count:1}),e}))}}function sf(e,t,n,i){if(null==i&&(i=1/0),t===nf)for(var r=0;r<n.length&&r<i;r++)e(n[r]?n[r][0]:null,r);else{var o=n[0]||[];for(r=0;r<o.length&&r<i;r++)e(o[r],r)}}function lf(e){var t=e.option;if(!t.data)return e.ecModel.getComponent("dataset",t.datasetIndex||0)}function uf(e,t,n,i,r,o){var a,s,l;if(jd(e))return rf.Not;if(i){var u=i[o];Ud(u)?(s=u.name,l=u.type):Wd(u)&&(s=u)}if(null!=l)return"ordinal"===l?rf.Must:rf.Not;if(t===Jd)if(n===nf){for(var c=e[o],h=0;h<(c||[]).length&&h<5;h++)if(null!=(a=g(c[r+h])))return a}else for(h=0;h<e.length&&h<5;h++){var d=e[r+h];if(d&&null!=(a=g(d[o])))return a}else if(t===Qd){if(!s)return rf.Not;for(h=0;h<e.length&&h<5;h++){if((f=e[h])&&null!=(a=g(f[s])))return a}}else if(t===$d){if(!s)return rf.Not;if(!(c=e[s])||jd(c))return rf.Not;for(h=0;h<c.length&&h<5;h++)if(null!=(a=g(c[h])))return a}else if(t===Kd)for(h=0;h<e.length&&h<5;h++){var f=e[h],p=zd(f);if(!Hd(p))return rf.Not;if(null!=(a=g(p[o])))return a}function g(e){var t=Wd(e);return null!=e&&isFinite(e)&&""!==e?t?rf.Might:rf.Not:t&&"-"!==e?rf.Must:void 0}return rf.Not}bd.BE_ORDINAL=rf,bd.detectSourceFormat=function(e){var t=e.option.source,n=ef;if(jd(t))n=tf;else if(Hd(t)){0===t.length&&(n=Jd);for(var i=0,r=t.length;i<r;i++){var o=t[i];if(null!=o){if(Hd(o)){n=Jd;break}if(Ud(o)){n=Qd;break}}}}else if(Ud(t)){for(var a in t)if(t.hasOwnProperty(a)&&Zd(t[a])){n=$d;break}}else if(null!=t)throw new Error("Invalid data");of(e).sourceFormat=n},bd.getSource=function(e){return of(e).source},bd.resetSourceDefaulter=function(e){of(e).datasetMap=Vd()},bd.prepareSource=function(e){var t=e.option,n=t.data,i=jd(n)?tf:Kd,r=!1,o=t.seriesLayoutBy,a=t.sourceHeader,s=t.dimensions,l=lf(e);if(l){var u=l.option;n=u.source,i=of(l).sourceFormat,r=!0,o=o||u.seriesLayoutBy,null==a&&(a=u.sourceHeader),s=s||u.dimensions}var c=function(e,t,n,i,r){if(!e)return{dimensionsDefine:af(r)};var o,a;if(t===Jd)"auto"===i||null==i?sf((function(e){null!=e&&"-"!==e&&(Wd(e)?null==a&&(a=1):a=0)}),n,e,10):a=i?1:0,r||1!==a||(r=[],sf((function(e,t){r[t]=null!=e?e:""}),n,e)),o=r?r.length:n===nf?e.length:e[0]?e[0].length:null;else if(t===Qd)r||(r=function(e){var t,n=0;for(;n<e.length&&!(t=e[n++]););if(t){var i=[];return Gd(t,(function(e,t){i.push(t)})),i}}(e));else if(t===$d)r||(r=[],Gd(e,(function(e,t){r.push(t)})));else if(t===Kd){var s=zd(e[0]);o=Hd(s)&&s.length||1}return{startIndex:a,dimensionsDefine:af(r),dimensionsDetectCount:o}}(n,i,o,a,s);of(e).source=new Xd({data:n,fromDataset:r,seriesLayoutBy:o,sourceFormat:i,dimensionsDefine:c.dimensionsDefine,startIndex:c.startIndex,dimensionsDetectCount:c.dimensionsDetectCount,encodeDefine:t.encode})},bd.makeSeriesEncodeForAxisCoordSys=function(e,t,n){var i={},r=lf(t);if(!r||!e)return i;var o,a,s=[],l=[],u=t.ecModel,c=of(u).datasetMap,h=r.uid+"_"+n.seriesLayoutBy;e=e.slice(),Gd(e,(function(t,n){!Ud(t)&&(e[n]={name:t}),"ordinal"===t.type&&null==o&&(o=n,a=p(e[n])),i[t.name]=[]}));var d=c.get(h)||c.set(h,{categoryWayDim:a,valueWayDim:0});function f(e,t,n){for(var i=0;i<n;i++)e.push(t+i)}function p(e){var t=e.dimsDef;return t?t.length:1}return Gd(e,(function(e,t){var n=e.name,r=p(e);if(null==o){var a=d.valueWayDim;f(i[n],a,r),f(l,a,r),d.valueWayDim+=r}else if(o===t)f(i[n],0,r),f(s,0,r);else{a=d.categoryWayDim;f(i[n],a,r),f(l,a,r),d.categoryWayDim+=r}})),s.length&&(i.itemName=s),l.length&&(i.seriesName=l),i},bd.makeSeriesEncodeForNameBased=function(e,t,n){var i={};if(!lf(e))return i;var r,o=t.sourceFormat,a=t.dimensionsDefine;o!==Qd&&o!==$d||Gd(a,(function(e,t){"name"===(Ud(e)?e.name:e)&&(r=t)}));var s=function(){for(var e={},i={},s=[],l=0,u=Math.min(5,n);l<u;l++){var c=uf(t.data,o,t.seriesLayoutBy,a,t.startIndex,l);s.push(c);var h=c===rf.Not;if(h&&null==e.v&&l!==r&&(e.v=l),(null==e.n||e.n===e.v||!h&&s[e.n]===rf.Not)&&(e.n=l),d(e)&&s[e.n]!==rf.Not)return e;h||(c===rf.Might&&null==i.v&&l!==r&&(i.v=l),null!=i.n&&i.n!==i.v||(i.n=l))}function d(e){return null!=e.v&&null!=e.n}return d(e)?e:d(i)?i:null}();if(s){i.value=s.v;var l=null!=r?r:s.n;i.itemName=[l],i.seriesName=[l]}return i},bd.guessOrdinal=function(e,t){return uf(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)};var cf=g,hf=cf.each,df=cf.filter,ff=cf.map,pf=cf.isArray,gf=cf.indexOf,mf=cf.isObject,vf=cf.isString,yf=cf.createHashMap,_f=cf.assert,xf=cf.clone,bf=cf.merge,wf=cf.extend,Sf=cf.mixin,Mf=na,If=xh,Af=fd,Tf=gd,Cf=xd,Df=bd.resetSourceDefaulter,Pf=If.extend({init:function(e,t,n,i){n=n||{},this.option=null,this._theme=new If(n),this._optionManager=i},setOption:function(e,t){_f(!("\0_ec_inner"in e),"please use chart.getOption()"),this._optionManager.setOption(e,t),this.resetOption(null)},resetOption:function(e){var t=!1,n=this._optionManager;if(!e||"recreate"===e){var i=n.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this.mergeOption(i)):Lf.call(this,i),t=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var r=n.getTimelineOption(this);r&&(this.mergeOption(r),t=!0)}if(!e||"recreate"===e||"media"===e){var o=n.getMediaOption(this,this._api);o.length&&hf(o,(function(e){this.mergeOption(e,t=!0)}),this)}return t},mergeOption:function(e){var t=this.option,n=this._componentsMap,i=[];Df(this),hf(e,(function(e,n){null!=e&&(Af.hasClass(n)?n&&i.push(n):t[n]=null==t[n]?xf(e):bf(t[n],e,!0))})),Af.topologicalTravel(i,Af.getAllClassMainTypes(),(function(i,r){var o=Mf.normalizeToArray(e[i]),a=Mf.mappingToExists(n.get(i),o);Mf.makeIdAndName(a),hf(a,(function(e,t){var n=e.option;mf(n)&&(e.keyInfo.mainType=i,e.keyInfo.subType=function(e,t,n){return t.type?t.type:n?n.subType:Af.determineSubType(e,t)}(i,n,e.exist))}));var s=function(e,t){pf(t)||(t=t?[t]:[]);var n={};return hf(t,(function(t){n[t]=(e.get(t)||[]).slice()})),n}(n,r);t[i]=[],n.set(i,[]),hf(a,(function(e,r){var o=e.exist,a=e.option;if(_f(mf(a)||o,"Empty component definition"),a){var l=Af.getClass(i,e.keyInfo.subType,!0);if(o&&o.constructor===l)o.name=e.keyInfo.name,o.mergeOption(a,this),o.optionUpdated(a,!1);else{var u=wf({dependentModels:s,componentIndex:r},e.keyInfo);o=new l(a,this,this,u),wf(o,u),o.init(a,this,this,u),o.optionUpdated(null,!0)}}else o.mergeOption({},this),o.optionUpdated({},!1);n.get(i)[r]=o,t[i][r]=o.option}),this),"series"===i&&kf(this,n.get("series"))}),this),this._seriesIndicesMap=yf(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var e=xf(this.option);return hf(e,(function(t,n){if(Af.hasClass(n)){for(var i=(t=Mf.normalizeToArray(t)).length-1;i>=0;i--)Mf.isIdInner(t[i])&&t.splice(i,1);e[n]=t}})),delete e["\0_ec_inner"],e},getTheme:function(){return this._theme},getComponent:function(e,t){var n=this._componentsMap.get(e);if(n)return n[t||0]},queryComponents:function(e){var t=e.mainType;if(!t)return[];var n,i=e.index,r=e.id,o=e.name,a=this._componentsMap.get(t);if(!a||!a.length)return[];if(null!=i)pf(i)||(i=[i]),n=df(ff(i,(function(e){return a[e]})),(function(e){return!!e}));else if(null!=r){var s=pf(r);n=df(a,(function(e){return s&&gf(r,e.id)>=0||!s&&e.id===r}))}else if(null!=o){var l=pf(o);n=df(a,(function(e){return l&&gf(o,e.name)>=0||!l&&e.name===o}))}else n=a.slice();return Of(n,e)},findComponents:function(e){var t,n,i,r,o,a=e.query,s=e.mainType,l=(n=s+"Index",i=s+"Id",r=s+"Name",!(t=a)||null==t[n]&&null==t[i]&&null==t[r]?null:{mainType:s,index:t[n],id:t[i],name:t[r]}),u=l?this.queryComponents(l):this._componentsMap.get(s);return o=Of(u,e),e.filter?df(o,e.filter):o},eachComponent:function(e,t,n){var i=this._componentsMap;if("function"==typeof e)n=t,t=e,i.each((function(e,i){hf(e,(function(e,r){t.call(n,i,e,r)}))}));else if(vf(e))hf(i.get(e),t,n);else if(mf(e)){var r=this.findComponents(e);hf(r,t,n)}},getSeriesByName:function(e){var t=this._componentsMap.get("series");return df(t,(function(t){return t.name===e}))},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(e){var t=this._componentsMap.get("series");return df(t,(function(t){return t.subType===e}))},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(e,t){hf(this._seriesIndices,(function(n){var i=this._componentsMap.get("series")[n];e.call(t,i,n)}),this)},eachRawSeries:function(e,t){hf(this._componentsMap.get("series"),e,t)},eachSeriesByType:function(e,t,n){hf(this._seriesIndices,(function(i){var r=this._componentsMap.get("series")[i];r.subType===e&&t.call(n,r,i)}),this)},eachRawSeriesByType:function(e,t,n){return hf(this.getSeriesByType(e),t,n)},isSeriesFiltered:function(e){return null==this._seriesIndicesMap.get(e.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,t){kf(this,df(this._componentsMap.get("series"),e,t))},restoreData:function(e){var t=this._componentsMap;kf(this,t.get("series"));var n=[];t.each((function(e,t){n.push(t)})),Af.topologicalTravel(n,Af.getAllClassMainTypes(),(function(n,i){hf(t.get(n),(function(t){("series"!==n||!function(e,t){if(t){var n=t.seiresIndex,i=t.seriesId,r=t.seriesName;return null!=n&&e.componentIndex!==n||null!=i&&e.id!==i||null!=r&&e.name!==r}}(t,e))&&t.restoreData()}))}))}});function Lf(e){var t,n,i;e=e,this.option={},this.option["\0_ec_inner"]=1,this._componentsMap=yf({series:[]}),this._seriesIndices,this._seriesIndicesMap,t=e,n=this._theme.option,i=t.color&&!t.colorLayer,hf(n,(function(e,n){"colorLayer"===n&&i||Af.hasClass(n)||("object"==typeof e?t[n]=t[n]?bf(t[n],e,!1):xf(e):null==t[n]&&(t[n]=e))})),bf(e,Tf,!1),this.mergeOption(e)}function kf(e,t){e._seriesIndicesMap=yf(e._seriesIndices=ff(t,(function(e){return e.componentIndex}))||[])}function Of(e,t){return t.hasOwnProperty("subType")?df(e,(function(e){return e.subType===t.subType})):e}Sf(Pf,Cf);var Nf=Pf,Rf=g,Ef=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];var zf=function(e){Rf.each(Ef,(function(t){this[t]=Rf.bind(e[t],e)}),this)},Bf=g,Vf={};function Gf(){this._coordinateSystems=[]}Gf.prototype={constructor:Gf,create:function(e,t){var n=[];Bf.each(Vf,(function(i,r){var o=i.create(e,t);n=n.concat(o||[])})),this._coordinateSystems=n},update:function(e,t){Bf.each(this._coordinateSystems,(function(n){n.update&&n.update(e,t)}))},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},Gf.register=function(e,t){Vf[e]=t},Gf.get=function(e){return Vf[e]};var Ff=Gf,Hf=g,Wf=na,Uf=fd,jf=Hf.each,Zf=Hf.clone,Yf=Hf.map,Xf=Hf.merge,qf=/^(min|max)?(.+)$/;function Kf(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function Jf(e,t,n){var i,r,o=[],a=[],s=e.timeline;if(e.baseOption&&(r=e.baseOption),(s||e.options)&&(r=r||{},o=(e.options||[]).slice()),e.media){r=r||{};var l=e.media;jf(l,(function(e){e&&e.option&&(e.query?a.push(e):i||(i=e))}))}return r||(r=e),r.timeline||(r.timeline=s),jf([r].concat(o).concat(Hf.map(a,(function(e){return e.option}))),(function(e){jf(t,(function(t){t(e,n)}))})),{baseOption:r,timelineOptions:o,mediaDefault:i,mediaList:a}}function Qf(e,t,n){var i={width:t,height:n,aspectratio:t/n},r=!0;return Hf.each(e,(function(e,t){var n=t.match(qf);if(n&&n[1]&&n[2]){var o=n[1],a=n[2].toLowerCase();(function(e,t,n){return"min"===n?e>=t:"max"===n?e<=t:e===t})(i[a],e,o)||(r=!1)}})),r}Kf.prototype={constructor:Kf,setOption:function(e,t){e&&Hf.each(Wf.normalizeToArray(e.series),(function(e){e&&e.data&&Hf.isTypedArray(e.data)&&Hf.setAsPrimitive(e.data)})),e=Zf(e);var n,i,r=this._optionBackup,o=Jf.call(this,e,t,!r);this._newBaseOption=o.baseOption,r?(n=r.baseOption,i=o.baseOption,jf(i=i||{},(function(e,t){if(null!=e){var i=n[t];if(Uf.hasClass(t)){e=Wf.normalizeToArray(e),i=Wf.normalizeToArray(i);var r=Wf.mappingToExists(i,e);n[t]=Yf(r,(function(e){return e.option&&e.exist?Xf(e.exist,e.option,!0):e.exist||e.option}))}else n[t]=Xf(i,e,!0)}})),o.timelineOptions.length&&(r.timelineOptions=o.timelineOptions),o.mediaList.length&&(r.mediaList=o.mediaList),o.mediaDefault&&(r.mediaDefault=o.mediaDefault)):this._optionBackup=o},mountOption:function(e){var t=this._optionBackup;return this._timelineOptions=Yf(t.timelineOptions,Zf),this._mediaList=Yf(t.mediaList,Zf),this._mediaDefault=Zf(t.mediaDefault),this._currentMediaIndices=[],Zf(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t,n=this._timelineOptions;if(n.length){var i=e.getComponent("timeline");i&&(t=Zf(n[i.getCurrentIndex()],!0))}return t},getMediaOption:function(e){var t,n,i=this._api.getWidth(),r=this._api.getHeight(),o=this._mediaList,a=this._mediaDefault,s=[],l=[];if(!o.length&&!a)return l;for(var u=0,c=o.length;u<c;u++)Qf(o[u].query,i,r)&&s.push(u);return!s.length&&a&&(s=[-1]),s.length&&(t=s,n=this._currentMediaIndices,t.join(",")!==n.join(","))&&(l=Yf(s,(function(e){return Zf(-1===e?a.option:o[e].option)}))),this._currentMediaIndices=s,l}};var $f=Kf,ep=g,tp=na,np=ep.each,ip=ep.isObject,rp=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function op(e){var t=e&&e.itemStyle;if(t)for(var n=0,i=rp.length;n<i;n++){var r=rp[n],o=t.normal,a=t.emphasis;o&&o[r]&&(e[r]=e[r]||{},e[r].normal?ep.merge(e[r].normal,o[r]):e[r].normal=o[r],o[r]=null),a&&a[r]&&(e[r]=e[r]||{},e[r].emphasis?ep.merge(e[r].emphasis,a[r]):e[r].emphasis=a[r],a[r]=null)}}function ap(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var i=e[t].normal,r=e[t].emphasis;i&&(n?(e[t].normal=e[t].emphasis=null,ep.defaults(e[t],i)):e[t]=i),r&&(e.emphasis=e.emphasis||{},e.emphasis[t]=r)}}function sp(e){ap(e,"itemStyle"),ap(e,"lineStyle"),ap(e,"areaStyle"),ap(e,"label"),ap(e,"labelLine"),ap(e,"upperLabel"),ap(e,"edgeLabel")}function lp(e,t){var n=ip(e)&&e[t],i=ip(n)&&n.textStyle;if(i)for(var r=0,o=tp.TEXT_STYLE_OPTIONS.length;r<o;r++){t=tp.TEXT_STYLE_OPTIONS[r];i.hasOwnProperty(t)&&(n[t]=i[t])}}function up(e){e&&(sp(e),lp(e,"label"),e.emphasis&&lp(e.emphasis,"label"))}function cp(e){return ep.isArray(e)?e:e?[e]:[]}function hp(e){return(ep.isArray(e)?e[0]:e)||{}}var dp=function(e,t){np(cp(e.series),(function(e){ip(e)&&function(e){if(ip(e)){op(e),sp(e),lp(e,"label"),lp(e,"upperLabel"),lp(e,"edgeLabel"),e.emphasis&&(lp(e.emphasis,"label"),lp(e.emphasis,"upperLabel"),lp(e.emphasis,"edgeLabel")),(n=e.markPoint)&&(op(n),up(n)),(i=e.markLine)&&(op(i),up(i));var t=e.markArea;t&&up(t);var n,i,r=e.data;if("graph"===e.type){r=r||e.nodes;var o=e.links||e.edges;if(o&&!ep.isTypedArray(o))for(var a=0;a<o.length;a++)up(o[a]);ep.each(e.categories,(function(e){sp(e)}))}if(r&&!ep.isTypedArray(r))for(a=0;a<r.length;a++)up(r[a]);if((n=e.markPoint)&&n.data){var s=n.data;for(a=0;a<s.length;a++)up(s[a])}if((i=e.markLine)&&i.data){var l=i.data;for(a=0;a<l.length;a++)ep.isArray(l[a])?(up(l[a][0]),up(l[a][1])):up(l[a])}"gauge"===e.type?(lp(e,"axisLabel"),lp(e,"title"),lp(e,"detail")):"treemap"===e.type?(ap(e.breadcrumb,"itemStyle"),ep.each(e.levels,(function(e){sp(e)}))):"tree"===e.type&&sp(e.leaves)}}(e)}));var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),np(n,(function(t){np(cp(e[t]),(function(e){e&&(lp(e,"axisLabel"),lp(e.axisPointer,"label"))}))})),np(cp(e.parallel),(function(e){var t=e&&e.parallelAxisDefault;lp(t,"axisLabel"),lp(t&&t.axisPointer,"label")})),np(cp(e.calendar),(function(e){ap(e,"itemStyle"),lp(e,"dayLabel"),lp(e,"monthLabel"),lp(e,"yearLabel")})),np(cp(e.radar),(function(e){lp(e,"name")})),np(cp(e.geo),(function(e){ip(e)&&(up(e),np(cp(e.regions),(function(e){up(e)})))})),np(cp(e.timeline),(function(e){up(e),ap(e,"label"),ap(e,"itemStyle"),ap(e,"controlStyle",!0);var t=e.data;ep.isArray(t)&&ep.each(t,(function(e){ep.isObject(e)&&(ap(e,"label"),ap(e,"itemStyle"))}))})),np(cp(e.toolbox),(function(e){ap(e,"iconStyle"),np(e.feature,(function(e){ap(e,"iconStyle")}))})),lp(hp(e.axisPointer),"label"),lp(hp(e.tooltip).axisPointer,"label")},fp=g,pp=fp.each,gp=fp.isArray,mp=fp.isObject,vp=dp,yp=na.normalizeToArray;function _p(e){pp(xp,(function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])}))}var xp=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],bp=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];var wp=function(e,t){vp(e,t),e.series=yp(e.series),pp(e.series,(function(e){if(mp(e)){var t=e.type;if("line"===t)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===t||"gauge"===t)null!=e.clockWise&&(e.clockwise=e.clockWise);else if("gauge"===t){var n=function(e,t){t=t.split(",");for(var n=e,i=0;i<t.length&&null!=(n=n&&n[t[i]]);i++);return n}(e,"pointer.color");null!=n&&function(e,t,n,i){t=t.split(",");for(var r,o=e,a=0;a<t.length-1;a++)null==o[r=t[a]]&&(o[r]={}),o=o[r];(i||null==o[t[a]])&&(o[t[a]]=n)}(e,"itemStyle.color",n)}_p(e)}})),e.dataRange&&(e.visualMap=e.dataRange),pp(bp,(function(t){var n=e[t];n&&(gp(n)||(n=[n]),pp(n,(function(e){_p(e)})))}))},Sp=g,Mp=Sp.createHashMap,Ip=Sp.each;function Ap(e){Ip(e,(function(t,n){var i=[],r=[NaN,NaN],o=[t.stackResultDimension,t.stackedOverDimension],a=t.data,s=t.isStackedByIndex,l=a.map(o,(function(o,l,u){var c,h,d=a.get(t.stackedDimension,u);if(isNaN(d))return r;s?h=a.getRawIndex(u):c=a.get(t.stackedByDimension,u);for(var f=NaN,p=n-1;p>=0;p--){var g=e[p];if(s||(h=g.data.rawIndexOf(g.stackedByDimension,c)),h>=0){var m=g.data.getByRawIndex(g.stackResultDimension,h);if(d>=0&&m>0||d<=0&&m<0){d+=m,f=m;break}}}return i[0]=d,i[1]=f,i}));a.hostModel.setData(l),t.data=l}))}var Tp=function(e){var t=Mp();e.eachSeries((function(e){var n=e.get("stack");if(n){var i=t.get(n)||t.set(n,[]),r=e.getData(),o={stackResultDimension:r.getCalculationInfo("stackResultDimension"),stackedOverDimension:r.getCalculationInfo("stackedOverDimension"),stackedDimension:r.getCalculationInfo("stackedDimension"),stackedByDimension:r.getCalculationInfo("stackedByDimension"),isStackedByIndex:r.getCalculationInfo("isStackedByIndex"),data:r,seriesModel:e};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;i.length&&r.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(o)}})),t.each(Ap)},Cp={},Dp=g;Dp.isTypedArray;var Pp=Dp.extend;Dp.assert;var Lp=Dp.each,kp=Dp.isObject,Op=na,Np=Op.getDataItemValue,Rp=Op.isDataItemOption,Ep=Ah.parseDate,zp=Nd,Bp=wd,Vp=Bp.SOURCE_FORMAT_TYPED_ARRAY,Gp=Bp.SOURCE_FORMAT_ARRAY_ROWS,Fp=Bp.SOURCE_FORMAT_ORIGINAL,Hp=Bp.SOURCE_FORMAT_OBJECT_ROWS;function Wp(e,t){zp.isInstance(e)||(e=zp.seriesDataToSource(e)),this._source=e;var n=this._data=e.data,i=e.sourceFormat;i===Vp&&(this._offset=0,this._dimSize=t,this._data=n);var r=jp[i===Gp?i+"_"+e.seriesLayoutBy:i];Pp(this,r)}var Up=Wp.prototype;Up.pure=!1,Up.persistent=!0,Up.getSource=function(){return this._source};var jp={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(e){return this._data[e+this._source.startIndex]},appendData:Xp},arrayRows_row:{pure:!0,count:function(){var e=this._data[0];return e?Math.max(0,e.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;for(var t=[],n=this._data,i=0;i<n.length;i++){var r=n[i];t.push(r?r[e]:null)}return t},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:Zp,getItem:Yp,appendData:Xp},keyedColumns:{pure:!0,count:function(){var e=this._source.dimensionsDefine[0].name,t=this._data[e];return t?t.length:0},getItem:function(e){for(var t=[],n=this._source.dimensionsDefine,i=0;i<n.length;i++){var r=this._data[n[i].name];t.push(r?r[e]:null)}return t},appendData:function(e){var t=this._data;Lp(e,(function(e,n){for(var i=t[n]||(t[n]=[]),r=0;r<(e||[]).length;r++)i.push(e[r])}))}},original:{count:Zp,getItem:Yp,appendData:Xp},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(e,t){e-=this._offset,t=t||[];for(var n=this._dimSize*e,i=0;i<this._dimSize;i++)t[i]=this._data[n+i];return t},appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}}};function Zp(){return this._data.length}function Yp(e){return this._data[e]}function Xp(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}var qp={arrayRows:Kp,objectRows:function(e,t,n,i){return null!=n?e[i]:e},keyedColumns:Kp,original:function(e,t,n,i){var r=Np(e);return null!=n&&r instanceof Array?r[n]:r},typedArray:Kp};function Kp(e,t,n,i){return null!=n?e[n]:e}var Jp={arrayRows:Qp,objectRows:function(e,t,n,i){return $p(e[t],this._dimensionInfos[t])},keyedColumns:Qp,original:function(e,t,n,i){var r=e&&(null==e.value?e:e.value);return!this._rawData.pure&&Rp(e)&&(this.hasItemOption=!0),$p(r instanceof Array?r[i]:r,this._dimensionInfos[t])},typedArray:function(e,t,n,i){return e[i]}};function Qp(e,t,n,i){return $p(e[i],this._dimensionInfos[t])}function $p(e,t){var n=t&&t.type;if("ordinal"===n){var i=t&&t.ordinalMeta;return i?i.parseAndCollect(e):e}return"time"===n&&"number"!=typeof e&&null!=e&&"-"!==e&&(e=+Ep(e)),null==e||""===e?NaN:+e}Cp.DefaultDataProvider=Wp,Cp.defaultDimValueGetters=Jp,Cp.retrieveRawValue=function(e,t,n){if(e){var i=e.getRawDataItem(t);if(null!=i){var r,o,a=e.getProvider().getSource().sourceFormat,s=e.getDimensionInfo(n);return s&&(r=s.name,o=s.index),qp[a](i,t,o,r)}}},Cp.retrieveRawAttr=function(e,t,n){if(e){var i=e.getProvider().getSource().sourceFormat;if(i===Fp||i===Hp){var r=e.getRawDataItem(t);return i!==Fp||kp(r)||(r=null),r?r[n]:void 0}}};var eg=Cp.retrieveRawValue,tg=Ph,ng=tg.getTooltipMarker,ig=tg.formatTpl,rg=na.getTooltipRenderMode,og=/\{@(.+?)\}/g,ag={getDataParams:function(e,t){var n=this.getData(t),i=this.getRawValue(e,t),r=n.getRawIndex(e),o=n.getName(e),a=n.getRawDataItem(e),s=n.getItemVisual(e,"color"),l=n.getItemVisual(e,"borderColor"),u=this.ecModel.getComponent("tooltip"),c=u&&u.get("renderMode"),h=rg(c),d=this.mainType,f="series"===d,p=n.userOutput;return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:o,dataIndex:r,data:a,dataType:t,value:i,color:s,borderColor:l,dimensionNames:p?p.dimensionNames:null,encode:p?p.encode:null,marker:ng({color:s,renderMode:h}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,t,n,i,r){t=t||"normal";var o=this.getData(n),a=o.getItemModel(e),s=this.getDataParams(e,n);null!=i&&s.value instanceof Array&&(s.value=s.value[i]);var l=a.get("normal"===t?[r||"label","formatter"]:[t,r||"label","formatter"]);return"function"==typeof l?(s.status=t,s.dimensionIndex=i,l(s)):"string"==typeof l?ig(l,s).replace(og,(function(t,n){var i=n.length;return"["===n.charAt(0)&&"]"===n.charAt(i-1)&&(n=+n.slice(1,i-1)),eg(o,e,n)})):void 0},getRawValue:function(e,t){return eg(this.getData(t),e)},formatTooltip:function(){}},sg={},lg=g;lg.assert;var ug=lg.isArray;function cg(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0,this.context}var hg=cg.prototype;hg.perform=function(e){var t,n=this._upstream,i=e&&e.skip;if(this._dirty&&n){var r=this.context;r.data=r.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(t=this._plan(this.context));var o,a=c(this._modBy),s=this._modDataCount||0,l=c(e&&e.modBy),u=e&&e.modDataCount||0;function c(e){return!(e>=1)&&(e=1),e}a===l&&s===u||(t="reset"),(this._dirty||"reset"===t)&&(this._dirty=!1,o=function(e,t){var n,i;e._dueIndex=e._outputDueEnd=e._dueEnd=0,e._settedOutputEnd=null,!t&&e._reset&&((n=e._reset(e.context))&&n.progress&&(i=n.forceFirstProgress,n=n.progress),ug(n)&&!n.length&&(n=null));e._progress=n,e._modBy=e._modDataCount=null;var r=e._downstream;return r&&r.dirty(),i}(this,i)),this._modBy=l,this._modDataCount=u;var h=e&&e.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,f=Math.min(null!=h?this._dueIndex+h:1/0,this._dueEnd);if(!i&&(o||d<f)){var p=this._progress;if(ug(p))for(var g=0;g<p.length;g++)fg(this,p[g],d,f,l,u);else fg(this,p,d,f,l,u)}this._dueIndex=f;var m=null!=this._settedOutputEnd?this._settedOutputEnd:f;this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var dg=function(){var e,t,n,i,r,o={reset:function(l,u,c,h){t=l,e=u,n=c,i=h,r=Math.ceil(i/n),o.next=n>1&&i>0?s:a}};return o;function a(){return t<e?t++:null}function s(){var o=t%r*n+Math.ceil(t/r),a=t>=e?null:o<i?o:t;return t++,a}}();function fg(e,t,n,i,r,o){dg.reset(n,i,r,o),e._callingProgress=t,e._callingProgress({start:n,end:i,count:i-n,next:dg.next},e.context)}hg.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},hg.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},hg.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},hg.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},hg.getUpstream=function(){return this._upstream},hg.getDownstream=function(){return this._downstream},hg.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},sg.createTask=function(e){return new cg(e)};var pg=g,gg=p,mg=Ph,vg=mg.formatTime,yg=mg.encodeHTML,_g=mg.addCommas,xg=mg.getTooltipMarker,bg=na,wg=fd,Sg=xd,Mg=ag,Ig=Ih,Ag=Ig.getLayoutParams,Tg=Ig.mergeLayoutParam,Cg=sg.createTask,Dg=bd,Pg=Dg.prepareSource,Lg=Dg.getSource,kg=Cp.retrieveRawValue,Og=bg.makeInner(),Ng=wg.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(e,t,n,i){this.seriesIndex=this.componentIndex,this.dataTask=Cg({count:Eg,reset:zg}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,n),Pg(this);var r=this.getInitialData(e,n);Vg(r,this),this.dataTask.context.data=r,Og(this).dataBeforeProcessed=r,Rg(this)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,i=n?Ag(e):{},r=this.subType;wg.hasClass(r)&&(r+="Series"),pg.merge(e,t.getTheme().get(this.subType)),pg.merge(e,this.getDefaultOption()),bg.defaultEmphasis(e,"label",["show"]),this.fillDataTextStyle(e.data),n&&Tg(e,i,n)},mergeOption:function(e,t){e=pg.merge(this.option,e,!0),this.fillDataTextStyle(e.data);var n=this.layoutMode;n&&Tg(this.option,e,n),Pg(this);var i=this.getInitialData(e,t);Vg(i,this),this.dataTask.dirty(),this.dataTask.context.data=i,Og(this).dataBeforeProcessed=i,Rg(this)},fillDataTextStyle:function(e){if(e&&!pg.isTypedArray(e))for(var t=["show"],n=0;n<e.length;n++)e[n]&&e[n].label&&bg.defaultEmphasis(e[n],"label",t)},getInitialData:function(){},appendData:function(e){this.getRawData().appendData(e.data)},getData:function(e){var t=Fg(this);if(t){var n=t.context.data;return null==e?n:n.getLinkedData(e)}return Og(this).data},setData:function(e){var t=Fg(this);if(t){var n=t.context;n.data!==e&&t.modifyOutputEnd&&t.setOutputEnd(e.count()),n.outputData=e,t!==this.dataTask&&(n.data=e)}Og(this).data=e},getSource:function(){return Lg(this)},getRawData:function(){return Og(this).dataBeforeProcessed},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,t,n,i){var r=this,o="html"===(i=i||"html")?"<br/>":"\n",a="richText"===i,s={},l=0;function u(e){return{renderMode:i,content:yg(_g(e)),style:s}}var c=this.getData(),h=c.mapDimension("defaultedTooltip",!0),d=h.length,f=this.getRawValue(e),p=pg.isArray(f),g=c.getItemVisual(e,"color");pg.isObject(g)&&g.colorStops&&(g=(g.colorStops[0]||{}).color),g=g||"transparent";var m=(d>1||p&&!d?function(n){var o=pg.reduce(n,(function(e,t,n){var i=c.getDimensionInfo(n);return e|(i&&!1!==i.tooltip&&null!=i.displayName)}),0),u=[];function d(e,n){var h=c.getDimensionInfo(n);if(h&&!1!==h.otherDims.tooltip){var d=h.type,f="sub"+r.seriesIndex+"at"+l,p=xg({color:g,type:"subItem",renderMode:i,markerId:f}),m="string"==typeof p?p:p.content,v=(o?m+yg(h.displayName||"-")+": ":"")+yg("ordinal"===d?e+"":"time"===d?t?"":vg("yyyy/MM/dd hh:mm:ss",e):_g(e));v&&u.push(v),a&&(s[f]=g,++l)}}h.length?pg.each(h,(function(t){d(kg(c,e,t),t)})):pg.each(n,d);var f=o?a?"\n":"<br/>":"",p=f+u.join(f||", ");return{renderMode:i,content:p,style:s}}(f):u(d?kg(c,e,h[0]):p?f[0]:f)).content,v=r.seriesIndex+"at"+l,y=xg({color:g,type:"item",renderMode:i,markerId:v});s[v]=g,++l;var _=c.getName(e),x=this.name;bg.isNameSpecified(this)||(x=""),x=x?yg(x)+(t?": ":o):"";var b="string"==typeof y?y:y.content;return{html:t?b+x+m:x+b+(_?yg(_)+": "+m:m),markers:s}},isAnimationEnabled:function(){if(gg.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),e},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(e,t,n){var i=this.ecModel,r=Sg.getColorFromPalette.call(this,e,t,n);return r||(r=i.getColorFromPalette(e,t,n)),r},coordDimToDataDim:function(e){return this.getRawData().mapDimension(e,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});function Rg(e){var t=e.name;bg.isNameSpecified(e)||(e.name=function(e){var t=e.getRawData(),n=t.mapDimension("seriesName",!0),i=[];return pg.each(n,(function(e){var n=t.getDimensionInfo(e);n.displayName&&i.push(n.displayName)})),i.join(" ")}(e)||t)}function Eg(e){return e.model.getRawData().count()}function zg(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),Bg}function Bg(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function Vg(e,t){pg.each(e.CHANGABLE_METHODS,(function(n){e.wrapMethod(n,pg.curry(Gg,t))}))}function Gg(e){var t=Fg(e);t&&t.setOutputEnd(this.count())}function Fg(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){var i=n.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(e.uid))}return i}}pg.mixin(Ng,Mg),pg.mixin(Ng,Sg);var Hg=Ng,Wg=Rn,Ug=bh,jg=da,Zg=function(){this.group=new Wg,this.uid=Ug.getUID("viewComponent")},Yg=Zg.prototype={constructor:Zg,init:function(e,t){},render:function(e,t,n,i){},dispose:function(){},filterForExposedEvent:null};Yg.updateView=Yg.updateLayout=Yg.updateVisual=function(e,t,n,i){},jg.enableClassExtend(Zg),jg.enableClassManagement(Zg,{registerWhenExtend:!0});var Xg=Zg,qg=na.makeInner;var Kg=function(){var e=qg();return function(t){var n=e(t),i=t.pipelineContext,r=n.large,o=n.progressiveRender,a=n.large=i&&i.large,s=n.progressiveRender=i&&i.progressiveRender;return!!(r^a||o^s)&&"reset"}},Jg=g.each,Qg=Rn,$g=bh,em=da,tm=na,nm=Ia,im=sg.createTask,rm=Kg,om=tm.makeInner(),am=rm();function sm(){this.group=new Qg,this.uid=$g.getUID("viewChart"),this.renderTask=im({plan:hm,reset:dm}),this.renderTask.context={view:this}}sm.prototype={type:"chart",init:function(e,t){},render:function(e,t,n,i){},highlight:function(e,t,n,i){cm(e.getData(),i,"emphasis")},downplay:function(e,t,n,i){cm(e.getData(),i,"normal")},remove:function(e,t){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var lm=sm.prototype;function um(e,t,n){if(e&&(e.trigger(t,n),e.isGroup&&!nm.isHighDownDispatcher(e)))for(var i=0,r=e.childCount();i<r;i++)um(e.childAt(i),t,n)}function cm(e,t,n){var i=tm.queryDataIndex(e,t),r=t&&null!=t.highlightKey?nm.getHighlightDigit(t.highlightKey):null;null!=i?Jg(tm.normalizeToArray(i),(function(t){um(e.getItemGraphicEl(t),n,r)})):e.eachItemGraphicEl((function(e){um(e,n,r)}))}function hm(e){return am(e.model)}function dm(e){var t=e.model,n=e.ecModel,i=e.api,r=e.payload,o=t.pipelineContext.progressiveRender,a=e.view,s=r&&om(r).updateMethod,l=o?"incrementalPrepareRender":s&&a[s]?s:"render";return"render"!==l&&a[l](t,n,i,r),fm[l]}lm.updateView=lm.updateLayout=lm.updateVisual=function(e,t,n,i){this.render(e,t,n,i)},em.enableClassExtend(sm,["dispose"]),em.enableClassManagement(sm,{registerWhenExtend:!0}),sm.markUpdateMethod=function(e,t){om(e).updateMethod=t};var fm={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},pm=sm,gm={},mm="\0__throttleOriginMethod",vm="\0__throttleRate";function ym(e,t,n){var i,r,o,a,s,l=0,u=0,c=null;function h(){u=(new Date).getTime(),c=null,e.apply(o,a||[])}t=t||0;var d=function(){i=(new Date).getTime(),o=this,a=arguments;var e=s||t,d=s||n;s=null,r=i-(d?l:u)-e,clearTimeout(c),d?c=setTimeout(h,e):r>=0?h():c=setTimeout(h,-r),l=i};return d.clear=function(){c&&(clearTimeout(c),c=null)},d.debounceNextCall=function(e){s=e},d}gm.throttle=ym,gm.createOrUpdate=function(e,t,n,i){var r=e[t];if(r){var o=r[mm]||r,a=r["\0__throttleType"];if(r[vm]!==n||a!==i){if(null==n||!i)return e[t]=o;(r=e[t]=ym(o,n,"debounce"===i))[mm]=o,r["\0__throttleType"]=i,r[vm]=n}return r}},gm.clear=function(e,t){var n=e[t];n&&n[mm]&&(e[t]=n[mm])};var _m=Pu,xm=g.isFunction,bm={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),i=(e.visualColorAccessPath||"itemStyle.color").split("."),r=e.get(i),o=!xm(r)||r instanceof _m?null:r;r&&!o||(r=e.getColorFromPalette(e.name,null,t.getSeriesCount())),n.setVisual("color",r);var a=(e.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),s=e.get(a);if(n.setVisual("borderColor",s),!t.isSeriesFiltered(e)){o&&n.each((function(t){n.setItemVisual(t,"color",o(e.getDataParams(t)))}));return{dataEach:n.hasItemOption?function(e,t){var n=e.getItemModel(t),r=n.get(i,!0),o=n.get(a,!0);null!=r&&e.setItemVisual(t,"color",r),null!=o&&e.setItemVisual(t,"borderColor",o)}:null}}}},wm={legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}},Sm=g,Mm=wm,Im=Cp.retrieveRawValue;var Am=function(e,t){var n=t.getModel("aria");if(n.get("show"))if(n.get("description"))e.setAttribute("aria-label",n.get("description"));else{var i=0;t.eachSeries((function(e,t){++i}),this);var r,o=n.get("data.maxCount")||10,a=n.get("series.maxCount")||10,s=Math.min(i,a);if(!(i<1)){var l=function(){var e=t.getModel("title").option;e&&e.length&&(e=e[0]);return e&&e.text}();r=l?c(h("general.withTitle"),{title:l}):h("general.withoutTitle");var u=[];r+=c(h(i>1?"series.multiple.prefix":"series.single.prefix"),{seriesCount:i}),t.eachSeries((function(e,t){if(t<s){var n,r=e.get("name"),a="series."+(i>1?"multiple":"single")+".";n=c(n=h(r?a+"withName":a+"withoutName"),{seriesId:e.seriesIndex,seriesName:e.get("name"),seriesType:(m=e.subType,Mm.series.typeNames[m]||"")});var l=e.getData();window.data=l,l.count()>o?n+=c(h("data.partialData"),{displayCnt:o}):n+=h("data.allData");for(var d=[],f=0;f<l.count();f++)if(f<o){var p=l.getName(f),g=Im(l,f);d.push(c(h(p?"data.withName":"data.withoutName"),{name:p,value:g}))}n+=d.join(h("data.separator.middle"))+h("data.separator.end"),u.push(n)}var m})),r+=u.join(h("series.multiple.separator.middle"))+h("series.multiple.separator.end"),e.setAttribute("aria-label",r)}}function c(e,t){if("string"!=typeof e)return e;var n=e;return Sm.each(t,(function(e,t){n=n.replace(new RegExp("\\{\\s*"+t+"\\s*\\}","g"),e)})),n}function h(e){var t=n.get(e);if(null==t){for(var i=e.split("."),r=Mm.aria,o=0;o<i.length;++o)r=r[i[o]];return r}return t}},Tm=g,Cm=Ia,Dm=xi,Pm=Math.PI;var Lm=function(e,t){t=t||{},Tm.defaults(t,{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#c23531",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new Cm.Group,i=new Cm.Rect({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(i);var r=t.fontSize+" sans-serif",o=new Cm.Rect({style:{fill:"none",text:t.text,font:r,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});if(n.add(o),t.showSpinner){var a=new Cm.Arc({shape:{startAngle:-Pm/2,endAngle:-Pm/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001});a.animateShape(!0).when(1e3,{endAngle:3*Pm/2}).start("circularInOut"),a.animateShape(!0).when(1e3,{startAngle:3*Pm/2}).delay(300).start("circularInOut"),n.add(a)}return n.resize=function(){var n=Dm.getWidth(t.text,r),s=t.showSpinner?t.spinnerRadius:0,l=(e.getWidth()-2*s-(t.showSpinner&&n?10:0)-n)/2-(t.showSpinner?0:n/2),u=e.getHeight()/2;t.showSpinner&&a.setShape({cx:l,cy:u}),o.setShape({x:l-s,y:u-s,width:2*s,height:2*s}),i.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},n.resize(),n},km=g,Om=km.each,Nm=km.map,Rm=km.isFunction,Em=km.createHashMap,zm=km.noop,Bm=sg.createTask,Vm=bh.getUID,Gm=Nf,Fm=zf,Hm=na.normalizeToArray;function Wm(e,t,n,i){this.ecInstance=e,this.api=t,this.unfinished;n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice();this._allHandlers=n.concat(i),this._stageTaskMap=Em()}var Um=Wm.prototype;function jm(e,t,n,i,r){var o;function a(e,t){return e.setDirty&&(!e.dirtyMap||e.dirtyMap.get(t.__pipeline.id))}r=r||{},Om(t,(function(t,s){if(!r.visualType||r.visualType===t.visualType){var l=e._stageTaskMap.get(t.uid),u=l.seriesTaskMap,c=l.overallTask;if(c){var h,d=c.agentStubMap;d.each((function(e){a(r,e)&&(e.dirty(),h=!0)})),h&&c.dirty(),Zm(c,i);var f=e.getPerformArgs(c,r.block);d.each((function(e){e.perform(f)})),o|=c.perform(f)}else u&&u.each((function(s,l){a(r,s)&&s.dirty();var u=e.getPerformArgs(s,r.block);u.skip=!t.performRawSeries&&n.isSeriesFiltered(s.context.model),Zm(s,i),o|=s.perform(u)}))}})),e.unfinished|=o}Um.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each((function(e){var t=e.overallTask;t&&t.dirty()}))},Um.getPerformArgs=function(e,t){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),i=n.context,r=!t&&n.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>n.blockIndex?n.step:null,o=i&&i.modDataCount;return{step:r,modBy:null!=o?Math.ceil(o/r):null,modDataCount:o}}},Um.getPipeline=function(e){return this._pipelineMap.get(e)},Um.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),i=e.getData().count(),r=n.progressiveEnabled&&t.incrementalPrepareRender&&i>=n.threshold,o=e.get("large")&&i>=e.get("largeThreshold"),a="mod"===e.get("progressiveChunkMode")?i:null;e.pipelineContext=n.context={progressiveRender:r,modDataCount:a,large:o}},Um.restorePipelines=function(e){var t=this,n=t._pipelineMap=Em();e.eachSeries((function(e){var i=e.getProgressive(),r=e.uid;n.set(r,{id:r,head:null,tail:null,threshold:e.getProgressiveThreshold(),progressiveEnabled:i&&!(e.preventIncremental&&e.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),nv(t,e,e.dataTask)}))},Um.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.ecInstance.getModel(),n=this.api;Om(this._allHandlers,(function(i){var r=e.get(i.uid)||e.set(i.uid,[]);i.reset&&function(e,t,n,i,r){var o=n.seriesTaskMap||(n.seriesTaskMap=Em()),a=t.seriesType,s=t.getTargetSeries;t.createOnAllSeries?i.eachRawSeries(l):a?i.eachRawSeriesByType(a,l):s&&s(i,r).each(l);function l(n){var a=n.uid,s=o.get(a)||o.set(a,Bm({plan:Jm,reset:Qm,count:tv}));s.context={model:n,ecModel:i,api:r,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:e},nv(e,n,s)}var u=e._pipelineMap;o.each((function(e,t){u.get(t)||(e.dispose(),o.removeKey(t))}))}(this,i,r,t,n),i.overallReset&&function(e,t,n,i,r){var o=n.overallTask=n.overallTask||Bm({reset:Ym});o.context={ecModel:i,api:r,overallReset:t.overallReset,scheduler:e};var a=o.agentStubMap=o.agentStubMap||Em(),s=t.seriesType,l=t.getTargetSeries,u=!0,c=t.modifyOutputEnd;s?i.eachRawSeriesByType(s,h):l?l(i,r).each(h):(u=!1,Om(i.getSeries(),h));function h(t){var n=t.uid,i=a.get(n);i||(i=a.set(n,Bm({reset:Xm,onDirty:Km})),o.dirty()),i.context={model:t,overallProgress:u,modifyOutputEnd:c},i.agent=o,i.__block=u,nv(e,t,i)}var d=e._pipelineMap;a.each((function(e,t){d.get(t)||(e.dispose(),o.dirty(),a.removeKey(t))}))}(this,i,r,t,n)}),this)},Um.prepareView=function(e,t,n,i){var r=e.renderTask,o=r.context;o.model=t,o.ecModel=n,o.api=i,r.__block=!e.incrementalPrepareRender,nv(this,t,r)},Um.performDataProcessorTasks=function(e,t){jm(this,this._dataProcessorHandlers,e,t,{block:!0})},Um.performVisualTasks=function(e,t,n){jm(this,this._visualHandlers,e,t,n)},Um.performSeriesTasks=function(e){var t;e.eachSeries((function(e){t|=e.dataTask.perform()})),this.unfinished|=t},Um.plan=function(){this._pipelineMap.each((function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)}))};var Zm=Um.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)};function Ym(e){e.overallReset(e.ecModel,e.api,e.payload)}function Xm(e,t){return e.overallProgress&&qm}function qm(){this.agent.dirty(),this.getDownstream().dirty()}function Km(){this.agent&&this.agent.dirty()}function Jm(e){return e.plan&&e.plan(e.model,e.ecModel,e.api,e.payload)}function Qm(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=Hm(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?Nm(t,(function(e,t){return ev(t)})):$m}var $m=ev(0);function ev(e){return function(t,n){var i=n.data,r=n.resetDefines[e];if(r&&r.dataEach)for(var o=t.start;o<t.end;o++)r.dataEach(i,o);else r&&r.progress&&r.progress(t,i)}}function tv(e){return e.data.count()}function nv(e,t,n){var i=t.uid,r=e._pipelineMap.get(i);!r.head&&(r.head=n),r.tail&&r.tail.pipe(n),r.tail=n,n.__idxInPipeline=r.count++,n.__pipeline=r}function iv(e){rv=null;try{e(ov,av)}catch(t){}return rv}Wm.wrapStageHandler=function(e,t){return Rm(e)&&(e={overallReset:e,seriesType:iv(e)}),e.uid=Vm("stageHandler"),t&&(e.visualType=t),e};var rv,ov={},av={};function sv(e,t){for(var n in t.prototype)e[n]=zm}sv(ov,Gm),sv(av,Fm),ov.eachSeriesByType=ov.eachRawSeriesByType=function(e){rv=e},ov.eachComponent=function(e){"series"===e.mainType&&e.subType&&(rv=e.subType)};var lv=Wm,uv=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],cv={color:uv,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],uv]},hv=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],dv={color:hv,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:"#eee"},crossStyle:{color:"#eee"},label:{color:"#000"}}},legend:{textStyle:{color:"#eee"}},textStyle:{color:"#eee"},title:{textStyle:{color:"#eee"}},toolbox:{iconStyle:{normal:{borderColor:"#eee"}}},dataZoom:{textStyle:{color:"#eee"}},visualMap:{textStyle:{color:"#eee"}},timeline:{lineStyle:{color:"#eee"},itemStyle:{normal:{color:hv[1]}},label:{normal:{textStyle:{color:"#eee"}}},controlStyle:{normal:{color:"#eee",borderColor:"#eee"}}},timeAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},logAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},valueAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},categoryAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},line:{symbol:"circle"},graph:{color:hv},gauge:{title:{textStyle:{color:"#eee"}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};dv.categoryAxis.splitLine.show=!1;var fv=dv,pv=fd,gv=Xg,mv=bd.detectSourceFormat,vv=wd.SERIES_LAYOUT_BY_COLUMN;pv.extend({type:"dataset",defaultOption:{seriesLayoutBy:vv,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){mv(this)}}),gv.extend({type:"dataset"});var yv={},_v=nl.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(e,t){var n=.5522848,i=t.cx,r=t.cy,o=t.rx,a=t.ry,s=o*n,l=a*n;e.moveTo(i-o,r),e.bezierCurveTo(i-o,r-l,i-s,r-a,i,r-a),e.bezierCurveTo(i+s,r-a,i+o,r-l,i+o,r),e.bezierCurveTo(i+o,r+l,i+s,r+a,i,r+a),e.bezierCurveTo(i-s,r+a,i-o,r+l,i-o,r),e.closePath()}}),xv=Rn,bv=Zr,wv=Dl,Sv=Pl,Mv=uu,Iv=_v,Av=fu,Tv=nl,Cv=$l,Dv=tu,Pv=Nu,Lv=si,kv=Fe,Ov=Aa.createFromString,Nv=g,Rv=Nv.isString,Ev=Nv.extend,zv=Nv.defaults,Bv=Nv.trim,Vv=Nv.each,Gv=/[\s,]+/;function Fv(e){Rv(e)&&(e=(new DOMParser).parseFromString(e,"text/xml"));for(9===e.nodeType&&(e=e.firstChild);"svg"!==e.nodeName.toLowerCase()||1!==e.nodeType;)e=e.nextSibling;return e}function Hv(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}Hv.prototype.parse=function(e,t){t=t||{};var n=Fv(e);if(!n)throw new Error("Illegal svg");var i=new xv;this._root=i;var r=n.getAttribute("viewBox")||"",o=parseFloat(n.getAttribute("width")||t.width),a=parseFloat(n.getAttribute("height")||t.height);isNaN(o)&&(o=null),isNaN(a)&&(a=null),Xv(n,i,null,!0);for(var s,l,u=n.firstChild;u;)this._parseNode(u,i),u=u.nextSibling;if(r){var c=Bv(r).split(Gv);c.length>=4&&(s={x:parseFloat(c[0]||0),y:parseFloat(c[1]||0),width:parseFloat(c[2]),height:parseFloat(c[3])})}if(s&&null!=o&&null!=a&&(l=$v(s,o,a),!t.ignoreViewBox)){var h=i;(i=new xv).add(h),h.scale=l.scale.slice(),h.position=l.position.slice()}return t.ignoreRootClip||null==o||null==a||i.setClipPath(new Mv({shape:{x:0,y:0,width:o,height:a}})),{root:i,width:o,height:a,viewBoxRect:s,viewBoxTransform:l}},Hv.prototype._parseNode=function(e,t){var n,i,r=e.nodeName.toLowerCase();if("defs"===r?this._isDefine=!0:"text"===r&&(this._isText=!0),this._isDefine){if(i=Uv[r]){var o=i.call(this,e),a=e.getAttribute("id");a&&(this._defs[a]=o)}}else(i=Wv[r])&&(n=i.call(this,e,t),t.add(n));for(var s=e.firstChild;s;)1===s.nodeType&&this._parseNode(s,n),3===s.nodeType&&this._isText&&this._parseText(s,n),s=s.nextSibling;"defs"===r?this._isDefine=!1:"text"===r&&(this._isText=!1)},Hv.prototype._parseText=function(e,t){if(1===e.nodeType){var n=e.getAttribute("dx")||0,i=e.getAttribute("dy")||0;this._textX+=parseFloat(n),this._textY+=parseFloat(i)}var r=new wv({style:{text:e.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});jv(t,r),Xv(e,r,this._defs);var o=r.style.fontSize;o&&o<9&&(r.style.fontSize=9,r.scale=r.scale||[1,1],r.scale[0]*=o/9,r.scale[1]*=o/9);var a=r.getBoundingRect();return this._textX+=a.width,t.add(r),r};var Wv={g:function(e,t){var n=new xv;return jv(t,n),Xv(e,n,this._defs),n},rect:function(e,t){var n=new Mv;return jv(t,n),Xv(e,n,this._defs),n.setShape({x:parseFloat(e.getAttribute("x")||0),y:parseFloat(e.getAttribute("y")||0),width:parseFloat(e.getAttribute("width")||0),height:parseFloat(e.getAttribute("height")||0)}),n},circle:function(e,t){var n=new Sv;return jv(t,n),Xv(e,n,this._defs),n.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),r:parseFloat(e.getAttribute("r")||0)}),n},line:function(e,t){var n=new Av;return jv(t,n),Xv(e,n,this._defs),n.setShape({x1:parseFloat(e.getAttribute("x1")||0),y1:parseFloat(e.getAttribute("y1")||0),x2:parseFloat(e.getAttribute("x2")||0),y2:parseFloat(e.getAttribute("y2")||0)}),n},ellipse:function(e,t){var n=new Iv;return jv(t,n),Xv(e,n,this._defs),n.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),rx:parseFloat(e.getAttribute("rx")||0),ry:parseFloat(e.getAttribute("ry")||0)}),n},polygon:function(e,t){var n=e.getAttribute("points");n&&(n=Zv(n));var i=new Cv({shape:{points:n||[]}});return jv(t,i),Xv(e,i,this._defs),i},polyline:function(e,t){var n=new Tv;jv(t,n),Xv(e,n,this._defs);var i=e.getAttribute("points");return i&&(i=Zv(i)),new Dv({shape:{points:i||[]}})},image:function(e,t){var n=new bv;return jv(t,n),Xv(e,n,this._defs),n.setStyle({image:e.getAttribute("xlink:href"),x:e.getAttribute("x"),y:e.getAttribute("y"),width:e.getAttribute("width"),height:e.getAttribute("height")}),n},text:function(e,t){var n=e.getAttribute("x")||0,i=e.getAttribute("y")||0,r=e.getAttribute("dx")||0,o=e.getAttribute("dy")||0;this._textX=parseFloat(n)+parseFloat(r),this._textY=parseFloat(i)+parseFloat(o);var a=new xv;return jv(t,a),Xv(e,a,this._defs),a},tspan:function(e,t){var n=e.getAttribute("x"),i=e.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=i&&(this._textY=parseFloat(i));var r=e.getAttribute("dx")||0,o=e.getAttribute("dy")||0,a=new xv;return jv(t,a),Xv(e,a,this._defs),this._textX+=r,this._textY+=o,a},path:function(e,t){var n=e.getAttribute("d")||"",i=Ov(n);return jv(t,i),Xv(e,i,this._defs),i}},Uv={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||0,10),n=parseInt(e.getAttribute("y1")||0,10),i=parseInt(e.getAttribute("x2")||10,10),r=parseInt(e.getAttribute("y2")||0,10),o=new Pv(t,n,i,r);return function(e,t){var n=e.firstChild;for(;n;){if(1===n.nodeType){var i=n.getAttribute("offset");i=i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var r=n.getAttribute("stop-color")||"#000000";t.addColorStop(i,r)}n=n.nextSibling}}(e,o),o},radialgradient:function(e){}};function jv(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),zv(t.__inheritedStyle,e.__inheritedStyle))}function Zv(e){for(var t=Bv(e).split(Gv),n=[],i=0;i<t.length;i+=2){var r=parseFloat(t[i]),o=parseFloat(t[i+1]);n.push([r,o])}return n}var Yv={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function Xv(e,t,n,i){var r=t.__inheritedStyle||{},o="text"===t.type;if(1===e.nodeType&&(function(e,t){var n=e.getAttribute("transform");if(n){n=n.replace(/,/g," ");var i=null,r=[];n.replace(Jv,(function(e,t,n){r.push(t,n)}));for(var o=r.length-1;o>0;o-=2){var a=r[o],s=r[o-1];switch(i=i||kv.create(),s){case"translate":a=Bv(a).split(Gv),kv.translate(i,i,[parseFloat(a[0]),parseFloat(a[1]||0)]);break;case"scale":a=Bv(a).split(Gv),kv.scale(i,i,[parseFloat(a[0]),parseFloat(a[1]||a[0])]);break;case"rotate":a=Bv(a).split(Gv),kv.rotate(i,i,parseFloat(a[0]));break;case"skew":a=Bv(a).split(Gv),console.warn("Skew transform is not supported yet");break;case"matrix":a=Bv(a).split(Gv);i[0]=parseFloat(a[0]),i[1]=parseFloat(a[1]),i[2]=parseFloat(a[2]),i[3]=parseFloat(a[3]),i[4]=parseFloat(a[4]),i[5]=parseFloat(a[5])}}t.setLocalTransform(i)}}(e,t),Ev(r,function(e){var t=e.getAttribute("style"),n={};if(!t)return n;var i,r={};Qv.lastIndex=0;for(;null!=(i=Qv.exec(t));)r[i[1]]=i[2];for(var o in Yv)Yv.hasOwnProperty(o)&&null!=r[o]&&(n[Yv[o]]=r[o]);return n}(e)),!i))for(var a in Yv)if(Yv.hasOwnProperty(a)){var s=e.getAttribute(a);null!=s&&(r[Yv[a]]=s)}var l=o?"textFill":"fill",u=o?"textStroke":"stroke";t.style=t.style||new Lv;var c=t.style;null!=r.fill&&c.set(l,Kv(r.fill,n)),null!=r.stroke&&c.set(u,Kv(r.stroke,n)),Vv(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(e){var t="lineWidth"===e&&o?"textStrokeWidth":e;null!=r[e]&&c.set(t,parseFloat(r[e]))})),r.textBaseline&&"auto"!==r.textBaseline||(r.textBaseline="alphabetic"),"alphabetic"===r.textBaseline&&(r.textBaseline="bottom"),"start"===r.textAlign&&(r.textAlign="left"),"end"===r.textAlign&&(r.textAlign="right"),Vv(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],(function(e){null!=r[e]&&c.set(e,r[e])})),r.lineDash&&(t.style.lineDash=Bv(r.lineDash).split(Gv)),c[u]&&"none"!==c[u]&&(t[u]=!0),t.__inheritedStyle=r}var qv=/url\(\s*#(.*?)\)/;function Kv(e,t){var n=t&&e&&e.match(qv);return n?t[Bv(n[1])]:e}var Jv=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g;var Qv=/([^\s:;]+)\s*:\s*([^:;]+)/g;function $v(e,t,n){var i=t/e.width,r=n/e.height,o=Math.min(i,r);return{scale:[o,o],position:[-(e.x+e.width/2)*o+t/2,-(e.y+e.height/2)*o+n/2]}}yv.parseXML=Fv,yv.makeViewBoxTransform=$v,yv.parseSVG=function(e,t){return(new Hv).parse(e,t)};var ey=g,ty=ey.createHashMap,ny=ey.isString,iy=ey.isArray,ry=ey.each;ey.assert;var oy=yv.parseXML,ay=ty(),sy={registerMap:function(e,t,n){var i;return iy(t)?i=t:t.svg?i=[{type:"svg",source:t.svg,specialAreas:t.specialAreas}]:(t.geoJson&&!t.features&&(n=t.specialAreas,t=t.geoJson),i=[{type:"geoJSON",source:t,specialAreas:n}]),ry(i,(function(e){var t=e.type;"geoJson"===t&&(t=e.type="geoJSON"),(0,ly[t])(e)})),ay.set(e,i)},retrieveMap:function(e){return ay.get(e)}},ly={geoJSON:function(e){var t=e.source;e.geoJSON=ny(t)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t},svg:function(e){e.svgXML=oy(e.source)}},uy=sy,cy={},hy={};function dy(e){return e}function fy(e,t,n,i,r){this._old=e,this._new=t,this._oldKeyGetter=n||dy,this._newKeyGetter=i||dy,this.context=r}function py(e,t,n,i,r){for(var o=0;o<e.length;o++){var a="_ec_"+r[i](e[o],o),s=t[a];null==s?(n.push(a),t[a]=o):(s.length||(t[a]=s=[s]),s.push(o))}}fy.prototype={constructor:fy,add:function(e){return this._add=e,this},update:function(e){return this._update=e,this},remove:function(e){return this._remove=e,this},execute:function(){var e=this._old,t=this._new,n={},i=[],r=[];for(py(e,{},i,"_oldKeyGetter",this),py(t,n,r,"_newKeyGetter",this),o=0;o<e.length;o++){if(null!=(s=n[a=i[o]]))(u=s.length)?(1===u&&(n[a]=null),s=s.shift()):n[a]=null,this._update&&this._update(s,o);else this._remove&&this._remove(o)}for(var o=0;o<r.length;o++){var a=r[o];if(n.hasOwnProperty(a)){var s;if(null==(s=n[a]))continue;if(s.length)for(var l=0,u=s.length;l<u;l++)this._add&&this._add(s[l]);else this._add&&this._add(s)}}}};var gy=fy,my={},vy=g,yy=vy.each,_y=vy.createHashMap;vy.assert;var xy=_y(["tooltip","label","itemName","itemId","seriesName"]);function by(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}my.OTHER_DIMENSIONS=xy,my.summarizeDimensions=function(e){var t={},n=t.encode={},i=_y(),r=[],o=[],a=t.userOutput={dimensionNames:e.dimensions.slice(),encode:{}};yy(e.dimensions,(function(t){var s,l=e.getDimensionInfo(t),u=l.coordDim;if(u){var c=l.coordDimIndex;by(n,u)[c]=t,l.isExtraCoord||(i.set(u,1),"ordinal"!==(s=l.type)&&"time"!==s&&(r[0]=t),by(a.encode,u)[c]=l.index),l.defaultTooltip&&o.push(t)}xy.each((function(e,t){var i=by(n,t),r=l.otherDims[t];null!=r&&!1!==r&&(i[r]=l.name)}))}));var s=[],l={};i.each((function(e,t){var i=n[t];l[t]=i[0],s=s.concat(i)})),t.dataDimsOnCoord=s,t.encodeFirstDimNotExtra=l;var u=n.label;u&&u.length&&(r=u.slice());var c=n.tooltip;return c&&c.length?o=c.slice():o.length||(o=r.slice()),n.defaultedLabel=r,n.defaultedTooltip=o,t},my.getDimensionTypeByAxis=function(e){return"category"===e?"ordinal":"time"===e?"time":"float"};var wy=g;var Sy=function(e){null!=e&&wy.extend(this,e),this.otherDims={}},My=g,Iy=xh,Ay=gy,Ty=Nd,Cy=Cp,Dy=Cy.defaultDimValueGetters,Py=Cy.DefaultDataProvider,Ly=my.summarizeDimensions,ky=Sy,Oy=My.isObject,Ny={float:"undefined"==typeof Float64Array?Array:Float64Array,int:"undefined"==typeof Int32Array?Array:Int32Array,ordinal:Array,number:Array,time:Array},Ry="undefined"==typeof Uint32Array?Array:Uint32Array,Ey="undefined"==typeof Int32Array?Array:Int32Array,zy="undefined"==typeof Uint16Array?Array:Uint16Array;function By(e){return e._rawCount>65535?Ry:zy}var Vy=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],Gy=["_extent","_approximateExtent","_rawExtent"];function Fy(e,t){My.each(Vy.concat(t.__wrappedMethods||[]),(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e.__wrappedMethods=t.__wrappedMethods,My.each(Gy,(function(n){e[n]=My.clone(t[n])})),e._calculationInfo=My.extend(t._calculationInfo)}var Hy=function(e,t){e=e||["x","y"];for(var n={},i=[],r={},o=0;o<e.length;o++){var a=e[o];My.isString(a)?a=new ky({name:a}):a instanceof ky||(a=new ky(a));var s=a.name;a.type=a.type||"float",a.coordDim||(a.coordDim=s,a.coordDimIndex=0),a.otherDims=a.otherDims||{},i.push(s),n[s]=a,a.index=o,a.createInvertedIndices&&(r[s]=[])}this.dimensions=i,this._dimensionInfos=n,this.hostModel=t,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=Ly(this),this._invertedIndicesMap=r,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},Wy=Hy.prototype;function Uy(e,t,n,i,r){var o=Ny[t.type],a=i-1,s=t.name,l=e[s][a];if(l&&l.length<n){for(var u=new o(Math.min(r-a*n,n)),c=0;c<l.length;c++)u[c]=l[c];e[s][a]=u}for(var h=i*n;h<r;h+=n)e[s].push(new o(Math.min(r-h,n)))}function jy(e){var t=e._invertedIndicesMap;My.each(t,(function(n,i){var r=e._dimensionInfos[i].ordinalMeta;if(r){n=t[i]=new Ey(r.categories.length);for(var o=0;o<n.length;o++)n[o]=-1;for(o=0;o<e._count;o++)n[e.get(i,o)]=o}}))}function Zy(e,t,n){var i;if(null!=t){var r=e._chunkSize,o=Math.floor(n/r),a=n%r,s=e.dimensions[t],l=e._storage[s][o];if(l){i=l[a];var u=e._dimensionInfos[s].ordinalMeta;u&&u.categories.length&&(i=u.categories[i])}}return i}function Yy(e){return e}function Xy(e){return e<this._count&&e>=0?this._indices[e]:-1}function qy(e,t){var n=e._idList[t];return null==n&&(n=Zy(e,e._idDimIdx,t)),null==n&&(n="e\0\0"+t),n}function Ky(e){return My.isArray(e)||(e=[e]),e}function Jy(e,t){var n=e.dimensions,i=new Hy(My.map(n,e.getDimensionInfo,e),e.hostModel);Fy(i,e);for(var r=i._storage={},o=e._storage,a=0;a<n.length;a++){var s=n[a];o[s]&&(My.indexOf(t,s)>=0?(r[s]=Qy(o[s]),i._rawExtent[s]=$y(),i._extent[s]=null):r[s]=o[s])}return i}function Qy(e){for(var t,n,i=new Array(e.length),r=0;r<e.length;r++)i[r]=(t=e[r],n=void 0,(n=t.constructor)===Array?t.slice():new n(t));return i}function $y(){return[1/0,-1/0]}Wy.type="list",Wy.hasItemOption=!0,Wy.getDimension=function(e){return"number"!=typeof e&&(isNaN(e)||this._dimensionInfos.hasOwnProperty(e))||(e=this.dimensions[e]),e},Wy.getDimensionInfo=function(e){return this._dimensionInfos[this.getDimension(e)]},Wy.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},Wy.mapDimension=function(e,t){var n=this._dimensionsSummary;if(null==t)return n.encodeFirstDimNotExtra[e];var i=n.encode[e];return!0===t?(i||[]).slice():i&&i[t]},Wy.initData=function(e,t,n){(Ty.isInstance(e)||My.isArrayLike(e))&&(e=new Py(e,this.dimensions.length)),this._rawData=e,this._storage={},this._indices=null,this._nameList=t||[],this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=Dy[this._rawData.getSource().sourceFormat],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._dimValueGetterArrayRows=Dy.arrayRows,this._rawExtent={},this._initDataFromProvider(0,e.count()),e.pure&&(this.hasItemOption=!1)},Wy.getProvider=function(){return this._rawData},Wy.appendData=function(e){var t=this._rawData,n=this.count();t.appendData(e);var i=t.count();t.persistent||(i+=n),this._initDataFromProvider(n,i)},Wy.appendValues=function(e,t){for(var n=this._chunkSize,i=this._storage,r=this.dimensions,o=r.length,a=this._rawExtent,s=this.count(),l=s+Math.max(e.length,t?t.length:0),u=this._chunkCount,c=0;c<o;c++){a[v=r[c]]||(a[v]=$y()),i[v]||(i[v]=[]),Uy(i,this._dimensionInfos[v],n,u,l),this._chunkCount=i[v].length}for(var h=new Array(o),d=s;d<l;d++){for(var f=d-s,p=Math.floor(d/n),g=d%n,m=0;m<o;m++){var v=r[m],y=this._dimValueGetterArrayRows(e[f]||h,v,f,m);i[v][p][g]=y;var _=a[v];y<_[0]&&(_[0]=y),y>_[1]&&(_[1]=y)}t&&(this._nameList[d]=t[f])}this._rawCount=this._count=l,this._extent={},jy(this)},Wy._initDataFromProvider=function(e,t){if(!(e>=t)){for(var n,i=this._chunkSize,r=this._rawData,o=this._storage,a=this.dimensions,s=a.length,l=this._dimensionInfos,u=this._nameList,c=this._idList,h=this._rawExtent,d=this._nameRepeatCount={},f=this._chunkCount,p=0;p<s;p++){h[b=a[p]]||(h[b]=$y());var g=l[b];0===g.otherDims.itemName&&(n=this._nameDimIdx=p),0===g.otherDims.itemId&&(this._idDimIdx=p),o[b]||(o[b]=[]),Uy(o,g,i,f,t),this._chunkCount=o[b].length}for(var m=new Array(s),v=e;v<t;v++){m=r.getItem(v,m);for(var y=Math.floor(v/i),_=v%i,x=0;x<s;x++){var b,w=o[b=a[x]][y],S=this._dimValueGetter(m,b,v,x);w[_]=S;var M=h[b];S<M[0]&&(M[0]=S),S>M[1]&&(M[1]=S)}if(!r.pure){var I=u[v];if(m&&null==I)if(null!=m.name)u[v]=I=m.name;else if(null!=n){var A=a[n],T=o[A][y];if(T){I=T[_];var C=l[A].ordinalMeta;C&&C.categories.length&&(I=C.categories[I])}}var D=null==m?null:m.id;null==D&&null!=I&&(d[I]=d[I]||0,D=I,d[I]>0&&(D+="__ec__"+d[I]),d[I]++),null!=D&&(c[v]=D)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=t,this._extent={},jy(this)}},Wy.count=function(){return this._count},Wy.getIndices=function(){var e=this._indices;if(e){var t=e.constructor,n=this._count;if(t===Array){r=new t(n);for(var i=0;i<n;i++)r[i]=e[i]}else r=new t(e.buffer,0,n)}else{var r=new(t=By(this))(this.count());for(i=0;i<r.length;i++)r[i]=i}return r},Wy.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var n=this._storage;if(!n[e])return NaN;t=this.getRawIndex(t);var i=Math.floor(t/this._chunkSize),r=t%this._chunkSize;return n[e][i][r]},Wy.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var n=this._storage[e];if(!n)return NaN;var i=Math.floor(t/this._chunkSize),r=t%this._chunkSize;return n[i][r]},Wy._getFast=function(e,t){var n=Math.floor(t/this._chunkSize),i=t%this._chunkSize;return this._storage[e][n][i]},Wy.getValues=function(e,t){var n=[];My.isArray(e)||(t=e,e=this.dimensions);for(var i=0,r=e.length;i<r;i++)n.push(this.get(e[i],t));return n},Wy.hasValue=function(e){for(var t=this._dimensionsSummary.dataDimsOnCoord,n=0,i=t.length;n<i;n++)if(isNaN(this.get(t[n],e)))return!1;return!0},Wy.getDataExtent=function(e){e=this.getDimension(e);var t=this._storage[e],n=$y();if(!t)return n;var i,r=this.count();if(!this._indices)return this._rawExtent[e].slice();if(i=this._extent[e])return i.slice();for(var o=(i=n)[0],a=i[1],s=0;s<r;s++){var l=this._getFast(e,this.getRawIndex(s));l<o&&(o=l),l>a&&(a=l)}return i=[o,a],this._extent[e]=i,i},Wy.getApproximateExtent=function(e){return e=this.getDimension(e),this._approximateExtent[e]||this.getDataExtent(e)},Wy.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},Wy.getCalculationInfo=function(e){return this._calculationInfo[e]},Wy.setCalculationInfo=function(e,t){Oy(e)?My.extend(this._calculationInfo,e):this._calculationInfo[e]=t},Wy.getSum=function(e){var t=0;if(this._storage[e])for(var n=0,i=this.count();n<i;n++){var r=this.get(e,n);isNaN(r)||(t+=r)}return t},Wy.getMedian=function(e){var t=[];this.each(e,(function(e,n){isNaN(e)||t.push(e)}));var n=[].concat(t).sort((function(e,t){return e-t})),i=this.count();return 0===i?0:i%2==1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},Wy.rawIndexOf=function(e,t){var n=(e&&this._invertedIndicesMap[e])[t];return null==n||isNaN(n)?-1:n},Wy.indexOfName=function(e){for(var t=0,n=this.count();t<n;t++)if(this.getName(t)===e)return t;return-1},Wy.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,n=t[e];if(null!=n&&n<this._count&&n===e)return e;for(var i=0,r=this._count-1;i<=r;){var o=(i+r)/2|0;if(t[o]<e)i=o+1;else{if(!(t[o]>e))return o;r=o-1}}return-1},Wy.indicesOfNearest=function(e,t,n){var i=[];if(!this._storage[e])return i;null==n&&(n=1/0);for(var r=1/0,o=-1,a=0,s=0,l=this.count();s<l;s++){var u=t-this.get(e,s),c=Math.abs(u);c<=n&&((c<r||c===r&&u>=0&&o<0)&&(r=c,o=u,a=0),u===o&&(i[a++]=s))}return i.length=a,i},Wy.getRawIndex=Yy,Wy.getRawDataItem=function(e){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(e));for(var t=[],n=0;n<this.dimensions.length;n++){var i=this.dimensions[n];t.push(this.get(i,e))}return t},Wy.getName=function(e){var t=this.getRawIndex(e);return this._nameList[t]||Zy(this,this._nameDimIdx,t)||""},Wy.getId=function(e){return qy(this,this.getRawIndex(e))},Wy.each=function(e,t,n,i){if(this._count){"function"==typeof e&&(i=n,n=t,t=e,e=[]),n=n||i||this;for(var r=(e=My.map(Ky(e),this.getDimension,this)).length,o=0;o<this.count();o++)switch(r){case 0:t.call(n,o);break;case 1:t.call(n,this.get(e[0],o),o);break;case 2:t.call(n,this.get(e[0],o),this.get(e[1],o),o);break;default:for(var a=0,s=[];a<r;a++)s[a]=this.get(e[a],o);s[a]=o,t.apply(n,s)}}},Wy.filterSelf=function(e,t,n,i){if(this._count){"function"==typeof e&&(i=n,n=t,t=e,e=[]),n=n||i||this,e=My.map(Ky(e),this.getDimension,this);for(var r=this.count(),o=new(By(this))(r),a=[],s=e.length,l=0,u=e[0],c=0;c<r;c++){var h,d=this.getRawIndex(c);if(0===s)h=t.call(n,c);else if(1===s){var f=this._getFast(u,d);h=t.call(n,f,c)}else{for(var p=0;p<s;p++)a[p]=this._getFast(u,d);a[p]=c,h=t.apply(n,a)}h&&(o[l++]=d)}return l<r&&(this._indices=o),this._count=l,this._extent={},this.getRawIndex=this._indices?Xy:Yy,this}},Wy.selectRange=function(e){if(this._count){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);var i=t.length;if(i){var r=this.count(),o=new(By(this))(r),a=0,s=t[0],l=e[s][0],u=e[s][1],c=!1;if(!this._indices){var h=0;if(1===i){for(var d=this._storage[t[0]],f=0;f<this._chunkCount;f++)for(var p=d[f],g=Math.min(this._count-f*this._chunkSize,this._chunkSize),m=0;m<g;m++){((b=p[m])>=l&&b<=u||isNaN(b))&&(o[a++]=h),h++}c=!0}else if(2===i){d=this._storage[s];var v=this._storage[t[1]],y=e[t[1]][0],_=e[t[1]][1];for(f=0;f<this._chunkCount;f++){p=d[f];var x=v[f];for(g=Math.min(this._count-f*this._chunkSize,this._chunkSize),m=0;m<g;m++){var b=p[m],w=x[m];(b>=l&&b<=u||isNaN(b))&&(w>=y&&w<=_||isNaN(w))&&(o[a++]=h),h++}}c=!0}}if(!c)if(1===i)for(m=0;m<r;m++){var S=this.getRawIndex(m);((b=this._getFast(s,S))>=l&&b<=u||isNaN(b))&&(o[a++]=S)}else for(m=0;m<r;m++){var M=!0;for(S=this.getRawIndex(m),f=0;f<i;f++){var I=t[f];((b=this._getFast(n,S))<e[I][0]||b>e[I][1])&&(M=!1)}M&&(o[a++]=this.getRawIndex(m))}return a<r&&(this._indices=o),this._count=a,this._extent={},this.getRawIndex=this._indices?Xy:Yy,this}}},Wy.mapArray=function(e,t,n,i){"function"==typeof e&&(i=n,n=t,t=e,e=[]),n=n||i||this;var r=[];return this.each(e,(function(){r.push(t&&t.apply(this,arguments))}),n),r},Wy.map=function(e,t,n,i){n=n||i||this;var r=Jy(this,e=My.map(Ky(e),this.getDimension,this));r._indices=this._indices,r.getRawIndex=r._indices?Xy:Yy;for(var o=r._storage,a=[],s=this._chunkSize,l=e.length,u=this.count(),c=[],h=r._rawExtent,d=0;d<u;d++){for(var f=0;f<l;f++)c[f]=this.get(e[f],d);c[l]=d;var p=t&&t.apply(n,c);if(null!=p){"object"!=typeof p&&(a[0]=p,p=a);for(var g=this.getRawIndex(d),m=Math.floor(g/s),v=g%s,y=0;y<p.length;y++){var _=e[y],x=p[y],b=h[_],w=o[_];w&&(w[m][v]=x),x<b[0]&&(b[0]=x),x>b[1]&&(b[1]=x)}}}return r},Wy.downSample=function(e,t,n,i){for(var r=Jy(this,[e]),o=r._storage,a=[],s=Math.floor(1/t),l=o[e],u=this.count(),c=this._chunkSize,h=r._rawExtent[e],d=new(By(this))(u),f=0,p=0;p<u;p+=s){s>u-p&&(s=u-p,a.length=s);for(var g=0;g<s;g++){var m=this.getRawIndex(p+g),v=Math.floor(m/c),y=m%c;a[g]=l[v][y]}var _=n(a),x=this.getRawIndex(Math.min(p+i(a,_)||0,u-1)),b=x%c;l[Math.floor(x/c)][b]=_,_<h[0]&&(h[0]=_),_>h[1]&&(h[1]=_),d[f++]=x}return r._count=f,r._indices=d,r.getRawIndex=Xy,r},Wy.getItemModel=function(e){var t=this.hostModel;return new Iy(this.getRawDataItem(e),t,t&&t.ecModel)},Wy.diff=function(e){var t=this;return new Ay(e?e.getIndices():[],this.getIndices(),(function(t){return qy(e,t)}),(function(e){return qy(t,e)}))},Wy.getVisual=function(e){var t=this._visual;return t&&t[e]},Wy.setVisual=function(e,t){if(Oy(e))for(var n in e)e.hasOwnProperty(n)&&this.setVisual(n,e[n]);else this._visual=this._visual||{},this._visual[e]=t},Wy.setLayout=function(e,t){if(Oy(e))for(var n in e)e.hasOwnProperty(n)&&this.setLayout(n,e[n]);else this._layout[e]=t},Wy.getLayout=function(e){return this._layout[e]},Wy.getItemLayout=function(e){return this._itemLayouts[e]},Wy.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?My.extend(this._itemLayouts[e]||{},t):t},Wy.clearItemLayouts=function(){this._itemLayouts.length=0},Wy.getItemVisual=function(e,t,n){var i=this._itemVisuals[e],r=i&&i[t];return null!=r||n?r:this.getVisual(t)},Wy.setItemVisual=function(e,t,n){var i=this._itemVisuals[e]||{},r=this.hasItemVisual;if(this._itemVisuals[e]=i,Oy(t))for(var o in t)t.hasOwnProperty(o)&&(i[o]=t[o],r[o]=!0);else i[t]=n,r[t]=!0},Wy.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var e_=function(e){e.seriesIndex=this.seriesIndex,e.dataIndex=this.dataIndex,e.dataType=this.dataType};Wy.setItemGraphicEl=function(e,t){var n=this.hostModel;t&&(t.dataIndex=e,t.dataType=this.dataType,t.seriesIndex=n&&n.seriesIndex,"group"===t.type&&t.traverse(e_,t)),this._graphicEls[e]=t},Wy.getItemGraphicEl=function(e){return this._graphicEls[e]},Wy.eachItemGraphicEl=function(e,t){My.each(this._graphicEls,(function(n,i){n&&e&&e.call(t,n,i)}))},Wy.cloneShallow=function(e){if(!e){var t=My.map(this.dimensions,this.getDimensionInfo,this);e=new Hy(t,this.hostModel)}if(e._storage=this._storage,Fy(e,this),this._indices){var n=this._indices.constructor;e._indices=new n(this._indices)}else e._indices=null;return e.getRawIndex=e._indices?Xy:Yy,e},Wy.wrapMethod=function(e,t){var n=this[e];"function"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var e=n.apply(this,arguments);return t.apply(this,[e].concat(My.slice(arguments)))})},Wy.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],Wy.CHANGABLE_METHODS=["filterSelf","selectRange"];var t_=Hy,n_=g,i_=n_.createHashMap,r_=n_.each,o_=n_.isString,a_=n_.defaults,s_=n_.extend,l_=n_.isObject,u_=n_.clone,c_=na.normalizeToArray,h_=bd,d_=h_.guessOrdinal,f_=h_.BE_ORDINAL,p_=Nd,g_=my.OTHER_DIMENSIONS,m_=Sy;function v_(e,t,n){if(n||null!=t.get(e)){for(var i=0;null!=t.get(e+i);)i++;e+=i}return t.set(e,!0),e}var y_=function(e,t,n){p_.isInstance(t)||(t=p_.seriesDataToSource(t)),n=n||{},e=(e||[]).slice();for(var i=(n.dimsDef||[]).slice(),r=i_(),o=i_(),a=[],s=function(e,t,n,i){var r=Math.max(e.dimensionsDetectCount||1,t.length,n.length,i||0);return r_(t,(function(e){var t=e.dimsDef;t&&(r=Math.max(r,t.length))})),r}(t,e,i,n.dimCount),l=0;l<s;l++){var u=i[l]=s_({},l_(i[l])?i[l]:{name:i[l]}),c=u.name,h=a[l]=new m_;null!=c&&null==r.get(c)&&(h.name=h.displayName=c,r.set(c,l)),null!=u.type&&(h.type=u.type),null!=u.displayName&&(h.displayName=u.displayName)}var d=n.encodeDef;!d&&n.encodeDefaulter&&(d=n.encodeDefaulter(t,s)),(d=i_(d)).each((function(e,t){if(1===(e=c_(e).slice()).length&&!o_(e[0])&&e[0]<0)d.set(t,!1);else{var n=d.set(t,[]);r_(e,(function(e,i){o_(e)&&(e=r.get(e)),null!=e&&e<s&&(n[i]=e,p(a[e],t,i))}))}}));var f=0;function p(e,t,n){null!=g_.get(t)?e.otherDims[t]=n:(e.coordDim=t,e.coordDimIndex=n,o.set(t,!0))}r_(e,(function(e,t){var n,i,r;if(o_(e))n=e,e={};else{n=e.name;var o=e.ordinalMeta;e.ordinalMeta=null,(e=u_(e)).ordinalMeta=o,i=e.dimsDef,r=e.otherDims,e.name=e.coordDim=e.coordDimIndex=e.dimsDef=e.otherDims=null}if(!1!==(s=d.get(n))){var s;if(!(s=c_(s)).length)for(var l=0;l<(i&&i.length||1);l++){for(;f<a.length&&null!=a[f].coordDim;)f++;f<a.length&&s.push(f++)}r_(s,(function(t,o){var s=a[t];if(p(a_(s,e),n,o),null==s.name&&i){var l=i[o];!l_(l)&&(l={name:l}),s.name=s.displayName=l.name,s.defaultTooltip=l.defaultTooltip}r&&a_(s.otherDims,r)}))}}));var g=n.generateCoord,m=n.generateCoordCount,v=null!=m;m=g?m||1:0;for(var y=g||"value",_=0;_<s;_++){null==(h=a[_]=a[_]||new m_).coordDim&&(h.coordDim=v_(y,o,v),h.coordDimIndex=0,(!g||m<=0)&&(h.isExtraCoord=!0),m--),null==h.name&&(h.name=v_(h.coordDim,r)),null!=h.type||d_(t,_,h.name)!==f_.Must&&(!h.isExtraCoord||null==h.otherDims.itemName&&null==h.otherDims.seriesName)||(h.type="ordinal")}return a},__=y_;var x_=function(e,t){return __((t=t||{}).coordDimensions||[],e,{dimsDef:t.dimensionsDefine||e.dimensionsDefine,encodeDef:t.encodeDefine||e.encodeDefine,dimCount:t.dimensionsCount,encodeDefaulter:t.encodeDefaulter,generateCoord:t.generateCoord,generateCoordCount:t.generateCoordCount})},b_={},w_=g,S_=w_.createHashMap;w_.retrieve;var M_=w_.each;function I_(e){this.coordSysName=e,this.coordSysDims=[],this.axisMap=S_(),this.categoryAxisMap=S_(),this.firstCategoryDimIndex=null}var A_={cartesian2d:function(e,t,n,i){var r=e.getReferringComponents("xAxis")[0],o=e.getReferringComponents("yAxis")[0];t.coordSysDims=["x","y"],n.set("x",r),n.set("y",o),T_(r)&&(i.set("x",r),t.firstCategoryDimIndex=0),T_(o)&&(i.set("y",o),t.firstCategoryDimIndex,t.firstCategoryDimIndex=1)},singleAxis:function(e,t,n,i){var r=e.getReferringComponents("singleAxis")[0];t.coordSysDims=["single"],n.set("single",r),T_(r)&&(i.set("single",r),t.firstCategoryDimIndex=0)},polar:function(e,t,n,i){var r=e.getReferringComponents("polar")[0],o=r.findAxisModel("radiusAxis"),a=r.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",a),T_(o)&&(i.set("radius",o),t.firstCategoryDimIndex=0),T_(a)&&(i.set("angle",a),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t,n,i){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,i){var r=e.ecModel,o=r.getComponent("parallel",e.get("parallelIndex")),a=t.coordSysDims=o.dimensions.slice();M_(o.parallelAxisIndex,(function(e,o){var s=r.getComponent("parallelAxis",e),l=a[o];n.set(l,s),T_(s)&&null==t.firstCategoryDimIndex&&(i.set(l,s),t.firstCategoryDimIndex=o)}))}};function T_(e){return"category"===e.get("type")}b_.getCoordSysInfoBySeries=function(e){var t=e.get("coordinateSystem"),n=new I_(t),i=A_[t];if(i)return i(e,n,n.axisMap,n.categoryAxisMap),n};var C_={},D_=g,P_=D_.each,L_=D_.isString;function k_(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}C_.enableDataStack=function(e,t,n){var i,r,o,a,s=(n=n||{}).byIndex,l=n.stackedCoordDimension,u=!(!e||!e.get("stack"));if(P_(t,(function(e,n){L_(e)&&(t[n]=e={name:e}),u&&!e.isExtraCoord&&(s||i||!e.ordinalMeta||(i=e),r||"ordinal"===e.type||"time"===e.type||l&&l!==e.coordDim||(r=e))})),!r||s||i||(s=!0),r){o="__\0ecstackresult",a="__\0ecstackedover",i&&(i.createInvertedIndices=!0);var c=r.coordDim,h=r.type,d=0;P_(t,(function(e){e.coordDim===c&&d++})),t.push({name:o,coordDim:c,coordDimIndex:d,type:h,isExtraCoord:!0,isCalculationCoord:!0}),d++,t.push({name:a,coordDim:a,coordDimIndex:d,type:h,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:r&&r.name,stackedByDimension:i&&i.name,isStackedByIndex:s,stackedOverDimension:a,stackResultDimension:o}},C_.isDimensionStacked=k_,C_.getStackedDimension=function(e,t){return k_(e,t)?e.getCalculationInfo("stackResultDimension"):t};var O_=g,N_=t_,R_=x_,E_=wd.SOURCE_FORMAT_ORIGINAL,z_=my.getDimensionTypeByAxis,B_=na.getDataItemValue,V_=Ff,G_=b_.getCoordSysInfoBySeries,F_=Nd,H_=C_.enableDataStack,W_=bd.makeSeriesEncodeForAxisCoordSys;var U_=function(e,t,n){n=n||{},F_.isInstance(e)||(e=F_.seriesDataToSource(e));var i,r=t.get("coordinateSystem"),o=V_.get(r),a=G_(t);a&&(i=O_.map(a.coordSysDims,(function(e){var t={name:e},n=a.axisMap.get(e);if(n){var i=n.get("type");t.type=z_(i)}return t}))),i||(i=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]);var s,l,u=R_(e,{coordDimensions:i,generateCoord:n.generateCoord,encodeDefaulter:n.useEncodeDefaulter?O_.curry(W_,i,t):null});a&&O_.each(u,(function(e,t){var n=e.coordDim,i=a.categoryAxisMap.get(n);i&&(null==s&&(s=t),e.ordinalMeta=i.getOrdinalMeta()),null!=e.otherDims.itemName&&(l=!0)})),l||null==s||(u[s].otherDims.itemName=0);var c=H_(t,u),h=new N_(u,t);h.setCalculationInfo(c);var d=null!=s&&function(e){if(e.sourceFormat===E_){var t=function(e){var t=0;for(;t<e.length&&null==e[t];)t++;return e[t]}(e.data||[]);return null!=t&&!O_.isArray(B_(t))}}(e)?function(e,t,n,i){return i===s?n:this.defaultDimValueGetter(e,t,n,i)}:null;return h.hasItemOption=!1,h.initData(e,null,d),h},j_={},Z_=da;function Y_(e){this._setting=e||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}Y_.prototype.parse=function(e){return e},Y_.prototype.getSetting=function(e){return this._setting[e]},Y_.prototype.contain=function(e){var t=this._extent;return e>=t[0]&&e<=t[1]},Y_.prototype.normalize=function(e){var t=this._extent;return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])},Y_.prototype.scale=function(e){var t=this._extent;return e*(t[1]-t[0])+t[0]},Y_.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},Y_.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},Y_.prototype.getExtent=function(){return this._extent.slice()},Y_.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},Y_.prototype.isBlank=function(){return this._isBlank},Y_.prototype.setBlank=function(e){this._isBlank=e},Y_.prototype.getLabel=null,Z_.enableClassExtend(Y_),Z_.enableClassManagement(Y_,{registerWhenExtend:!0});var X_=Y_,q_=g,K_=q_.createHashMap,J_=q_.isObject,Q_=q_.map;function $_(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this._map}$_.createByAxisModel=function(e){var t=e.option,n=t.data,i=n&&Q_(n,nx);return new $_({categories:i,needCollect:!i,deduplication:!1!==t.dedplication})};var ex=$_.prototype;function tx(e){return e._map||(e._map=K_(e.categories))}function nx(e){return J_(e)&&null!=e.value?e.value:e+""}ex.getOrdinal=function(e){return tx(this).get(e)},ex.parseAndCollect=function(e){var t,n=this._needCollect;if("string"!=typeof e&&!n)return e;if(n&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var i=tx(this);return null==(t=i.get(e))&&(n?(t=this.categories.length,this.categories[t]=e,i.set(e,t)):t=NaN),t};var ix=$_,rx=g,ox=X_,ax=ix,sx=ox.prototype,lx=ox.extend({type:"ordinal",init:function(e,t){e&&!rx.isArray(e)||(e=new ax({categories:e})),this._ordinalMeta=e,this._extent=t||[0,e.categories.length-1]},parse:function(e){return"string"==typeof e?this._ordinalMeta.getOrdinal(e):Math.round(e)},contain:function(e){return e=this.parse(e),sx.contain.call(this,e)&&null!=this._ordinalMeta.categories[e]},normalize:function(e){return sx.normalize.call(this,this.parse(e))},scale:function(e){return Math.round(sx.scale.call(this,e))},getTicks:function(){for(var e=[],t=this._extent,n=t[0];n<=t[1];)e.push(n),n++;return e},getLabel:function(e){if(!this.isBlank())return this._ordinalMeta.categories[e]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:rx.noop,niceExtent:rx.noop});lx.create=function(){return new lx};var ux=lx,cx={},hx=Ah,dx=hx.round;function fx(e){return hx.getPrecisionSafe(e)+2}function px(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function gx(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),px(e,0,t),px(e,1,t),e[0]>e[1]&&(e[0]=e[1])}cx.intervalScaleNiceTicks=function(e,t,n,i){var r={},o=e[1]-e[0],a=r.interval=hx.nice(o/t,!0);null!=n&&a<n&&(a=r.interval=n),null!=i&&a>i&&(a=r.interval=i);var s=r.intervalPrecision=fx(a);return gx(r.niceTickExtent=[dx(Math.ceil(e[0]/a)*a,s),dx(Math.floor(e[1]/a)*a,s)],e),r},cx.getIntervalPrecision=fx,cx.fixExtent=gx;var mx=Ah,vx=Ph,yx=X_,_x=cx,xx=mx.round,bx=yx.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(e,t){var n=this._extent;isNaN(e)||(n[0]=parseFloat(e)),isNaN(t)||(n[1]=parseFloat(t))},unionExtent:function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),bx.prototype.setExtent.call(this,t[0],t[1])},getInterval:function(){return this._interval},setInterval:function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=_x.getIntervalPrecision(e)},getTicks:function(e){var t=this._interval,n=this._extent,i=this._niceExtent,r=this._intervalPrecision,o=[];if(!t)return o;n[0]<i[0]&&(e?o.push(xx(i[0]-t,r)):o.push(n[0]));for(var a=i[0];a<=i[1]&&(o.push(a),(a=xx(a+t,r))!==o[o.length-1]);)if(o.length>1e4)return[];var s=o.length?o[o.length-1]:i[1];return n[1]>s&&(e?o.push(xx(s+t,r)):o.push(n[1])),o},getMinorTicks:function(e){for(var t=this.getTicks(!0),n=[],i=this.getExtent(),r=1;r<t.length;r++){for(var o=t[r],a=t[r-1],s=0,l=[],u=(o-a)/e;s<e-1;){var c=mx.round(a+(s+1)*u);c>i[0]&&c<i[1]&&l.push(c),s++}n.push(l)}return n},getLabel:function(e,t){if(null==e)return"";var n=t&&t.precision;return null==n?n=mx.getPrecisionSafe(e)||0:"auto"===n&&(n=this._intervalPrecision),e=xx(e,n,!0),vx.addCommas(e)},niceTicks:function(e,t,n){e=e||5;var i=this._extent,r=i[1]-i[0];if(isFinite(r)){r<0&&(r=-r,i.reverse());var o=_x.intervalScaleNiceTicks(i,e,t,n);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},niceExtent:function(e){var t=this._extent;if(t[0]===t[1])if(0!==t[0]){var n=t[0];e.fixMax||(t[1]+=n/2),t[0]-=n/2}else t[1]=1;var i=t[1]-t[0];isFinite(i)||(t[0]=0,t[1]=1),this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var r=this._interval;e.fixMin||(t[0]=xx(Math.floor(t[0]/r)*r)),e.fixMax||(t[1]=xx(Math.ceil(t[1]/r)*r))}});bx.create=function(){return new bx};var Sx=bx,Mx={},Ix=g,Ax=Ah.parsePercent,Tx=C_.isDimensionStacked,Cx="undefined"!=typeof Float32Array?Float32Array:Array;function Dx(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function Px(e){return e.dim+e.index}function Lx(e,t){var n=[];return t.eachSeriesByType(e,(function(e){Ex(e)&&!zx(e)&&n.push(e)})),n}function kx(e){var t=function(e){var t={};Ix.each(e,(function(e){var n=e.coordinateSystem.getBaseAxis();if("time"===n.type||"value"===n.type)for(var i=e.getData(),r=n.dim+"_"+n.index,o=i.mapDimension(n.dim),a=0,s=i.count();a<s;++a){var l=i.get(o,a);t[r]?t[r].push(l):t[r]=[l]}}));var n=[];for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];if(r){r.sort((function(e,t){return e-t}));for(var o=null,a=1;a<r.length;++a){var s=r[a]-r[a-1];s>0&&(o=null===o?s:Math.min(o,s))}n[i]=o}}return n}(e),n=[];return Ix.each(e,(function(e){var i,r=e.coordinateSystem.getBaseAxis(),o=r.getExtent();if("category"===r.type)i=r.getBandWidth();else if("value"===r.type||"time"===r.type){var a=r.dim+"_"+r.index,s=t[a],l=Math.abs(o[1]-o[0]),u=r.scale.getExtent(),c=Math.abs(u[1]-u[0]);i=s?l/c*s:l}else{var h=e.getData();i=Math.abs(o[1]-o[0])/h.count()}var d=Ax(e.get("barWidth"),i),f=Ax(e.get("barMaxWidth"),i),p=Ax(e.get("barMinWidth")||1,i),g=e.get("barGap"),m=e.get("barCategoryGap");n.push({bandWidth:i,barWidth:d,barMaxWidth:f,barMinWidth:p,barGap:g,barCategoryGap:m,axisKey:Px(r),stackId:Dx(e)})})),Ox(n)}function Ox(e){var t={};Ix.each(e,(function(e,n){var i=e.axisKey,r=e.bandWidth,o=t[i]||{bandWidth:r,remainedWidth:r,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},a=o.stacks;t[i]=o;var s=e.stackId;a[s]||o.autoWidthCount++,a[s]=a[s]||{width:0,maxWidth:0};var l=e.barWidth;l&&!a[s].width&&(a[s].width=l,l=Math.min(o.remainedWidth,l),o.remainedWidth-=l);var u=e.barMaxWidth;u&&(a[s].maxWidth=u);var c=e.barMinWidth;c&&(a[s].minWidth=c);var h=e.barGap;null!=h&&(o.gap=h);var d=e.barCategoryGap;null!=d&&(o.categoryGap=d)}));var n={};return Ix.each(t,(function(e,t){n[t]={};var i=e.stacks,r=e.bandWidth,o=Ax(e.categoryGap,r),a=Ax(e.gap,1),s=e.remainedWidth,l=e.autoWidthCount,u=(s-o)/(l+(l-1)*a);u=Math.max(u,0),Ix.each(i,(function(e){var t=e.maxWidth,n=e.minWidth;if(e.width){i=e.width;t&&(i=Math.min(i,t)),n&&(i=Math.max(i,n)),e.width=i,s-=i+a*i,l--}else{var i=u;t&&t<i&&(i=Math.min(t,s)),n&&n>i&&(i=n),i!==u&&(e.width=i,s-=i+a*i,l--)}})),u=(s-o)/(l+(l-1)*a),u=Math.max(u,0);var c,h=0;Ix.each(i,(function(e,t){e.width||(e.width=u),c=e,h+=e.width*(1+a)})),c&&(h-=c.width*a);var d=-h/2;Ix.each(i,(function(e,i){n[t][i]=n[t][i]||{bandWidth:r,offset:d,width:e.width},d+=e.width*(1+a)}))})),n}function Nx(e,t,n){if(e&&t){var i=e[Px(t)];return null!=i&&null!=n&&(i=i[Dx(n)]),i}}var Rx={seriesType:"bar",plan:Kg(),reset:function(e){if(Ex(e)&&zx(e)){var t=e.getData(),n=e.coordinateSystem,i=n.grid.getRect(),r=n.getBaseAxis(),o=n.getOtherAxis(r),a=t.mapDimension(o.dim),s=t.mapDimension(r.dim),l=o.isHorizontal(),u=l?0:1,c=Nx(kx([e]),r,e).width;return c>.5||(c=.5),{progress:function(e,t){var h,d=e.count,f=new Cx(2*d),p=new Cx(2*d),g=new Cx(d),m=[],v=[],y=0,_=0;for(;null!=(h=e.next());)v[u]=t.get(a,h),v[1-u]=t.get(s,h),m=n.dataToPoint(v,null,m),p[y]=l?i.x+i.width:m[0],f[y++]=m[0],p[y]=l?m[1]:i.y+i.height,f[y++]=m[1],g[_++]=h;t.setLayout({largePoints:f,largeDataIndices:g,largeBackgroundPoints:p,barWidth:c,valueAxisStart:Bx(r,o),backgroundStart:l?i.x:i.y,valueAxisHorizontal:l})}}}}};function Ex(e){return e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type}function zx(e){return e.pipelineContext&&e.pipelineContext.large}function Bx(e,t,n){return t.toGlobalCoord(t.dataToCoord("log"===t.type?1:0))}Mx.getLayoutOnAxis=function(e){var t=[],n=e.axis,i="axis0";if("category"===n.type){for(var r=n.getBandWidth(),o=0;o<e.count;o++)t.push(Ix.defaults({bandWidth:r,axisKey:i,stackId:"__ec_stack_"+o},e));var a=Ox(t),s=[];for(o=0;o<e.count;o++){var l=a.axis0["__ec_stack_"+o];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}},Mx.prepareLayoutBarSeries=Lx,Mx.makeColumnLayout=kx,Mx.retrieveColumnLayout=Nx,Mx.layout=function(e,t){var n=Lx(e,t),i=kx(n),r={},o={};Ix.each(n,(function(e){var t=e.getData(),n=e.coordinateSystem,a=n.getBaseAxis(),s=Dx(e),l=i[Px(a)][s],u=l.offset,c=l.width,h=n.getOtherAxis(a),d=e.get("barMinHeight")||0;r[s]=r[s]||[],o[s]=o[s]||[],t.setLayout({bandWidth:l.bandWidth,offset:u,size:c});for(var f=t.mapDimension(h.dim),p=t.mapDimension(a.dim),g=Tx(t,f),m=h.isHorizontal(),v=Bx(a,h),y=0,_=t.count();y<_;y++){var x,b,w,S,M,I=t.get(f,y),A=t.get(p,y),T=I>=0?"p":"n",C=v;if(g&&(r[s][A]||(r[s][A]={p:v,n:v}),C=r[s][A][T]),m)x=C,b=(M=n.dataToPoint([I,A]))[1]+u,w=M[0]-v,S=c,Math.abs(w)<d&&(w=(w<0?-1:1)*d),isNaN(w)||g&&(r[s][A][T]+=w);else x=(M=n.dataToPoint([A,I]))[0]+u,b=C,w=c,S=M[1]-v,Math.abs(S)<d&&(S=(S<=0?-1:1)*d),isNaN(S)||g&&(r[s][A][T]+=S);t.setItemLayout(y,{x:x,y:b,width:w,height:S})}}),this)},Mx.largeLayout=Rx;var Vx=g,Gx=Ah,Fx=Ph,Hx=cx,Wx=Sx,Ux=Wx.prototype,jx=Math.ceil,Zx=Math.floor,Yx=864e5,Xx=Wx.extend({type:"time",getLabel:function(e){var t=this._stepLvl,n=new Date(e);return Fx.formatTime(t[0],n,this.getSetting("useUTC"))},niceExtent:function(e){var t=this._extent;if(t[0]===t[1]&&(t[0]-=Yx,t[1]+=Yx),t[1]===-1/0&&t[0]===1/0){var n=new Date;t[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),t[0]=t[1]-Yx}this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var i=this._interval;e.fixMin||(t[0]=Gx.round(Zx(t[0]/i)*i)),e.fixMax||(t[1]=Gx.round(jx(t[1]/i)*i))},niceTicks:function(e,t,n){e=e||10;var i=this._extent,r=i[1]-i[0],o=r/e;null!=t&&o<t&&(o=t),null!=n&&o>n&&(o=n);var a=qx.length,s=function(e,t,n,i){for(;n<i;){var r=n+i>>>1;e[r][1]<t?n=r+1:i=r}return n}(qx,o,0,a),l=qx[Math.min(s,a-1)],u=l[1];if("year"===l[0]){var c=r/u;u*=Gx.nice(c/e,!0)}var h=this.getSetting("useUTC")?0:60*new Date(+i[0]||+i[1]).getTimezoneOffset()*1e3,d=[Math.round(jx((i[0]-h)/u)*u+h),Math.round(Zx((i[1]-h)/u)*u+h)];Hx.fixExtent(d,i),this._stepLvl=l,this._interval=u,this._niceExtent=d},parse:function(e){return+Gx.parseDate(e)}});Vx.each(["contain","normalize"],(function(e){Xx.prototype[e]=function(t){return Ux[e].call(this,this.parse(t))}}));var qx=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",36e5],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",216e5],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",Yx],["MM-dd\nyyyy",1728e5],["MM-dd\nyyyy",2592e5],["MM-dd\nyyyy",3456e5],["MM-dd\nyyyy",432e6],["MM-dd\nyyyy",5184e5],["week",6048e5],["MM-dd\nyyyy",864e6],["week",12096e5],["week",18144e5],["month",26784e5],["week",36288e5],["month",53568e5],["week",6048e6],["quarter",8208e6],["month",107136e5],["month",13392e6],["half-year",16416e6],["month",214272e5],["month",26784e6],["year",32832e6]];Xx.create=function(e){return new Xx({useUTC:e.ecModel.get("useUTC")})};var Kx=g,Jx=X_,Qx=Ah,$x=Sx,eb=Jx.prototype,tb=$x.prototype,nb=Qx.getPrecisionSafe,ib=Qx.round,rb=Math.floor,ob=Math.ceil,ab=Math.pow,sb=Math.log,lb=Jx.extend({type:"log",base:10,$constructor:function(){Jx.apply(this,arguments),this._originalScale=new $x},getTicks:function(e){var t=this._originalScale,n=this._extent,i=t.getExtent();return Kx.map(tb.getTicks.call(this,e),(function(e){var r=Qx.round(ab(this.base,e));return r=e===n[0]&&t.__fixMin?ub(r,i[0]):r,r=e===n[1]&&t.__fixMax?ub(r,i[1]):r}),this)},getMinorTicks:tb.getMinorTicks,getLabel:tb.getLabel,scale:function(e){return e=eb.scale.call(this,e),ab(this.base,e)},setExtent:function(e,t){var n=this.base;e=sb(e)/sb(n),t=sb(t)/sb(n),tb.setExtent.call(this,e,t)},getExtent:function(){var e=this.base,t=eb.getExtent.call(this);t[0]=ab(e,t[0]),t[1]=ab(e,t[1]);var n=this._originalScale,i=n.getExtent();return n.__fixMin&&(t[0]=ub(t[0],i[0])),n.__fixMax&&(t[1]=ub(t[1],i[1])),t},unionExtent:function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=sb(e[0])/sb(t),e[1]=sb(e[1])/sb(t),eb.unionExtent.call(this,e)},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t))},niceTicks:function(e){e=e||10;var t=this._extent,n=t[1]-t[0];if(!(n===1/0||n<=0)){var i=Qx.quantity(n);for(e/n*i<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var r=[Qx.round(ob(t[0]/i)*i),Qx.round(rb(t[1]/i)*i)];this._interval=i,this._niceExtent=r}},niceExtent:function(e){tb.niceExtent.call(this,e);var t=this._originalScale;t.__fixMin=e.fixMin,t.__fixMax=e.fixMax}});function ub(e,t){return ib(e,nb(t))}Kx.each(["contain","normalize"],(function(e){lb.prototype[e]=function(t){return t=sb(t)/sb(this.base),eb[e].call(this,t)}})),lb.create=function(){return new lb};var cb=lb,hb=g,db=ux,fb=Sx,pb=X_,gb=Ah,mb=Mx,vb=mb.prepareLayoutBarSeries,yb=mb.makeColumnLayout,_b=mb.retrieveColumnLayout,xb=Pn;function bb(e,t){var n,i,r,o=e.type,a=t.getMin(),s=t.getMax(),l=e.getExtent();"ordinal"===o?n=t.getCategories().length:(i=t.get("boundaryGap"),hb.isArray(i)||(i=[i||0,i||0]),"boolean"==typeof i[0]&&(i=[0,0]),i[0]=gb.parsePercent(i[0],1),i[1]=gb.parsePercent(i[1],1),r=l[1]-l[0]||Math.abs(l[0])),"dataMin"===a?a=l[0]:"function"==typeof a&&(a=a({min:l[0],max:l[1]})),"dataMax"===s?s=l[1]:"function"==typeof s&&(s=s({min:l[0],max:l[1]}));var u=null!=a,c=null!=s;null==a&&(a="ordinal"===o?n?0:NaN:l[0]-i[0]*r),null==s&&(s="ordinal"===o?n?n-1:NaN:l[1]+i[1]*r),(null==a||!isFinite(a))&&(a=NaN),(null==s||!isFinite(s))&&(s=NaN),e.setBlank(hb.eqNaN(a)||hb.eqNaN(s)||"ordinal"===o&&!e.getOrdinalMeta().categories.length),t.getNeedCrossZero()&&(a>0&&s>0&&!u&&(a=0),a<0&&s<0&&!c&&(s=0));var h=t.ecModel;if(h&&"time"===o){var d,f=vb("bar",h);if(hb.each(f,(function(e){d|=e.getBaseAxis()===t.axis})),d){var p=yb(f),g=function(e,t,n,i){var r=n.axis.getExtent(),o=r[1]-r[0],a=_b(i,n.axis);if(void 0===a)return{min:e,max:t};var s=1/0;hb.each(a,(function(e){s=Math.min(e.offset,s)}));var l=-1/0;hb.each(a,(function(e){l=Math.max(e.offset+e.width,l)})),s=Math.abs(s),l=Math.abs(l);var u=s+l,c=t-e,h=c/(1-(s+l)/o)-c;return{min:e-=h*(s/u),max:t+=h*(l/u)}}(a,s,t,p);a=g.min,s=g.max}}return{extent:[a,s],fixMin:u,fixMax:c}}function wb(e){var t,n=e.getLabelModel().get("formatter"),i="category"===e.type?e.scale.getExtent()[0]:null;return"string"==typeof n?(t=n,n=function(n){return n=e.scale.getLabel(n),t.replace("{value}",null!=n?n:"")}):"function"==typeof n?function(t,r){return null!=i&&(r=t-i),n(Sb(e,t),r)}:function(t){return e.scale.getLabel(t)}}function Sb(e,t){return"category"===e.type?e.scale.getLabel(t):t}function Mb(e){var t=e.get("interval");return null==t?"auto":t}j_.getScaleExtent=bb,j_.niceScaleExtent=function(e,t){var n=bb(e,t),i=n.extent,r=t.get("splitNumber");"log"===e.type&&(e.base=t.get("logBase"));var o=e.type;e.setExtent(i[0],i[1]),e.niceExtent({splitNumber:r,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:"interval"===o||"time"===o?t.get("minInterval"):null,maxInterval:"interval"===o||"time"===o?t.get("maxInterval"):null});var a=t.get("interval");null!=a&&e.setInterval&&e.setInterval(a)},j_.createScaleByModel=function(e,t){if(t=t||e.get("type"))switch(t){case"category":return new db(e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),[1/0,-1/0]);case"value":return new fb;default:return(pb.getClass(t)||fb).create(e)}},j_.ifAxisCrossZero=function(e){var t=e.scale.getExtent(),n=t[0],i=t[1];return!(n>0&&i>0||n<0&&i<0)},j_.makeLabelFormatter=wb,j_.getAxisRawValue=Sb,j_.estimateLabelUnionRect=function(e){var t=e.model,n=e.scale;if(t.get("axisLabel.show")&&!n.isBlank()){var i,r,o="category"===e.type,a=n.getExtent();r=o?n.count():(i=n.getTicks()).length;var s,l,u,c,h,d,f,p,g,m=e.getLabelModel(),v=wb(e),y=1;r>40&&(y=Math.ceil(r/40));for(var _=0;_<r;_+=y){var x=v(i?i[_]:a[0]+_),b=m.getTextRect(x),w=(l=b,u=m.get("rotate")||0,c=void 0,h=void 0,d=void 0,f=void 0,p=void 0,g=void 0,void 0,c=u*Math.PI/180,h=l.plain(),d=h.width,f=h.height,p=d*Math.abs(Math.cos(c))+Math.abs(f*Math.sin(c)),g=d*Math.abs(Math.sin(c))+Math.abs(f*Math.cos(c)),new xb(h.x,h.y,p,g));s?s.union(w):s=w}return s}},j_.getOptionCategoryInterval=Mb,j_.shouldShowAllLabels=function(e){return"category"===e.type&&0===Mb(e.getLabelModel())};var Ib=g,Ab={getMin:function(e){var t=this.option,n=e||null==t.rangeStart?t.min:t.rangeStart;return this.axis&&null!=n&&"dataMin"!==n&&"function"!=typeof n&&!Ib.eqNaN(n)&&(n=this.axis.scale.parse(n)),n},getMax:function(e){var t=this.option,n=e||null==t.rangeEnd?t.max:t.rangeEnd;return this.axis&&null!=n&&"dataMax"!==n&&"function"!=typeof n&&!Ib.eqNaN(n)&&(n=this.axis.scale.parse(n)),n},getNeedCrossZero:function(){var e=this.option;return null==e.rangeStart&&null==e.rangeEnd&&!e.scale},getCoordSysModel:Ib.noop,setRange:function(e,t){this.option.rangeStart=e,this.option.rangeEnd=t},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},Tb={},Cb=g,Db=Ia,Pb=Pn,Lb=xi.calculateTextPosition,kb=Db.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,r=t.width/2,o=t.height/2;e.moveTo(n,i-o),e.lineTo(n+r,i+o),e.lineTo(n-r,i+o),e.closePath()}}),Ob=Db.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,r=t.width/2,o=t.height/2;e.moveTo(n,i-o),e.lineTo(n+r,i),e.lineTo(n,i+o),e.lineTo(n-r,i),e.closePath()}}),Nb=Db.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,i=t.y,r=t.width/5*3,o=Math.max(r,t.height),a=r/2,s=a*a/(o-a),l=i-o+a+s,u=Math.asin(s/a),c=Math.cos(u)*a,h=Math.sin(u),d=Math.cos(u),f=.6*a,p=.7*a;e.moveTo(n-c,l+s),e.arc(n,l,a,Math.PI-u,2*Math.PI+u),e.bezierCurveTo(n+c-h*f,l+s+d*f,n,i-p,n,i),e.bezierCurveTo(n,i-p,n-c+h*f,l+s+d*f,n-c,l+s),e.closePath()}}),Rb=Db.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,i=t.width,r=t.x,o=t.y,a=i/3*2;e.moveTo(r,o),e.lineTo(r+a,o+n),e.lineTo(r,o+n/4*3),e.lineTo(r-a,o+n),e.lineTo(r,o),e.closePath()}}),Eb={line:Db.Line,rect:Db.Rect,roundRect:Db.Rect,square:Db.Rect,circle:Db.Circle,diamond:Ob,pin:Nb,arrow:Rb,triangle:kb},zb={line:function(e,t,n,i,r){r.x1=e,r.y1=t+i/2,r.x2=e+n,r.y2=t+i/2},rect:function(e,t,n,i,r){r.x=e,r.y=t,r.width=n,r.height=i},roundRect:function(e,t,n,i,r){r.x=e,r.y=t,r.width=n,r.height=i,r.r=Math.min(n,i)/4},square:function(e,t,n,i,r){var o=Math.min(n,i);r.x=e,r.y=t,r.width=o,r.height=o},circle:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.r=Math.min(n,i)/2},diamond:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.width=n,r.height=i},pin:function(e,t,n,i,r){r.x=e+n/2,r.y=t+i/2,r.width=n,r.height=i},arrow:function(e,t,n,i,r){r.x=e+n/2,r.y=t+i/2,r.width=n,r.height=i},triangle:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.width=n,r.height=i}},Bb={};Cb.each(Eb,(function(e,t){Bb[t]=new e}));var Vb=Db.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,n){var i=Lb(e,t,n),r=this.shape;return r&&"pin"===r.symbolType&&"inside"===t.textPosition&&(i.y=n.y+.4*n.height),i},buildPath:function(e,t,n){var i=t.symbolType;if("none"!==i){var r=Bb[i];r||(r=Bb[i="rect"]),zb[i](t.x,t.y,t.width,t.height,r.shape),r.buildPath(e,r.shape,n)}}});function Gb(e,t){if("image"!==this.type){var n=this.style,i=this.shape;i&&"line"===i.symbolType?n.stroke=e:this.__isEmptyBrush?(n.stroke=e,n.fill=t||"#fff"):(n.fill&&(n.fill=e),n.stroke&&(n.stroke=e)),this.dirty(!1)}}Tb.createSymbol=function(e,t,n,i,r,o,a){var s,l=0===e.indexOf("empty");return l&&(e=e.substr(5,1).toLowerCase()+e.substr(6)),(s=0===e.indexOf("image://")?Db.makeImage(e.slice(8),new Pb(t,n,i,r),a?"center":"cover"):0===e.indexOf("path://")?Db.makePath(e.slice(7),{},new Pb(t,n,i,r),a?"center":"cover"):new Vb({shape:{symbolType:e,x:t,y:n,width:i,height:r}})).__isEmptyBrush=l,s.setColor=Gb,s.setColor(o),s};var Fb=g,Hb=U_,Wb=j_,Ub=Ab,jb=xh,Zb=Ih;Zb.getLayoutRect,hy.getLayoutRect=Zb.getLayoutRect;var Yb=C_,Xb=Yb.enableDataStack,qb=Yb.isDimensionStacked,Kb=Yb.getStackedDimension,Jb=y_;hy.completeDimensions=Jb;var Qb=x_;hy.createDimensions=Qb;var $b=Tb;hy.createSymbol=$b.createSymbol;var ew={isDimensionStacked:qb,enableDataStack:Xb,getStackedDimension:Kb};hy.createList=function(e){return Hb(e.getSource(),e)},hy.dataStack=ew,hy.createScale=function(e,t){var n=t;jb.isInstance(t)||(n=new jb(t),Fb.mixin(n,Ub));var i=Wb.createScaleByModel(n);return i.setExtent(e[0],e[1]),Wb.niceScaleExtent(i,n),i},hy.mixinAxisModelCommonMethods=function(e){Fb.mixin(e,Ub)};var tw={},nw=Ls;function iw(e,t){return Math.abs(e-t)<1e-8}tw.contain=function(e,t,n){var i=0,r=e[0];if(!r)return!1;for(var o=1;o<e.length;o++){var a=e[o];i+=nw(r[0],r[1],a[0],a[1],t,n),r=a}var s=e[0];return iw(r[0],s[0])&&iw(r[1],s[1])||(i+=nw(r[0],r[1],s[0],s[1],t,n)),0!==i};var rw=Pn,ow=Ha,aw=V,sw=tw;function lw(e,t,n){if(this.name=e,this.geometries=t,n)n=[n[0],n[1]];else{var i=this.getBoundingRect();n=[i.x+i.width/2,i.y+i.height/2]}this.center=n}lw.prototype={constructor:lw,properties:null,getBoundingRect:function(){var e=this._rect;if(e)return e;for(var t=Number.MAX_VALUE,n=[t,t],i=[-t,-t],r=[],o=[],a=this.geometries,s=0;s<a.length;s++)if("polygon"===a[s].type){var l=a[s].exterior;ow.fromPoints(l,r,o),aw.min(n,n,r),aw.max(i,i,o)}return 0===s&&(n[0]=n[1]=i[0]=i[1]=0),this._rect=new rw(n[0],n[1],i[0]-n[0],i[1]-n[1])},contain:function(e){var t=this.getBoundingRect(),n=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var i=0,r=n.length;i<r;i++)if("polygon"===n[i].type){var o=n[i].exterior,a=n[i].interiors;if(sw.contain(o,e[0],e[1])){for(var s=0;s<(a?a.length:0);s++)if(sw.contain(a[s]))continue e;return!0}}return!1},transformTo:function(e,t,n,i){var r=this.getBoundingRect(),o=r.width/r.height;n?i||(i=n/o):n=o*i;for(var a=new rw(e,t,n,i),s=r.calculateTransform(a),l=this.geometries,u=0;u<l.length;u++)if("polygon"===l[u].type){for(var c=l[u].exterior,h=l[u].interiors,d=0;d<c.length;d++)aw.applyTransform(c[d],c[d],s);for(var f=0;f<(h?h.length:0);f++)for(d=0;d<h[f].length;d++)aw.applyTransform(h[f][d],h[f][d],s)}(r=this._rect).copy(a),this.center=[r.x+r.width/2,r.y+r.height/2]},cloneShallow:function(e){null==e&&(e=this.name);var t=new lw(e,this.geometries,this.center);return t._rect=this._rect,t.transformTo=null,t}};var uw=lw,cw=g,hw=uw;function dw(e,t,n){for(var i=[],r=t[0],o=t[1],a=0;a<e.length;a+=2){var s=e.charCodeAt(a)-64,l=e.charCodeAt(a+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),r=s+=r,o=l+=o,i.push([s/n,l/n])}return i}var fw=function(e,t){return function(e){if(!e.UTF8Encoding)return e;var t=e.UTF8Scale;null==t&&(t=1024);for(var n=e.features,i=0;i<n.length;i++)for(var r=n[i].geometry,o=r.coordinates,a=r.encodeOffsets,s=0;s<o.length;s++){var l=o[s];if("Polygon"===r.type)o[s]=dw(l,a[s],t);else if("MultiPolygon"===r.type)for(var u=0;u<l.length;u++){var c=l[u];l[u]=dw(c,a[s][u],t)}}e.UTF8Encoding=!1}(e),cw.map(cw.filter(e.features,(function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0})),(function(e){var n=e.properties,i=e.geometry,r=i.coordinates,o=[];"Polygon"===i.type&&o.push({type:"polygon",exterior:r[0],interiors:r.slice(1)}),"MultiPolygon"===i.type&&cw.each(r,(function(e){e[0]&&o.push({type:"polygon",exterior:e[0],interiors:e.slice(1)})}));var a=new hw(n[t||"name"],o,n.cp);return a.properties=n,a}))},pw={},gw=g,mw=xi,vw=na.makeInner,yw=j_,_w=yw.makeLabelFormatter,xw=yw.getOptionCategoryInterval,bw=yw.shouldShowAllLabels,ww=vw();function Sw(e,t){var n,i,r=Mw(e,"labels"),o=xw(t),a=Iw(r,o);return a||(gw.isFunction(o)?n=Cw(e,o):(i="auto"===o?function(e){var t=ww(e).autoInterval;return null!=t?t:ww(e).autoInterval=e.calculateCategoryInterval()}(e):o,n=Tw(e,i)),Aw(r,o,{labels:n,labelCategoryInterval:i}))}function Mw(e,t){return ww(e)[t]||(ww(e)[t]=[])}function Iw(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return e[n].value}function Aw(e,t,n){return e.push({key:t,value:n}),n}function Tw(e,t,n){var i=_w(e),r=e.scale,o=r.getExtent(),a=e.getLabelModel(),s=[],l=Math.max((t||0)+1,1),u=o[0],c=r.count();0!==u&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var h=bw(e),d=a.get("showMinLabel")||h,f=a.get("showMaxLabel")||h;d&&u!==o[0]&&g(o[0]);for(var p=u;p<=o[1];p+=l)g(p);function g(e){s.push(n?e:{formattedLabel:i(e),rawLabel:r.getLabel(e),tickValue:e})}return f&&p-l!==o[1]&&g(o[1]),s}function Cw(e,t,n){var i=e.scale,r=_w(e),o=[];return gw.each(i.getTicks(),(function(e){var a=i.getLabel(e);t(e,a)&&o.push(n?e:{formattedLabel:r(e),rawLabel:a,tickValue:e})})),o}pw.createAxisLabels=function(e){return"category"===e.type?function(e){var t=e.getLabelModel(),n=Sw(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}(e):function(e){var t=e.scale.getTicks(),n=_w(e);return{labels:gw.map(t,(function(t,i){return{formattedLabel:n(t,i),rawLabel:e.scale.getLabel(t),tickValue:t}}))}}(e)},pw.createAxisTicks=function(e,t){return"category"===e.type?function(e,t){var n,i,r=Mw(e,"ticks"),o=xw(t),a=Iw(r,o);if(a)return a;t.get("show")&&!e.scale.isBlank()||(n=[]);if(gw.isFunction(o))n=Cw(e,o,!0);else if("auto"===o){var s=Sw(e,e.getLabelModel());i=s.labelCategoryInterval,n=gw.map(s.labels,(function(e){return e.tickValue}))}else n=Tw(e,i=o,!0);return Aw(r,o,{ticks:n,tickCategoryInterval:i})}(e,t):{ticks:e.scale.getTicks()}},pw.calculateCategoryInterval=function(e){var t=function(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}(e),n=_w(e),i=(t.axisRotate-t.labelRotate)/180*Math.PI,r=e.scale,o=r.getExtent(),a=r.count();if(o[1]-o[0]<1)return 0;var s=1;a>40&&(s=Math.max(1,Math.floor(a/40)));for(var l=o[0],u=e.dataToCoord(l+1)-e.dataToCoord(l),c=Math.abs(u*Math.cos(i)),h=Math.abs(u*Math.sin(i)),d=0,f=0;l<=o[1];l+=s){var p,g,m=mw.getBoundingRect(n(l),t.font,"center","top");p=1.3*m.width,g=1.3*m.height,d=Math.max(d,p,7),f=Math.max(f,g,7)}var v=d/c,y=f/h;isNaN(v)&&(v=1/0),isNaN(y)&&(y=1/0);var _=Math.max(0,Math.floor(Math.min(v,y))),x=ww(e.model),b=e.getExtent(),w=x.lastAutoInterval,S=x.lastTickCount;return null!=w&&null!=S&&Math.abs(w-_)<=1&&Math.abs(S-a)<=1&&w>_&&x.axisExtend0===b[0]&&x.axisExtend1===b[1]?_=w:(x.lastTickCount=a,x.lastAutoInterval=_,x.axisExtend0=b[0],x.axisExtend1=b[1]),_};var Dw=g,Pw=Dw.each,Lw=Dw.map,kw=Ah,Ow=kw.linearMap,Nw=kw.getPixelPrecision,Rw=kw.round,Ew=pw,zw=Ew.createAxisTicks,Bw=Ew.createAxisLabels,Vw=Ew.calculateCategoryInterval,Gw=[0,1],Fw=function(e,t,n){this.dim=e,this.scale=t,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1};function Hw(e,t){var n=(e[1]-e[0])/t/2;e[0]+=n,e[1]-=n}Fw.prototype={constructor:Fw,contain:function(e){var t=this._extent,n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=n&&e<=i},containData:function(e){return this.scale.contain(e)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(e){return Nw(e||this.scale.getExtent(),this._extent)},setExtent:function(e,t){var n=this._extent;n[0]=e,n[1]=t},dataToCoord:function(e,t){var n=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&"ordinal"===i.type&&Hw(n=n.slice(),i.count()),Ow(e,Gw,n,t)},coordToData:function(e,t){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&Hw(n=n.slice(),i.count());var r=Ow(e,n,Gw,t);return this.scale.scale(r)},pointToData:function(e,t){},getTicksCoords:function(e){var t=(e=e||{}).tickModel||this.getTickModel(),n=zw(this,t).ticks,i=Lw(n,(function(e){return{coord:this.dataToCoord(e),tickValue:e}}),this);return function(e,t,n,i){var r=t.length;if(!e.onBand||n||!r)return;var o,a,s=e.getExtent();if(1===r)t[0].coord=s[0],o=t[1]={coord:s[0]};else{var l=t[r-1].tickValue-t[0].tickValue,u=(t[r-1].coord-t[0].coord)/l;Pw(t,(function(e){e.coord-=u/2})),a=1+e.scale.getExtent()[1]-t[r-1].tickValue,o={coord:t[r-1].coord+u*a},t.push(o)}var c=s[0]>s[1];h(t[0].coord,s[0])&&(i?t[0].coord=s[0]:t.shift());i&&h(s[0],t[0].coord)&&t.unshift({coord:s[0]});h(s[1],o.coord)&&(i?o.coord=s[1]:t.pop());i&&h(o.coord,s[1])&&t.push({coord:s[1]});function h(e,t){return e=Rw(e),t=Rw(t),c?e>t:e<t}}(this,i,t.get("alignWithLabel"),e.clamp),i},getMinorTicksCoords:function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick").get("splitNumber");e>0&&e<100||(e=5);var t=this.scale.getMinorTicks(e);return Lw(t,(function(e){return Lw(e,(function(e){return{coord:this.dataToCoord(e),tickValue:e}}),this)}),this)},getViewLabels:function(){return Bw(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/n},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return Vw(this)}};var Ww=Fw,Uw=h;cy.zrender=Uw;var jw=Fe;cy.matrix=jw;var Zw=V;cy.vector=Zw;var Yw=g,Xw=at;cy.color=Xw;var qw=Ia,Kw=Ah;cy.number=Kw;var Jw=Ph;cy.format=Jw;var Qw=gm;Qw.throttle,cy.throttle=Qw.throttle;var $w=hy;cy.helper=$w;var eS=fw;cy.parseGeoJSON=eS;var tS=t_;cy.List=tS;var nS=xh;cy.Model=nS;var iS=Ww;cy.Axis=iS;var rS=p;cy.env=rS;var oS=eS,aS={};Yw.each(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],(function(e){aS[e]=Yw[e]}));var sS={};Yw.each(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],(function(e){sS[e]=qw[e]})),cy.parseGeoJson=oS,cy.util=aS,cy.graphic=sS,function(e){var t=h,n=g,i=at,r=p,o=Fn,a=te,s=Nf,l=zf,u=Ff,c=$f,d=wp,f=Tp,m=fd,v=Hg,y=Xg,_=pm,x=Ia,b=na,w=gm.throttle,S=bm,M=Am,I=Lm,A=lv,T=cv,C=fv,D=uy,P=n.assert,L=n.each,k=n.isFunction,O=n.isObject,N=m.parseClassType,R={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:3500,COMPONENT:4e3,BRUSH:5e3}},E="__flagInMainProcess",z=/^[a-zA-Z0-9_]+$/;function B(e,t){return function(n,i,r){t||!this._disposed?(n=n&&n.toLowerCase(),a.prototype[e].call(this,n,i,r)):this.id}}function V(){a.call(this)}function G(e,i,r){r=r||{},"string"==typeof i&&(i=he[i]),this.id,this.group,this._dom=e;var s=this._zr=t.init(e,{renderer:r.renderer||"canvas",devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height});this._throttledZrFlush=w(n.bind(s.flush,s),17),(i=n.clone(i))&&d(i,!0),this._theme=i,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new u;var c,h,f=this._api=(h=(c=this)._coordSysMgr,n.extend(new l(c),{getCoordinateSystems:n.bind(h.getCoordinateSystems,h),getComponentByElement:function(e){for(;e;){var t=e.__ecComponentInfo;if(null!=t)return c._model.getComponent(t.mainType,t.index);e=e.parent}}}));function p(e,t){return e.__prio-t.__prio}o(ce,p),o(se,p),this._scheduler=new A(this,f,se,ce),a.call(this,this._ecEventProcessor=new re),this._messageCenter=new V,this._initEvents(),this.resize=n.bind(this.resize,this),this._pendingActions=[],s.animation.on("frame",this._onframe,this),function(e,t){e.on("rendered",(function(){t.trigger("rendered"),!e.animation.isFinished()||t.__optionUpdated||t._scheduler.unfinished||t._pendingActions.length||t.trigger("finished")}))}(s,this),n.setAsPrimitive(this)}V.prototype.on=B("on",!0),V.prototype.off=B("off",!0),V.prototype.one=B("one",!0),n.mixin(V,a);var F=G.prototype;function H(e,t,n){if(this._disposed)this.id;else{var i,r=this._model,o=this._coordSysMgr.getCoordinateSystems();t=b.parseFinder(r,t);for(var a=0;a<o.length;a++){var s=o[a];if(s[e]&&null!=(i=s[e](r,t,n)))return i}}}F._onframe=function(){if(!this._disposed){var e=this._scheduler;if(this.__optionUpdated){var t=this.__optionUpdated.silent;this[E]=!0,U(this),W.update.call(this),this[E]=!1,this.__optionUpdated=!1,X.call(this,t),q.call(this,t)}else if(e.unfinished){var n=1,i=this._model,r=this._api;e.unfinished=!1;do{var o=+new Date;e.performSeriesTasks(i),e.performDataProcessorTasks(i),Z(this,i),e.performVisualTasks(i),$(this,this._model,r,"remain"),n-=+new Date-o}while(n>0&&e.unfinished);e.unfinished||this._zr.flush()}}},F.getDom=function(){return this._dom},F.getZr=function(){return this._zr},F.setOption=function(e,t,n){if(this._disposed)this.id;else{var i;if(O(t)&&(n=t.lazyUpdate,i=t.silent,t=t.notMerge),this[E]=!0,!this._model||t){var r=new c(this._api),o=this._theme,a=this._model=new s;a.scheduler=this._scheduler,a.init(null,null,o,r)}this._model.setOption(e,le),n?(this.__optionUpdated={silent:i},this[E]=!1):(U(this),W.update.call(this),this._zr.flush(),this.__optionUpdated=!1,this[E]=!1,X.call(this,i),q.call(this,i))}},F.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},F.getModel=function(){return this._model},F.getOption=function(){return this._model&&this._model.getOption()},F.getWidth=function(){return this._zr.getWidth()},F.getHeight=function(){return this._zr.getHeight()},F.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},F.getRenderedCanvas=function(e){if(r.canvasSupported)return(e=e||{}).pixelRatio=e.pixelRatio||1,e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(e)},F.getSvgDataURL=function(){if(r.svgSupported){var e=this._zr,t=e.storage.getDisplayList();return n.each(t,(function(e){e.stopAnimation(!0)})),e.painter.toDataURL()}},F.getDataURL=function(e){if(!this._disposed){var t=(e=e||{}).excludeComponents,n=this._model,i=[],r=this;L(t,(function(e){n.eachComponent({mainType:e},(function(e){var t=r._componentsMap[e.__viewId];t.group.ignore||(i.push(t),t.group.ignore=!0)}))}));var o="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return L(i,(function(e){e.group.ignore=!1})),o}this.id},F.getConnectedDataURL=function(e){if(this._disposed)this.id;else if(r.canvasSupported){var i="svg"===e.type,o=this.group,a=Math.min,s=Math.max,l=1/0;if(pe[o]){var u=l,c=l,h=-1/0,d=-1/0,f=[],p=e&&e.pixelRatio||1;n.each(fe,(function(t,r){if(t.group===o){var l=i?t.getZr().painter.getSvgDom().innerHTML:t.getRenderedCanvas(n.clone(e)),p=t.getDom().getBoundingClientRect();u=a(p.left,u),c=a(p.top,c),h=s(p.right,h),d=s(p.bottom,d),f.push({dom:l,left:p.left,top:p.top})}}));var g=(h*=p)-(u*=p),m=(d*=p)-(c*=p),v=n.createCanvas(),y=t.init(v,{renderer:i?"svg":"canvas"});if(y.resize({width:g,height:m}),i){var _="";return L(f,(function(e){var t=e.left-u,n=e.top-c;_+='<g transform="translate('+t+","+n+')">'+e.dom+"</g>"})),y.painter.getSvgRoot().innerHTML=_,e.connectedBackgroundColor&&y.painter.setBackgroundColor(e.connectedBackgroundColor),y.refreshImmediately(),y.painter.toDataURL()}return e.connectedBackgroundColor&&y.add(new x.Rect({shape:{x:0,y:0,width:g,height:m},style:{fill:e.connectedBackgroundColor}})),L(f,(function(e){var t=new x.Image({style:{x:e.left*p-u,y:e.top*p-c,image:e.dom}});y.add(t)})),y.refreshImmediately(),v.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},F.convertToPixel=n.curry(H,"convertToPixel"),F.convertFromPixel=n.curry(H,"convertFromPixel"),F.containPixel=function(e,t){if(!this._disposed){var i,r=this._model;return e=b.parseFinder(r,e),n.each(e,(function(e,r){r.indexOf("Models")>=0&&n.each(e,(function(e){var n=e.coordinateSystem;if(n&&n.containPoint)i|=!!n.containPoint(t);else if("seriesModels"===r){var o=this._chartsMap[e.__viewId];o&&o.containPoint&&(i|=o.containPoint(t,e))}}),this)}),this),!!i}this.id},F.getVisual=function(e,t){var n=this._model,i=(e=b.parseFinder(n,e,{defaultMainType:"series"})).seriesModel.getData(),r=e.hasOwnProperty("dataIndexInside")?e.dataIndexInside:e.hasOwnProperty("dataIndex")?i.indexOfRawIndex(e.dataIndex):null;return null!=r?i.getItemVisual(r,t):i.getVisual(t)},F.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},F.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]};var W={prepareAndUpdate:function(e){U(this),W.update.call(this,e)},update:function(e){var t=this._model,n=this._api,o=this._zr,a=this._coordSysMgr,s=this._scheduler;if(t){s.restoreData(t,e),s.performSeriesTasks(t),a.create(t,n),s.performDataProcessorTasks(t,e),Z(this,t),a.update(t,n),J(t),s.performVisualTasks(t,e),Q(this,t,n,e);var l=t.get("backgroundColor")||"transparent";if(r.canvasSupported)o.setBackgroundColor(l);else{var u=i.parse(l);l=i.stringify(u,"rgb"),0===u[3]&&(l="transparent")}ee(t,n)}},updateTransform:function(e){var t=this._model,i=this,r=this._api;if(t){var o=[];t.eachComponent((function(n,a){var s=i.getViewOfComponentModel(a);if(s&&s.__alive)if(s.updateTransform){var l=s.updateTransform(a,t,r,e);l&&l.update&&o.push(s)}else o.push(s)}));var a=n.createHashMap();t.eachSeries((function(n){var o=i._chartsMap[n.__viewId];if(o.updateTransform){var s=o.updateTransform(n,t,r,e);s&&s.update&&a.set(n.uid,1)}else a.set(n.uid,1)})),J(t),this._scheduler.performVisualTasks(t,e,{setDirty:!0,dirtyMap:a}),$(i,t,r,e,a),ee(t,this._api)}},updateView:function(e){var t=this._model;t&&(_.markUpdateMethod(e,"updateView"),J(t),this._scheduler.performVisualTasks(t,e,{setDirty:!0}),Q(this,this._model,this._api,e),ee(t,this._api))},updateVisual:function(e){W.update.call(this,e)},updateLayout:function(e){W.update.call(this,e)}};function U(e){var t=e._model,n=e._scheduler;n.restorePipelines(t),n.prepareStageTasks(),K(e,"component",t,n),K(e,"chart",t,n),n.plan()}function j(e,t,i,r,o){var a=e._model;if(r){var s={};s[r+"Id"]=i[r+"Id"],s[r+"Index"]=i[r+"Index"],s[r+"Name"]=i[r+"Name"];var l={mainType:r,query:s};o&&(l.subType=o);var u=i.excludeSeriesId;null!=u&&(u=n.createHashMap(b.normalizeToArray(u))),a&&a.eachComponent(l,(function(t){u&&null!=u.get(t.id)||c(e["series"===r?"_chartsMap":"_componentsMap"][t.__viewId])}),e)}else L(e._componentsViews.concat(e._chartsViews),c);function c(n){n&&n.__alive&&n[t]&&n[t](n.__model,a,e._api,i)}}function Z(e,t){var n=e._chartsMap,i=e._scheduler;t.eachSeries((function(e){i.updateStreamModes(e,n[e.__viewId])}))}function Y(e,t){var i=e.type,r=e.escapeConnect,o=oe[i],a=o.actionInfo,s=(a.update||"update").split(":"),l=s.pop();s=null!=s[0]&&N(s[0]),this[E]=!0;var u=[e],c=!1;e.batch&&(c=!0,u=n.map(e.batch,(function(t){return(t=n.defaults(n.extend({},t),e)).batch=null,t})));var h,d=[],f="highlight"===i||"downplay"===i;L(u,(function(e){(h=(h=o.action(e,this._model,this._api))||n.extend({},e)).type=a.event||h.type,d.push(h),f?j(this,l,e,"series"):s&&j(this,l,e,s.main,s.sub)}),this),"none"===l||f||s||(this.__optionUpdated?(U(this),W.update.call(this,e),this.__optionUpdated=!1):W[l].call(this,e)),h=c?{type:a.event||i,escapeConnect:r,batch:d}:d[0],this[E]=!1,!t&&this._messageCenter.trigger(h.type,h)}function X(e){for(var t=this._pendingActions;t.length;){var n=t.shift();Y.call(this,n,e)}}function q(e){!e&&this.trigger("updated")}function K(e,t,n,i){for(var r="component"===t,o=r?e._componentsViews:e._chartsViews,a=r?e._componentsMap:e._chartsMap,s=e._zr,l=e._api,u=0;u<o.length;u++)o[u].__alive=!1;function c(e){var t="_ec_"+e.id+"_"+e.type,u=a[t];if(!u){var c=N(e.type);(u=new(r?y.getClass(c.main,c.sub):_.getClass(c.sub))).init(n,l),a[t]=u,o.push(u),s.add(u.group)}e.__viewId=u.__id=t,u.__alive=!0,u.__model=e,u.group.__ecComponentInfo={mainType:e.mainType,index:e.componentIndex},!r&&i.prepareView(u,e,n,l)}r?n.eachComponent((function(e,t){"series"!==e&&c(t)})):n.eachSeries(c);for(u=0;u<o.length;){var h=o[u];h.__alive?u++:(!r&&h.renderTask.dispose(),s.remove(h.group),h.dispose(n,l),o.splice(u,1),delete a[h.__id],h.__id=h.group.__ecComponentInfo=null)}}function J(e){e.clearColorPalette(),e.eachSeries((function(e){e.clearColorPalette()}))}function Q(e,t,n,i){!function(e,t,n,i,r){L(r||e._componentsViews,(function(e){var r=e.__model;e.render(r,t,n,i),ie(r,e)}))}(e,t,n,i),L(e._chartsViews,(function(e){e.__alive=!1})),$(e,t,n,i),L(e._chartsViews,(function(e){e.__alive||e.remove(t,n)}))}function $(e,t,n,i,o){var a,s=e._scheduler;t.eachSeries((function(t){var n=e._chartsMap[t.__viewId];n.__alive=!0;var r=n.renderTask;s.updatePayload(r,i),o&&o.get(t.uid)&&r.dirty(),a|=r.perform(s.getPerformArgs(r)),n.group.silent=!!t.get("silent"),ie(t,n),function(e,t){var n=e.get("blendMode")||null;t.group.traverse((function(e){e.isGroup||e.style.blend!==n&&e.setStyle("blend",n),e.eachPendingDisplayable&&e.eachPendingDisplayable((function(e){e.setStyle("blend",n)}))}))}(t,n)})),s.unfinished|=a,function(e,t){var n=e._zr.storage,i=0;n.traverse((function(e){i++})),i>t.get("hoverLayerThreshold")&&!r.node&&t.eachSeries((function(t){if(!t.preventUsingHoverLayer){var n=e._chartsMap[t.__viewId];n.__alive&&n.group.traverse((function(e){e.useHoverLayer=!0}))}}))}(e,t),M(e._zr.dom,t)}function ee(e,t){L(ue,(function(n){n(e,t)}))}F.resize=function(e){if(this._disposed)this.id;else{this._zr.resize(e);var t=this._model;if(this._loadingFX&&this._loadingFX.resize(),t){var n=t.resetOption("media"),i=e&&e.silent;this[E]=!0,n&&U(this),W.update.call(this),this[E]=!1,X.call(this,i),q.call(this,i)}}},F.showLoading=function(e,t){if(this._disposed)this.id;else if(O(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),de[e]){var n=de[e](this._api,t),i=this._zr;this._loadingFX=n,i.add(n)}},F.hideLoading=function(){this._disposed?this.id:(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},F.makeActionFromEvent=function(e){var t=n.extend({},e);return t.type=ae[e.type],t},F.dispatchAction=function(e,t){this._disposed?this.id:(O(t)||(t={silent:!!t}),oe[e.type]&&this._model&&(this[E]?this._pendingActions.push(e):(Y.call(this,e,t.silent),t.flush?this._zr.flush(!0):!1!==t.flush&&r.browser.weChat&&this._throttledZrFlush(),X.call(this,t.silent),q.call(this,t.silent))))},F.appendData=function(e){if(this._disposed)this.id;else{var t=e.seriesIndex;this.getModel().getSeriesByIndex(t).appendData(e),this._scheduler.unfinished=!0}},F.on=B("on",!1),F.off=B("off",!1),F.one=B("one",!1);var ne=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function ie(e,t){var n=e.get("z"),i=e.get("zlevel");t.group.traverse((function(e){"group"!==e.type&&(null!=n&&(e.z=n),null!=i&&(e.zlevel=i))}))}function re(){this.eventInfo}F._initEvents=function(){L(ne,(function(e){var t=function(t){var i,r=this.getModel(),o=t.target;if("globalout"===e)i={};else if(o&&null!=o.dataIndex){var a=o.dataModel||r.getSeriesByIndex(o.seriesIndex);i=a&&a.getDataParams(o.dataIndex,o.dataType,o)||{}}else o&&o.eventData&&(i=n.extend({},o.eventData));if(i){var s=i.componentType,l=i.componentIndex;"markLine"!==s&&"markPoint"!==s&&"markArea"!==s||(s="series",l=i.seriesIndex);var u=s&&null!=l&&r.getComponent(s,l),c=u&&this["series"===u.mainType?"_chartsMap":"_componentsMap"][u.__viewId];i.event=t,i.type=e,this._ecEventProcessor.eventInfo={targetEl:o,packedEvent:i,model:u,view:c},this.trigger(e,i)}};t.zrEventfulCallAtLast=!0,this._zr.on(e,t,this)}),this),L(ae,(function(e,t){this._messageCenter.on(t,(function(e){this.trigger(t,e)}),this)}),this)},F.isDisposed=function(){return this._disposed},F.clear=function(){this._disposed?this.id:this.setOption({series:[]},!0)},F.dispose=function(){if(this._disposed)this.id;else{this._disposed=!0,b.setAttribute(this.getDom(),ve,"");var e=this._api,t=this._model;L(this._componentsViews,(function(n){n.dispose(t,e)})),L(this._chartsViews,(function(n){n.dispose(t,e)})),this._zr.dispose(),delete fe[this.id]}},n.mixin(G,a),re.prototype={constructor:re,normalizeQuery:function(e){var t={},i={},r={};if(n.isString(e)){var o=N(e);t.mainType=o.main||null,t.subType=o.sub||null}else{var a=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};n.each(e,(function(e,n){for(var o=!1,l=0;l<a.length;l++){var u=a[l],c=n.lastIndexOf(u);if(c>0&&c===n.length-u.length){var h=n.slice(0,c);"data"!==h&&(t.mainType=h,t[u.toLowerCase()]=e,o=!0)}}s.hasOwnProperty(n)&&(i[n]=e,o=!0),o||(r[n]=e)}))}return{cptQuery:t,dataQuery:i,otherQuery:r}},filter:function(e,t,n){var i=this.eventInfo;if(!i)return!0;var r=i.targetEl,o=i.packedEvent,a=i.model,s=i.view;if(!a||!s)return!0;var l=t.cptQuery,u=t.dataQuery;return c(l,a,"mainType")&&c(l,a,"subType")&&c(l,a,"index","componentIndex")&&c(l,a,"name")&&c(l,a,"id")&&c(u,o,"name")&&c(u,o,"dataIndex")&&c(u,o,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,t.otherQuery,r,o));function c(e,t,n,i){return null==e[n]||t[i||n]===e[n]}},afterTrigger:function(){this.eventInfo=null}};var oe={},ae={},se=[],le=[],ue=[],ce=[],he={},de={},fe={},pe={},ge=new Date-0,me=new Date-0,ve="_echarts_instance_";function ye(e){pe[e]=!1}var _e=ye;function xe(e){return fe[b.getAttribute(e,ve)]}function be(e,t){he[e]=t}function we(e){le.push(e)}function Se(e,t){Ae(se,e,t,1e3)}function Me(e,t,n){"function"==typeof t&&(n=t,t="");var i=O(e)?e.type:[e,e={event:t}][0];e.event=(e.event||i).toLowerCase(),t=e.event,P(z.test(i)&&z.test(t)),oe[i]||(oe[i]={action:n,actionInfo:e}),ae[t]=i}function Ie(e,t){Ae(ce,e,t,3e3,"visual")}function Ae(e,t,n,i,r){(k(t)||O(t))&&(n=t,t=i);var o=A.wrapStageHandler(n,r);return o.__prio=t,o.__raw=n,e.push(o),o}function Te(e,t){de[e]=t}Ie(2e3,S),we(d),Se(900,f),Te("default",I),Me({type:"highlight",event:"highlight",update:"highlight"},n.noop),Me({type:"downplay",event:"downplay",update:"downplay"},n.noop),be("light",T),be("dark",C);e.version="4.9.0",e.dependencies={zrender:"4.3.2"},e.PRIORITY=R,e.init=function(e,t,n){var i=xe(e);if(i)return i;var r=new G(e,t,n);return r.id="ec_"+ge++,fe[r.id]=r,b.setAttribute(e,ve,r.id),function(e){var t="__connectUpdateStatus";function n(e,n){for(var i=0;i<e.length;i++)e[i][t]=n}L(ae,(function(i,r){e._messageCenter.on(r,(function(i){if(pe[e.group]&&0!==e[t]){if(i&&i.escapeConnect)return;var r=e.makeActionFromEvent(i),o=[];L(fe,(function(t){t!==e&&t.group===e.group&&o.push(t)})),n(o,0),L(o,(function(e){1!==e[t]&&e.dispatchAction(r)})),n(o,2)}}))}))}(r),r},e.connect=function(e){if(n.isArray(e)){var t=e;e=null,L(t,(function(t){null!=t.group&&(e=t.group)})),e=e||"g_"+me++,L(t,(function(t){t.group=e}))}return pe[e]=!0,e},e.disConnect=ye,e.disconnect=_e,e.dispose=function(e){"string"==typeof e?e=fe[e]:e instanceof G||(e=xe(e)),e instanceof G&&!e.isDisposed()&&e.dispose()},e.getInstanceByDom=xe,e.getInstanceById=function(e){return fe[e]},e.registerTheme=be,e.registerPreprocessor=we,e.registerProcessor=Se,e.registerPostUpdate=function(e){ue.push(e)},e.registerAction=Me,e.registerCoordinateSystem=function(e,t){u.register(e,t)},e.getCoordinateSystemDimensions=function(e){var t=u.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()},e.registerLayout=function(e,t){Ae(ce,e,t,1e3,"layout")},e.registerVisual=Ie,e.registerLoading=Te,e.extendComponentModel=function(e){return m.extend(e)},e.extendComponentView=function(e){return y.extend(e)},e.extendSeriesModel=function(e){return v.extend(e)},e.extendChartView=function(e){return _.extend(e)},e.setCanvasCreator=function(e){n.$override("createCanvas",e)},e.registerMap=function(e,t,n){D.registerMap(e,t,n)},e.getMap=function(e){var t=D.retrieveMap(e);return t&&t[0]&&{geoJson:t[0].geoJSON,specialAreas:t[0].specialAreas}},e.dataTool={};var Ce=cy;!function(){for(var t in Ce)Ce.hasOwnProperty(t)&&(e[t]=Ce[t])}()}(c);var lS,uS,cS={exports:{}};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lS=cS,uS=cS.exports,function(){var e,t="Expected a function",n="__lodash_hash_undefined__",i="__lodash_placeholder__",r=16,o=32,a=64,s=128,l=256,c=1/0,h=9007199254740991,d=NaN,f=4294967295,p=[["ary",s],["bind",1],["bindKey",2],["curry",8],["curryRight",r],["flip",512],["partial",o],["partialRight",a],["rearg",l]],g="[object Arguments]",m="[object Array]",v="[object Boolean]",y="[object Date]",_="[object Error]",x="[object Function]",b="[object GeneratorFunction]",w="[object Map]",S="[object Number]",M="[object Object]",I="[object Promise]",A="[object RegExp]",T="[object Set]",C="[object String]",D="[object Symbol]",P="[object WeakMap]",L="[object ArrayBuffer]",k="[object DataView]",O="[object Float32Array]",N="[object Float64Array]",R="[object Int8Array]",E="[object Int16Array]",z="[object Int32Array]",B="[object Uint8Array]",V="[object Uint8ClampedArray]",G="[object Uint16Array]",F="[object Uint32Array]",H=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,U=/(__e\(.*?\)|\b__t\)) \+\n'';/g,j=/&(?:amp|lt|gt|quot|#39);/g,Z=/[&<>"']/g,Y=RegExp(j.source),X=RegExp(Z.source),q=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),ie=/^\s+/,re=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ae=/\{\n\/\* \[wrapped with (.+)\] \*/,se=/,? & /,le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ue=/[()=,{}\[\]\/\s]/,ce=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,fe=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,me=/^0o[0-7]+$/i,ve=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,xe=/['\n\r\u2028\u2029\\]/g,be="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",we="\\u2700-\\u27bf",Se="a-z\\xdf-\\xf6\\xf8-\\xff",Me="A-Z\\xc0-\\xd6\\xd8-\\xde",Ie="\\ufe0e\\ufe0f",Ae="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Te="[']",Ce="[\\ud800-\\udfff]",De="["+Ae+"]",Pe="["+be+"]",Le="\\d+",ke="[\\u2700-\\u27bf]",Oe="["+Se+"]",Ne="[^\\ud800-\\udfff"+Ae+Le+we+Se+Me+"]",Re="\\ud83c[\\udffb-\\udfff]",Ee="[^\\ud800-\\udfff]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",Ve="["+Me+"]",Ge="(?:"+Oe+"|"+Ne+")",Fe="(?:"+Ve+"|"+Ne+")",He="(?:['](?:d|ll|m|re|s|t|ve))?",We="(?:['](?:D|LL|M|RE|S|T|VE))?",Ue="(?:"+Pe+"|"+Re+")?",je="[\\ufe0e\\ufe0f]?",Ze=je+Ue+"(?:\\u200d(?:"+[Ee,ze,Be].join("|")+")"+je+Ue+")*",Ye="(?:"+[ke,ze,Be].join("|")+")"+Ze,Xe="(?:"+[Ee+Pe+"?",Pe,ze,Be,Ce].join("|")+")",qe=RegExp(Te,"g"),Ke=RegExp(Pe,"g"),Je=RegExp(Re+"(?="+Re+")|"+Xe+Ze,"g"),Qe=RegExp([Ve+"?"+Oe+"+"+He+"(?="+[De,Ve,"$"].join("|")+")",Fe+"+"+We+"(?="+[De,Ve+Ge,"$"].join("|")+")",Ve+"?"+Ge+"+"+He,Ve+"+"+We,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Le,Ye].join("|"),"g"),$e=RegExp("[\\u200d\\ud800-\\udfff"+be+Ie+"]"),et=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nt=-1,it={};it[O]=it[N]=it[R]=it[E]=it[z]=it[B]=it[V]=it[G]=it[F]=!0,it[g]=it[m]=it[L]=it[v]=it[k]=it[y]=it[_]=it[x]=it[w]=it[S]=it[M]=it[A]=it[T]=it[C]=it[P]=!1;var rt={};rt[g]=rt[m]=rt[L]=rt[k]=rt[v]=rt[y]=rt[O]=rt[N]=rt[R]=rt[E]=rt[z]=rt[w]=rt[S]=rt[M]=rt[A]=rt[T]=rt[C]=rt[D]=rt[B]=rt[V]=rt[G]=rt[F]=!0,rt[_]=rt[x]=rt[P]=!1;var ot={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},at=parseFloat,st=parseInt,lt="object"==typeof u&&u&&u.Object===Object&&u,ut="object"==typeof self&&self&&self.Object===Object&&self,ct=lt||ut||Function("return this")(),ht=uS&&!uS.nodeType&&uS,dt=ht&&lS&&!lS.nodeType&&lS,ft=dt&&dt.exports===ht,pt=ft&&lt.process,gt=function(){try{var e=dt&&dt.require&&dt.require("util").types;return e||pt&&pt.binding&&pt.binding("util")}catch(t){}}(),mt=gt&&gt.isArrayBuffer,vt=gt&&gt.isDate,yt=gt&&gt.isMap,_t=gt&&gt.isRegExp,xt=gt&&gt.isSet,bt=gt&&gt.isTypedArray;function wt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function St(e,t,n,i){for(var r=-1,o=null==e?0:e.length;++r<o;){var a=e[r];t(i,a,n(a),e)}return i}function Mt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function It(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function Tt(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}function Ct(e,t){return!(null==e||!e.length)&&Bt(e,t,0)>-1}function Dt(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function Pt(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function Lt(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function kt(e,t,n,i){var r=-1,o=null==e?0:e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function Ot(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function Nt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var Rt=Ht("length");function Et(e,t,n){var i;return n(e,(function(e,n,r){if(t(e,n,r))return i=n,!1})),i}function zt(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function Bt(e,t,n){return t==t?function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):zt(e,Gt,n)}function Vt(e,t,n,i){for(var r=n-1,o=e.length;++r<o;)if(i(e[r],t))return r;return-1}function Gt(e){return e!=e}function Ft(e,t){var n=null==e?0:e.length;return n?jt(e,t)/n:d}function Ht(t){return function(n){return null==n?e:n[t]}}function Wt(t){return function(n){return null==t?e:t[n]}}function Ut(e,t,n,i,r){return r(e,(function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)})),n}function jt(t,n){for(var i,r=-1,o=t.length;++r<o;){var a=n(t[r]);a!==e&&(i=i===e?a:i+a)}return i}function Zt(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function Yt(e){return e?e.slice(0,hn(e)+1).replace(ie,""):e}function Xt(e){return function(t){return e(t)}}function qt(e,t){return Pt(t,(function(t){return e[t]}))}function Kt(e,t){return e.has(t)}function Jt(e,t){for(var n=-1,i=e.length;++n<i&&Bt(t,e[n],0)>-1;);return n}function Qt(e,t){for(var n=e.length;n--&&Bt(t,e[n],0)>-1;);return n}function $t(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}var en=Wt({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),tn=Wt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(e){return"\\"+ot[e]}function rn(e){return $e.test(e)}function on(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function an(e,t){return function(n){return e(t(n))}}function sn(e,t){for(var n=-1,r=e.length,o=0,a=[];++n<r;){var s=e[n];s!==t&&s!==i||(e[n]=i,a[o++]=n)}return a}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function un(e){return rn(e)?function(e){for(var t=Je.lastIndex=0;Je.test(e);)++t;return t}(e):Rt(e)}function cn(e){return rn(e)?function(e){return e.match(Je)||[]}(e):function(e){return e.split("")}(e)}function hn(e){for(var t=e.length;t--&&re.test(e.charAt(t)););return t}var dn=Wt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),fn=function u(re){var be,we=(re=null==re?ct:fn.defaults(ct.Object(),re,fn.pick(ct,tt))).Array,Se=re.Date,Me=re.Error,Ie=re.Function,Ae=re.Math,Te=re.Object,Ce=re.RegExp,De=re.String,Pe=re.TypeError,Le=we.prototype,ke=Ie.prototype,Oe=Te.prototype,Ne=re["__core-js_shared__"],Re=ke.toString,Ee=Oe.hasOwnProperty,ze=0,Be=(be=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||""))?"Symbol(src)_1."+be:"",Ve=Oe.toString,Ge=Re.call(Te),Fe=ct._,He=Ce("^"+Re.call(Ee).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),We=ft?re.Buffer:e,Ue=re.Symbol,je=re.Uint8Array,Ze=We?We.allocUnsafe:e,Ye=an(Te.getPrototypeOf,Te),Xe=Te.create,Je=Oe.propertyIsEnumerable,$e=Le.splice,ot=Ue?Ue.isConcatSpreadable:e,lt=Ue?Ue.iterator:e,ut=Ue?Ue.toStringTag:e,ht=function(){try{var e=fo(Te,"defineProperty");return e({},"",{}),e}catch(t){}}(),dt=re.clearTimeout!==ct.clearTimeout&&re.clearTimeout,pt=Se&&Se.now!==ct.Date.now&&Se.now,gt=re.setTimeout!==ct.setTimeout&&re.setTimeout,Rt=Ae.ceil,Wt=Ae.floor,pn=Te.getOwnPropertySymbols,gn=We?We.isBuffer:e,mn=re.isFinite,vn=Le.join,yn=an(Te.keys,Te),_n=Ae.max,xn=Ae.min,bn=Se.now,wn=re.parseInt,Sn=Ae.random,Mn=Le.reverse,In=fo(re,"DataView"),An=fo(re,"Map"),Tn=fo(re,"Promise"),Cn=fo(re,"Set"),Dn=fo(re,"WeakMap"),Pn=fo(Te,"create"),Ln=Dn&&new Dn,kn={},On=Wo(In),Nn=Wo(An),Rn=Wo(Tn),En=Wo(Cn),zn=Wo(Dn),Bn=Ue?Ue.prototype:e,Vn=Bn?Bn.valueOf:e,Gn=Bn?Bn.toString:e;function Fn(e){if(as(e)&&!qa(e)&&!(e instanceof jn)){if(e instanceof Un)return e;if(Ee.call(e,"__wrapped__"))return Uo(e)}return new Un(e)}var Hn=function(){function t(){}return function(n){if(!os(n))return{};if(Xe)return Xe(n);t.prototype=n;var i=new t;return t.prototype=e,i}}();function Wn(){}function Un(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=e}function jn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Xn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new Yn(e);this.size=t.size}function Jn(e,t){var n=qa(e),i=!n&&Xa(e),r=!n&&!i&&$a(e),o=!n&&!i&&!r&&ps(e),a=n||i||r||o,s=a?Zt(e.length,De):[],l=s.length;for(var u in e)!t&&!Ee.call(e,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||xo(u,l))||s.push(u);return s}function Qn(t){var n=t.length;return n?t[qi(0,n-1)]:e}function $n(e,t){return zo(Pr(e),li(t,0,e.length))}function ei(e){return zo(Pr(e))}function ti(t,n,i){(i!==e&&!ja(t[n],i)||i===e&&!(n in t))&&ai(t,n,i)}function ni(t,n,i){var r=t[n];Ee.call(t,n)&&ja(r,i)&&(i!==e||n in t)||ai(t,n,i)}function ii(e,t){for(var n=e.length;n--;)if(ja(e[n][0],t))return n;return-1}function ri(e,t,n,i){return fi(e,(function(e,r,o){t(i,e,n(e),o)})),i}function oi(e,t){return e&&Lr(t,Es(t),e)}function ai(e,t,n){"__proto__"==t&&ht?ht(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function si(t,n){for(var i=-1,r=n.length,o=we(r),a=null==t;++i<r;)o[i]=a?e:Ls(t,n[i]);return o}function li(t,n,i){return t==t&&(i!==e&&(t=t<=i?t:i),n!==e&&(t=t>=n?t:n)),t}function ui(t,n,i,r,o,a){var s,l=1&n,u=2&n,c=4&n;if(i&&(s=o?i(t,r,o,a):i(t)),s!==e)return s;if(!os(t))return t;var h=qa(t);if(h){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ee.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!l)return Pr(t,s)}else{var d=mo(t),f=d==x||d==b;if($a(t))return Mr(t,l);if(d==M||d==g||f&&!o){if(s=u||f?{}:yo(t),!l)return u?function(e,t){return Lr(e,go(e),t)}(t,function(e,t){return e&&Lr(t,zs(t),e)}(s,t)):function(e,t){return Lr(e,po(e),t)}(t,oi(s,t))}else{if(!rt[d])return o?t:{};s=function(e,t,n){var i,r=e.constructor;switch(t){case L:return Ir(e);case v:case y:return new r(+e);case k:return function(e,t){var n=t?Ir(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case O:case N:case R:case E:case z:case B:case V:case G:case F:return Ar(e,n);case w:return new r;case S:case C:return new r(e);case A:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case T:return new r;case D:return i=e,Vn?Te(Vn.call(i)):{}}}(t,d,l)}}a||(a=new Kn);var p=a.get(t);if(p)return p;a.set(t,s),hs(t)?t.forEach((function(e){s.add(ui(e,n,i,e,t,a))})):ss(t)&&t.forEach((function(e,r){s.set(r,ui(e,n,i,r,t,a))}));var m=h?e:(c?u?oo:ro:u?zs:Es)(t);return Mt(m||t,(function(e,r){m&&(e=t[r=e]),ni(s,r,ui(e,n,i,r,t,a))})),s}function ci(t,n,i){var r=i.length;if(null==t)return!r;for(t=Te(t);r--;){var o=i[r],a=n[o],s=t[o];if(s===e&&!(o in t)||!a(s))return!1}return!0}function hi(n,i,r){if("function"!=typeof n)throw new Pe(t);return Oo((function(){n.apply(e,r)}),i)}function di(e,t,n,i){var r=-1,o=Ct,a=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=Pt(t,Xt(n))),i?(o=Dt,a=!1):t.length>=200&&(o=Kt,a=!1,t=new qn(t));e:for(;++r<s;){var c=e[r],h=null==n?c:n(c);if(c=i||0!==c?c:0,a&&h==h){for(var d=u;d--;)if(t[d]===h)continue e;l.push(c)}else o(t,h,i)||l.push(c)}return l}Fn.templateSettings={escape:q,evaluate:K,interpolate:J,variable:"",imports:{_:Fn}},Fn.prototype=Wn.prototype,Fn.prototype.constructor=Fn,Un.prototype=Hn(Wn.prototype),Un.prototype.constructor=Un,jn.prototype=Hn(Wn.prototype),jn.prototype.constructor=jn,Zn.prototype.clear=function(){this.__data__=Pn?Pn(null):{},this.size=0},Zn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Zn.prototype.get=function(t){var i=this.__data__;if(Pn){var r=i[t];return r===n?e:r}return Ee.call(i,t)?i[t]:e},Zn.prototype.has=function(t){var n=this.__data__;return Pn?n[t]!==e:Ee.call(n,t)},Zn.prototype.set=function(t,i){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Pn&&i===e?n:i,this},Yn.prototype.clear=function(){this.__data__=[],this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=ii(t,e);return!(n<0||(n==t.length-1?t.pop():$e.call(t,n,1),--this.size,0))},Yn.prototype.get=function(t){var n=this.__data__,i=ii(n,t);return i<0?e:n[i][1]},Yn.prototype.has=function(e){return ii(this.__data__,e)>-1},Yn.prototype.set=function(e,t){var n=this.__data__,i=ii(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},Xn.prototype.clear=function(){this.size=0,this.__data__={hash:new Zn,map:new(An||Yn),string:new Zn}},Xn.prototype.delete=function(e){var t=co(this,e).delete(e);return this.size-=t?1:0,t},Xn.prototype.get=function(e){return co(this,e).get(e)},Xn.prototype.has=function(e){return co(this,e).has(e)},Xn.prototype.set=function(e,t){var n=co(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},qn.prototype.add=qn.prototype.push=function(e){return this.__data__.set(e,n),this},qn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new Yn,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Yn){var i=n.__data__;if(!An||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Xn(i)}return n.set(e,t),this.size=n.size,this};var fi=Nr(bi),pi=Nr(wi,!0);function gi(e,t){var n=!0;return fi(e,(function(e,i,r){return n=!!t(e,i,r)})),n}function mi(t,n,i){for(var r=-1,o=t.length;++r<o;){var a=t[r],s=n(a);if(null!=s&&(l===e?s==s&&!fs(s):i(s,l)))var l=s,u=a}return u}function vi(e,t){var n=[];return fi(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}function yi(e,t,n,i,r){var o=-1,a=e.length;for(n||(n=_o),r||(r=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?yi(s,t-1,n,i,r):Lt(r,s):i||(r[r.length]=s)}return r}var _i=Rr(),xi=Rr(!0);function bi(e,t){return e&&_i(e,t,Es)}function wi(e,t){return e&&xi(e,t,Es)}function Si(e,t){return Tt(t,(function(t){return ns(e[t])}))}function Mi(t,n){for(var i=0,r=(n=xr(n,t)).length;null!=t&&i<r;)t=t[Ho(n[i++])];return i&&i==r?t:e}function Ii(e,t,n){var i=t(e);return qa(e)?i:Lt(i,n(e))}function Ai(t){return null==t?t===e?"[object Undefined]":"[object Null]":ut&&ut in Te(t)?function(t){var n=Ee.call(t,ut),i=t[ut];try{t[ut]=e;var r=!0}catch(a){}var o=Ve.call(t);return r&&(n?t[ut]=i:delete t[ut]),o}(t):function(e){return Ve.call(e)}(t)}function Ti(e,t){return e>t}function Ci(e,t){return null!=e&&Ee.call(e,t)}function Di(e,t){return null!=e&&t in Te(e)}function Pi(t,n,i){for(var r=i?Dt:Ct,o=t[0].length,a=t.length,s=a,l=we(a),u=1/0,c=[];s--;){var h=t[s];s&&n&&(h=Pt(h,Xt(n))),u=xn(h.length,u),l[s]=!i&&(n||o>=120&&h.length>=120)?new qn(s&&h):e}h=t[0];var d=-1,f=l[0];e:for(;++d<o&&c.length<u;){var p=h[d],g=n?n(p):p;if(p=i||0!==p?p:0,!(f?Kt(f,g):r(c,g,i))){for(s=a;--s;){var m=l[s];if(!(m?Kt(m,g):r(t[s],g,i)))continue e}f&&f.push(g),c.push(p)}}return c}function Li(t,n,i){var r=null==(t=Do(t,n=xr(n,t)))?t:t[Ho(ta(n))];return null==r?e:wt(r,t,i)}function ki(e){return as(e)&&Ai(e)==g}function Oi(t,n,i,r,o){return t===n||(null==t||null==n||!as(t)&&!as(n)?t!=t&&n!=n:function(t,n,i,r,o,a){var s=qa(t),l=qa(n),u=s?m:mo(t),c=l?m:mo(n),h=(u=u==g?M:u)==M,d=(c=c==g?M:c)==M,f=u==c;if(f&&$a(t)){if(!$a(n))return!1;s=!0,h=!1}if(f&&!h)return a||(a=new Kn),s||ps(t)?no(t,n,i,r,o,a):function(e,t,n,i,r,o,a){switch(n){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case L:return!(e.byteLength!=t.byteLength||!o(new je(e),new je(t)));case v:case y:case S:return ja(+e,+t);case _:return e.name==t.name&&e.message==t.message;case A:case C:return e==t+"";case w:var s=on;case T:var l=1&i;if(s||(s=ln),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;i|=2,a.set(e,t);var c=no(s(e),s(t),i,r,o,a);return a.delete(e),c;case D:if(Vn)return Vn.call(e)==Vn.call(t)}return!1}(t,n,u,i,r,o,a);if(!(1&i)){var p=h&&Ee.call(t,"__wrapped__"),x=d&&Ee.call(n,"__wrapped__");if(p||x){var b=p?t.value():t,I=x?n.value():n;return a||(a=new Kn),o(b,I,i,r,a)}}return!!f&&(a||(a=new Kn),function(t,n,i,r,o,a){var s=1&i,l=ro(t),u=l.length,c=ro(n).length;if(u!=c&&!s)return!1;for(var h=u;h--;){var d=l[h];if(!(s?d in n:Ee.call(n,d)))return!1}var f=a.get(t),p=a.get(n);if(f&&p)return f==n&&p==t;var g=!0;a.set(t,n),a.set(n,t);for(var m=s;++h<u;){var v=t[d=l[h]],y=n[d];if(r)var _=s?r(y,v,d,n,t,a):r(v,y,d,t,n,a);if(!(_===e?v===y||o(v,y,i,r,a):_)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var x=t.constructor,b=n.constructor;x==b||!("constructor"in t)||!("constructor"in n)||"function"==typeof x&&x instanceof x&&"function"==typeof b&&b instanceof b||(g=!1)}return a.delete(t),a.delete(n),g}(t,n,i,r,o,a))}(t,n,i,r,Oi,o))}function Ni(t,n,i,r){var o=i.length,a=o,s=!r;if(null==t)return!a;for(t=Te(t);o--;){var l=i[o];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++o<a;){var u=(l=i[o])[0],c=t[u],h=l[1];if(s&&l[2]){if(c===e&&!(u in t))return!1}else{var d=new Kn;if(r)var f=r(c,h,u,t,n,d);if(!(f===e?Oi(h,c,3,r,d):f))return!1}}return!0}function Ri(e){return!(!os(e)||(t=e,Be&&Be in t))&&(ns(e)?He:ge).test(Wo(e));var t}function Ei(e){return"function"==typeof e?e:null==e?ll:"object"==typeof e?qa(e)?Hi(e[0],e[1]):Fi(e):vl(e)}function zi(e){if(!Io(e))return yn(e);var t=[];for(var n in Te(e))Ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Bi(e){if(!os(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=Io(e),n=[];for(var i in e)("constructor"!=i||!t&&Ee.call(e,i))&&n.push(i);return n}function Vi(e,t){return e<t}function Gi(e,t){var n=-1,i=Ja(e)?we(e.length):[];return fi(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Fi(e){var t=ho(e);return 1==t.length&&t[0][2]?To(t[0][0],t[0][1]):function(n){return n===e||Ni(n,e,t)}}function Hi(t,n){return wo(t)&&Ao(n)?To(Ho(t),n):function(i){var r=Ls(i,t);return r===e&&r===n?ks(i,t):Oi(n,r,3)}}function Wi(t,n,i,r,o){t!==n&&_i(n,(function(a,s){if(o||(o=new Kn),os(a))!function(t,n,i,r,o,a,s){var l=Lo(t,i),u=Lo(n,i),c=s.get(u);if(c)ti(t,i,c);else{var h=a?a(l,u,i+"",t,n,s):e,d=h===e;if(d){var f=qa(u),p=!f&&$a(u),g=!f&&!p&&ps(u);h=u,f||p||g?qa(l)?h=l:Qa(l)?h=Pr(l):p?(d=!1,h=Mr(u,!0)):g?(d=!1,h=Ar(u,!0)):h=[]:us(u)||Xa(u)?(h=l,Xa(l)?h=ws(l):os(l)&&!ns(l)||(h=yo(u))):d=!1}d&&(s.set(u,h),o(h,u,r,a,s),s.delete(u)),ti(t,i,h)}}(t,n,s,i,Wi,r,o);else{var l=r?r(Lo(t,s),a,s+"",t,n,o):e;l===e&&(l=a),ti(t,s,l)}}),zs)}function Ui(t,n){var i=t.length;if(i)return xo(n+=n<0?i:0,i)?t[n]:e}function ji(e,t,n){t=t.length?Pt(t,(function(e){return qa(e)?function(t){return Mi(t,1===e.length?e[0]:e)}:e})):[ll];var i=-1;return t=Pt(t,Xt(uo())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Gi(e,(function(e,n,r){return{criteria:Pt(t,(function(t){return t(e)})),index:++i,value:e}})),(function(e,t){return function(e,t,n){for(var i=-1,r=e.criteria,o=t.criteria,a=r.length,s=n.length;++i<a;){var l=Tr(r[i],o[i]);if(l)return i>=s?l:l*("desc"==n[i]?-1:1)}return e.index-t.index}(e,t,n)}))}function Zi(e,t,n){for(var i=-1,r=t.length,o={};++i<r;){var a=t[i],s=Mi(e,a);n(s,a)&&er(o,xr(a,e),s)}return o}function Yi(e,t,n,i){var r=i?Vt:Bt,o=-1,a=t.length,s=e;for(e===t&&(t=Pr(t)),n&&(s=Pt(e,Xt(n)));++o<a;)for(var l=0,u=t[o],c=n?n(u):u;(l=r(s,c,l,i))>-1;)s!==e&&$e.call(s,l,1),$e.call(e,l,1);return e}function Xi(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==o){var o=r;xo(r)?$e.call(e,r,1):dr(e,r)}}return e}function qi(e,t){return e+Wt(Sn()*(t-e+1))}function Ki(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=Wt(t/2))&&(e+=e)}while(t);return n}function Ji(e,t){return No(Co(e,t,ll),e+"")}function Qi(e){return Qn(js(e))}function $i(e,t){var n=js(e);return zo(n,li(t,0,n.length))}function er(t,n,i,r){if(!os(t))return t;for(var o=-1,a=(n=xr(n,t)).length,s=a-1,l=t;null!=l&&++o<a;){var u=Ho(n[o]),c=i;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(o!=s){var h=l[u];(c=r?r(h,u,l):e)===e&&(c=os(h)?h:xo(n[o+1])?[]:{})}ni(l,u,c),l=l[u]}return t}var tr=Ln?function(e,t){return Ln.set(e,t),e}:ll,nr=ht?function(e,t){return ht(e,"toString",{configurable:!0,enumerable:!1,value:ol(t),writable:!0})}:ll;function ir(e){return zo(js(e))}function rr(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=we(r);++i<r;)o[i]=e[i+t];return o}function or(e,t){var n;return fi(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n}function ar(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;i<r;){var o=i+r>>>1,a=e[o];null!==a&&!fs(a)&&(n?a<=t:a<t)?i=o+1:r=o}return r}return sr(e,t,ll,n)}function sr(t,n,i,r){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(n=i(n))!=n,l=null===n,u=fs(n),c=n===e;o<a;){var h=Wt((o+a)/2),d=i(t[h]),f=d!==e,p=null===d,g=d==d,m=fs(d);if(s)var v=r||g;else v=c?g&&(r||f):l?g&&f&&(r||!p):u?g&&f&&!p&&(r||!m):!p&&!m&&(r?d<=n:d<n);v?o=h+1:a=h}return xn(a,4294967294)}function lr(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n],s=t?t(a):a;if(!n||!ja(s,l)){var l=s;o[r++]=0===a?0:a}}return o}function ur(e){return"number"==typeof e?e:fs(e)?d:+e}function cr(e){if("string"==typeof e)return e;if(qa(e))return Pt(e,cr)+"";if(fs(e))return Gn?Gn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function hr(e,t,n){var i=-1,r=Ct,o=e.length,a=!0,s=[],l=s;if(n)a=!1,r=Dt;else if(o>=200){var u=t?null:Kr(e);if(u)return ln(u);a=!1,r=Kt,l=new qn}else l=t?[]:s;e:for(;++i<o;){var c=e[i],h=t?t(c):c;if(c=n||0!==c?c:0,a&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),s.push(c)}else r(l,h,n)||(l!==s&&l.push(h),s.push(c))}return s}function dr(e,t){return null==(e=Do(e,t=xr(t,e)))||delete e[Ho(ta(t))]}function fr(e,t,n,i){return er(e,t,n(Mi(e,t)),i)}function pr(e,t,n,i){for(var r=e.length,o=i?r:-1;(i?o--:++o<r)&&t(e[o],o,e););return n?rr(e,i?0:o,i?o+1:r):rr(e,i?o+1:0,i?r:o)}function gr(e,t){var n=e;return n instanceof jn&&(n=n.value()),kt(t,(function(e,t){return t.func.apply(t.thisArg,Lt([e],t.args))}),n)}function mr(e,t,n){var i=e.length;if(i<2)return i?hr(e[0]):[];for(var r=-1,o=we(i);++r<i;)for(var a=e[r],s=-1;++s<i;)s!=r&&(o[r]=di(o[r]||a,e[s],t,n));return hr(yi(o,1),t,n)}function vr(t,n,i){for(var r=-1,o=t.length,a=n.length,s={};++r<o;){var l=r<a?n[r]:e;i(s,t[r],l)}return s}function yr(e){return Qa(e)?e:[]}function _r(e){return"function"==typeof e?e:ll}function xr(e,t){return qa(e)?e:wo(e,t)?[e]:Fo(Ss(e))}var br=Ji;function wr(t,n,i){var r=t.length;return i=i===e?r:i,!n&&i>=r?t:rr(t,n,i)}var Sr=dt||function(e){return ct.clearTimeout(e)};function Mr(e,t){if(t)return e.slice();var n=e.length,i=Ze?Ze(n):new e.constructor(n);return e.copy(i),i}function Ir(e){var t=new e.constructor(e.byteLength);return new je(t).set(new je(e)),t}function Ar(e,t){var n=t?Ir(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Tr(t,n){if(t!==n){var i=t!==e,r=null===t,o=t==t,a=fs(t),s=n!==e,l=null===n,u=n==n,c=fs(n);if(!l&&!c&&!a&&t>n||a&&s&&u&&!l&&!c||r&&s&&u||!i&&u||!o)return 1;if(!r&&!a&&!c&&t<n||c&&i&&o&&!r&&!a||l&&i&&o||!s&&o||!u)return-1}return 0}function Cr(e,t,n,i){for(var r=-1,o=e.length,a=n.length,s=-1,l=t.length,u=_n(o-a,0),c=we(l+u),h=!i;++s<l;)c[s]=t[s];for(;++r<a;)(h||r<o)&&(c[n[r]]=e[r]);for(;u--;)c[s++]=e[r++];return c}function Dr(e,t,n,i){for(var r=-1,o=e.length,a=-1,s=n.length,l=-1,u=t.length,c=_n(o-s,0),h=we(c+u),d=!i;++r<c;)h[r]=e[r];for(var f=r;++l<u;)h[f+l]=t[l];for(;++a<s;)(d||r<o)&&(h[f+n[a]]=e[r++]);return h}function Pr(e,t){var n=-1,i=e.length;for(t||(t=we(i));++n<i;)t[n]=e[n];return t}function Lr(t,n,i,r){var o=!i;i||(i={});for(var a=-1,s=n.length;++a<s;){var l=n[a],u=r?r(i[l],t[l],l,i,t):e;u===e&&(u=t[l]),o?ai(i,l,u):ni(i,l,u)}return i}function kr(e,t){return function(n,i){var r=qa(n)?St:ri,o=t?t():{};return r(n,e,uo(i,2),o)}}function Or(t){return Ji((function(n,i){var r=-1,o=i.length,a=o>1?i[o-1]:e,s=o>2?i[2]:e;for(a=t.length>3&&"function"==typeof a?(o--,a):e,s&&bo(i[0],i[1],s)&&(a=o<3?e:a,o=1),n=Te(n);++r<o;){var l=i[r];l&&t(n,l,r,a)}return n}))}function Nr(e,t){return function(n,i){if(null==n)return n;if(!Ja(n))return e(n,i);for(var r=n.length,o=t?r:-1,a=Te(n);(t?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function Rr(e){return function(t,n,i){for(var r=-1,o=Te(t),a=i(t),s=a.length;s--;){var l=a[e?s:++r];if(!1===n(o[l],l,o))break}return t}}function Er(t){return function(n){var i=rn(n=Ss(n))?cn(n):e,r=i?i[0]:n.charAt(0),o=i?wr(i,1).join(""):n.slice(1);return r[t]()+o}}function zr(e){return function(t){return kt(nl(Xs(t).replace(qe,"")),e,"")}}function Br(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Hn(e.prototype),i=e.apply(n,t);return os(i)?i:n}}function Vr(t){return function(n,i,r){var o=Te(n);if(!Ja(n)){var a=uo(i,3);n=Es(n),i=function(e){return a(o[e],e,o)}}var s=t(n,i,r);return s>-1?o[a?n[s]:s]:e}}function Gr(n){return io((function(i){var r=i.length,o=r,a=Un.prototype.thru;for(n&&i.reverse();o--;){var s=i[o];if("function"!=typeof s)throw new Pe(t);if(a&&!l&&"wrapper"==so(s))var l=new Un([],!0)}for(o=l?o:r;++o<r;){var u=so(s=i[o]),c="wrapper"==u?ao(s):e;l=c&&So(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[so(c[0])].apply(l,c[3]):1==s.length&&So(s)?l[u]():l.thru(s)}return function(){var e=arguments,t=e[0];if(l&&1==e.length&&qa(t))return l.plant(t).value();for(var n=0,o=r?i[n].apply(this,e):t;++n<r;)o=i[n].call(this,o);return o}}))}function Fr(t,n,i,r,o,a,l,u,c,h){var d=n&s,f=1&n,p=2&n,g=24&n,m=512&n,v=p?e:Br(t);return function e(){for(var s=arguments.length,y=we(s),_=s;_--;)y[_]=arguments[_];if(g)var x=lo(e),b=$t(y,x);if(r&&(y=Cr(y,r,o,g)),a&&(y=Dr(y,a,l,g)),s-=b,g&&s<h){var w=sn(y,x);return Xr(t,n,Fr,e.placeholder,i,y,w,u,c,h-s)}var S=f?i:this,M=p?S[t]:t;return s=y.length,u?y=Po(y,u):m&&s>1&&y.reverse(),d&&c<s&&(y.length=c),this&&this!==ct&&this instanceof e&&(M=v||Br(M)),M.apply(S,y)}}function Hr(e,t){return function(n,i){return function(e,t,n,i){return bi(e,(function(e,r,o){t(i,n(e),r,o)})),i}(n,e,t(i),{})}}function Wr(t,n){return function(i,r){var o;if(i===e&&r===e)return n;if(i!==e&&(o=i),r!==e){if(o===e)return r;"string"==typeof i||"string"==typeof r?(i=cr(i),r=cr(r)):(i=ur(i),r=ur(r)),o=t(i,r)}return o}}function Ur(e){return io((function(t){return t=Pt(t,Xt(uo())),Ji((function(n){var i=this;return e(t,(function(e){return wt(e,i,n)}))}))}))}function jr(t,n){var i=(n=n===e?" ":cr(n)).length;if(i<2)return i?Ki(n,t):n;var r=Ki(n,Rt(t/un(n)));return rn(n)?wr(cn(r),0,t).join(""):r.slice(0,t)}function Zr(t){return function(n,i,r){return r&&"number"!=typeof r&&bo(n,i,r)&&(i=r=e),n=ys(n),i===e?(i=n,n=0):i=ys(i),function(e,t,n,i){for(var r=-1,o=_n(Rt((t-e)/(n||1)),0),a=we(o);o--;)a[i?o:++r]=e,e+=n;return a}(n,i,r=r===e?n<i?1:-1:ys(r),t)}}function Yr(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=bs(t),n=bs(n)),e(t,n)}}function Xr(t,n,i,r,s,l,u,c,h,d){var f=8&n;n|=f?o:a,4&(n&=~(f?a:o))||(n&=-4);var p=[t,n,s,f?l:e,f?u:e,f?e:l,f?e:u,c,h,d],g=i.apply(e,p);return So(t)&&ko(g,p),g.placeholder=r,Ro(g,t,n)}function qr(e){var t=Ae[e];return function(e,n){if(e=bs(e),(n=null==n?0:xn(_s(n),292))&&mn(e)){var i=(Ss(e)+"e").split("e");return+((i=(Ss(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var Kr=Cn&&1/ln(new Cn([,-0]))[1]==c?function(e){return new Cn(e)}:fl;function Jr(e){return function(t){var n=mo(t);return n==w?on(t):n==T?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return Pt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Qr(n,u,c,h,d,f,p,g){var m=2&u;if(!m&&"function"!=typeof n)throw new Pe(t);var v=h?h.length:0;if(v||(u&=-97,h=d=e),p=p===e?p:_n(_s(p),0),g=g===e?g:_s(g),v-=d?d.length:0,u&a){var y=h,_=d;h=d=e}var x=m?e:ao(n),b=[n,u,c,h,d,y,_,f,p,g];if(x&&function(e,t){var n=e[1],r=t[1],o=n|r,a=o<131,u=r==s&&8==n||r==s&&n==l&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!u)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var c=t[3];if(c){var h=e[3];e[3]=h?Cr(h,c,t[4]):c,e[4]=h?sn(e[3],i):t[4]}(c=t[5])&&(h=e[5],e[5]=h?Dr(h,c,t[6]):c,e[6]=h?sn(e[5],i):t[6]),(c=t[7])&&(e[7]=c),r&s&&(e[8]=null==e[8]?t[8]:xn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(b,x),n=b[0],u=b[1],c=b[2],h=b[3],d=b[4],!(g=b[9]=b[9]===e?m?0:n.length:_n(b[9]-v,0))&&24&u&&(u&=-25),u&&1!=u)w=8==u||u==r?function(t,n,i){var r=Br(t);return function o(){for(var a=arguments.length,s=we(a),l=a,u=lo(o);l--;)s[l]=arguments[l];var c=a<3&&s[0]!==u&&s[a-1]!==u?[]:sn(s,u);return(a-=c.length)<i?Xr(t,n,Fr,o.placeholder,e,s,c,e,e,i-a):wt(this&&this!==ct&&this instanceof o?r:t,this,s)}}(n,u,g):u!=o&&33!=u||d.length?Fr.apply(e,b):function(e,t,n,i){var r=1&t,o=Br(e);return function t(){for(var a=-1,s=arguments.length,l=-1,u=i.length,c=we(u+s),h=this&&this!==ct&&this instanceof t?o:e;++l<u;)c[l]=i[l];for(;s--;)c[l++]=arguments[++a];return wt(h,r?n:this,c)}}(n,u,c,h);else var w=function(e,t,n){var i=1&t,r=Br(e);return function t(){return(this&&this!==ct&&this instanceof t?r:e).apply(i?n:this,arguments)}}(n,u,c);return Ro((x?tr:ko)(w,b),n,u)}function $r(t,n,i,r){return t===e||ja(t,Oe[i])&&!Ee.call(r,i)?n:t}function eo(t,n,i,r,o,a){return os(t)&&os(n)&&(a.set(n,t),Wi(t,n,e,eo,a),a.delete(n)),t}function to(t){return us(t)?e:t}function no(t,n,i,r,o,a){var s=1&i,l=t.length,u=n.length;if(l!=u&&!(s&&u>l))return!1;var c=a.get(t),h=a.get(n);if(c&&h)return c==n&&h==t;var d=-1,f=!0,p=2&i?new qn:e;for(a.set(t,n),a.set(n,t);++d<l;){var g=t[d],m=n[d];if(r)var v=s?r(m,g,d,n,t,a):r(g,m,d,t,n,a);if(v!==e){if(v)continue;f=!1;break}if(p){if(!Nt(n,(function(e,t){if(!Kt(p,t)&&(g===e||o(g,e,i,r,a)))return p.push(t)}))){f=!1;break}}else if(g!==m&&!o(g,m,i,r,a)){f=!1;break}}return a.delete(t),a.delete(n),f}function io(t){return No(Co(t,e,Ko),t+"")}function ro(e){return Ii(e,Es,po)}function oo(e){return Ii(e,zs,go)}var ao=Ln?function(e){return Ln.get(e)}:fl;function so(e){for(var t=e.name+"",n=kn[t],i=Ee.call(kn,t)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==e)return r.name}return t}function lo(e){return(Ee.call(Fn,"placeholder")?Fn:e).placeholder}function uo(){var e=Fn.iteratee||ul;return e=e===ul?Ei:e,arguments.length?e(arguments[0],arguments[1]):e}function co(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function ho(e){for(var t=Es(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,Ao(r)]}return t}function fo(t,n){var i=function(t,n){return null==t?e:t[n]}(t,n);return Ri(i)?i:e}var po=pn?function(e){return null==e?[]:(e=Te(e),Tt(pn(e),(function(t){return Je.call(e,t)})))}:xl,go=pn?function(e){for(var t=[];e;)Lt(t,po(e)),e=Ye(e);return t}:xl,mo=Ai;function vo(e,t,n){for(var i=-1,r=(t=xr(t,e)).length,o=!1;++i<r;){var a=Ho(t[i]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++i!=r?o:!!(r=null==e?0:e.length)&&rs(r)&&xo(a,r)&&(qa(e)||Xa(e))}function yo(e){return"function"!=typeof e.constructor||Io(e)?{}:Hn(Ye(e))}function _o(e){return qa(e)||Xa(e)||!!(ot&&e&&e[ot])}function xo(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&ve.test(e))&&e>-1&&e%1==0&&e<t}function bo(e,t,n){if(!os(n))return!1;var i=typeof t;return!!("number"==i?Ja(n)&&xo(t,n.length):"string"==i&&t in n)&&ja(n[t],e)}function wo(e,t){if(qa(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!fs(e))||$.test(e)||!Q.test(e)||null!=t&&e in Te(t)}function So(e){var t=so(e),n=Fn[t];if("function"!=typeof n||!(t in jn.prototype))return!1;if(e===n)return!0;var i=ao(n);return!!i&&e===i[0]}(In&&mo(new In(new ArrayBuffer(1)))!=k||An&&mo(new An)!=w||Tn&&mo(Tn.resolve())!=I||Cn&&mo(new Cn)!=T||Dn&&mo(new Dn)!=P)&&(mo=function(t){var n=Ai(t),i=n==M?t.constructor:e,r=i?Wo(i):"";if(r)switch(r){case On:return k;case Nn:return w;case Rn:return I;case En:return T;case zn:return P}return n});var Mo=Ne?ns:bl;function Io(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Oe)}function Ao(e){return e==e&&!os(e)}function To(t,n){return function(i){return null!=i&&i[t]===n&&(n!==e||t in Te(i))}}function Co(t,n,i){return n=_n(n===e?t.length-1:n,0),function(){for(var e=arguments,r=-1,o=_n(e.length-n,0),a=we(o);++r<o;)a[r]=e[n+r];r=-1;for(var s=we(n+1);++r<n;)s[r]=e[r];return s[n]=i(a),wt(t,this,s)}}function Do(e,t){return t.length<2?e:Mi(e,rr(t,0,-1))}function Po(t,n){for(var i=t.length,r=xn(n.length,i),o=Pr(t);r--;){var a=n[r];t[r]=xo(a,i)?o[a]:e}return t}function Lo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ko=Eo(tr),Oo=gt||function(e,t){return ct.setTimeout(e,t)},No=Eo(nr);function Ro(e,t,n){var i=t+"";return No(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return Mt(p,(function(n){var i="_."+n[0];t&n[1]&&!Ct(e,i)&&e.push(i)})),e.sort()}(function(e){var t=e.match(ae);return t?t[1].split(se):[]}(i),n)))}function Eo(t){var n=0,i=0;return function(){var r=bn(),o=16-(r-i);if(i=r,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(e,arguments)}}function zo(t,n){var i=-1,r=t.length,o=r-1;for(n=n===e?r:n;++i<n;){var a=qi(i,o),s=t[a];t[a]=t[i],t[i]=s}return t.length=n,t}var Bo,Vo,Go,Fo=(Bo=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,i,r){t.push(i?r.replace(ce,"$1"):n||e)})),t},Vo=Va(Bo,(function(e){return 500===Go.size&&Go.clear(),e})),Go=Vo.cache,Vo);function Ho(e){if("string"==typeof e||fs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Wo(e){if(null!=e){try{return Re.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Uo(e){if(e instanceof jn)return e.clone();var t=new Un(e.__wrapped__,e.__chain__);return t.__actions__=Pr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var jo=Ji((function(e,t){return Qa(e)?di(e,yi(t,1,Qa,!0)):[]})),Zo=Ji((function(t,n){var i=ta(n);return Qa(i)&&(i=e),Qa(t)?di(t,yi(n,1,Qa,!0),uo(i,2)):[]})),Yo=Ji((function(t,n){var i=ta(n);return Qa(i)&&(i=e),Qa(t)?di(t,yi(n,1,Qa,!0),e,i):[]}));function Xo(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:_s(n);return r<0&&(r=_n(i+r,0)),zt(e,uo(t,3),r)}function qo(t,n,i){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return i!==e&&(o=_s(i),o=i<0?_n(r+o,0):xn(o,r-1)),zt(t,uo(n,3),o,!0)}function Ko(e){return null!=e&&e.length?yi(e,1):[]}function Jo(t){return t&&t.length?t[0]:e}var Qo=Ji((function(e){var t=Pt(e,yr);return t.length&&t[0]===e[0]?Pi(t):[]})),$o=Ji((function(t){var n=ta(t),i=Pt(t,yr);return n===ta(i)?n=e:i.pop(),i.length&&i[0]===t[0]?Pi(i,uo(n,2)):[]})),ea=Ji((function(t){var n=ta(t),i=Pt(t,yr);return(n="function"==typeof n?n:e)&&i.pop(),i.length&&i[0]===t[0]?Pi(i,e,n):[]}));function ta(t){var n=null==t?0:t.length;return n?t[n-1]:e}var na=Ji(ia);function ia(e,t){return e&&e.length&&t&&t.length?Yi(e,t):e}var ra=io((function(e,t){var n=null==e?0:e.length,i=si(e,t);return Xi(e,Pt(t,(function(e){return xo(e,n)?+e:e})).sort(Tr)),i}));function oa(e){return null==e?e:Mn.call(e)}var aa=Ji((function(e){return hr(yi(e,1,Qa,!0))})),sa=Ji((function(t){var n=ta(t);return Qa(n)&&(n=e),hr(yi(t,1,Qa,!0),uo(n,2))})),la=Ji((function(t){var n=ta(t);return n="function"==typeof n?n:e,hr(yi(t,1,Qa,!0),e,n)}));function ua(e){if(!e||!e.length)return[];var t=0;return e=Tt(e,(function(e){if(Qa(e))return t=_n(e.length,t),!0})),Zt(t,(function(t){return Pt(e,Ht(t))}))}function ca(t,n){if(!t||!t.length)return[];var i=ua(t);return null==n?i:Pt(i,(function(t){return wt(n,e,t)}))}var ha=Ji((function(e,t){return Qa(e)?di(e,t):[]})),da=Ji((function(e){return mr(Tt(e,Qa))})),fa=Ji((function(t){var n=ta(t);return Qa(n)&&(n=e),mr(Tt(t,Qa),uo(n,2))})),pa=Ji((function(t){var n=ta(t);return n="function"==typeof n?n:e,mr(Tt(t,Qa),e,n)})),ga=Ji(ua),ma=Ji((function(t){var n=t.length,i=n>1?t[n-1]:e;return i="function"==typeof i?(t.pop(),i):e,ca(t,i)}));function va(e){var t=Fn(e);return t.__chain__=!0,t}function ya(e,t){return t(e)}var _a=io((function(t){var n=t.length,i=n?t[0]:0,r=this.__wrapped__,o=function(e){return si(e,t)};return!(n>1||this.__actions__.length)&&r instanceof jn&&xo(i)?((r=r.slice(i,+i+(n?1:0))).__actions__.push({func:ya,args:[o],thisArg:e}),new Un(r,this.__chain__).thru((function(t){return n&&!t.length&&t.push(e),t}))):this.thru(o)})),xa=kr((function(e,t,n){Ee.call(e,n)?++e[n]:ai(e,n,1)})),ba=Vr(Xo),wa=Vr(qo);function Sa(e,t){return(qa(e)?Mt:fi)(e,uo(t,3))}function Ma(e,t){return(qa(e)?It:pi)(e,uo(t,3))}var Ia=kr((function(e,t,n){Ee.call(e,n)?e[n].push(t):ai(e,n,[t])})),Aa=Ji((function(e,t,n){var i=-1,r="function"==typeof t,o=Ja(e)?we(e.length):[];return fi(e,(function(e){o[++i]=r?wt(t,e,n):Li(e,t,n)})),o})),Ta=kr((function(e,t,n){ai(e,n,t)}));function Ca(e,t){return(qa(e)?Pt:Gi)(e,uo(t,3))}var Da=kr((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Pa=Ji((function(e,t){if(null==e)return[];var n=t.length;return n>1&&bo(e,t[0],t[1])?t=[]:n>2&&bo(t[0],t[1],t[2])&&(t=[t[0]]),ji(e,yi(t,1),[])})),La=pt||function(){return ct.Date.now()};function ka(t,n,i){return n=i?e:n,n=t&&null==n?t.length:n,Qr(t,s,e,e,e,e,n)}function Oa(n,i){var r;if("function"!=typeof i)throw new Pe(t);return n=_s(n),function(){return--n>0&&(r=i.apply(this,arguments)),n<=1&&(i=e),r}}var Na=Ji((function(e,t,n){var i=1;if(n.length){var r=sn(n,lo(Na));i|=o}return Qr(e,i,t,n,r)})),Ra=Ji((function(e,t,n){var i=3;if(n.length){var r=sn(n,lo(Ra));i|=o}return Qr(t,i,e,n,r)}));function Ea(n,i,r){var o,a,s,l,u,c,h=0,d=!1,f=!1,p=!0;if("function"!=typeof n)throw new Pe(t);function g(t){var i=o,r=a;return o=a=e,h=t,l=n.apply(r,i)}function m(e){return h=e,u=Oo(y,i),d?g(e):l}function v(t){var n=t-c;return c===e||n>=i||n<0||f&&t-h>=s}function y(){var e=La();if(v(e))return _(e);u=Oo(y,function(e){var t=i-(e-c);return f?xn(t,s-(e-h)):t}(e))}function _(t){return u=e,p&&o?g(t):(o=a=e,l)}function x(){var t=La(),n=v(t);if(o=arguments,a=this,c=t,n){if(u===e)return m(c);if(f)return Sr(u),u=Oo(y,i),g(c)}return u===e&&(u=Oo(y,i)),l}return i=bs(i)||0,os(r)&&(d=!!r.leading,s=(f="maxWait"in r)?_n(bs(r.maxWait)||0,i):s,p="trailing"in r?!!r.trailing:p),x.cancel=function(){u!==e&&Sr(u),h=0,o=c=a=u=e},x.flush=function(){return u===e?l:_(La())},x}var za=Ji((function(e,t){return hi(e,1,t)})),Ba=Ji((function(e,t,n){return hi(e,bs(t)||0,n)}));function Va(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new Pe(t);var i=function(){var t=arguments,r=n?n.apply(this,t):t[0],o=i.cache;if(o.has(r))return o.get(r);var a=e.apply(this,t);return i.cache=o.set(r,a)||o,a};return i.cache=new(Va.Cache||Xn),i}function Ga(e){if("function"!=typeof e)throw new Pe(t);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Va.Cache=Xn;var Fa=br((function(e,t){var n=(t=1==t.length&&qa(t[0])?Pt(t[0],Xt(uo())):Pt(yi(t,1),Xt(uo()))).length;return Ji((function(i){for(var r=-1,o=xn(i.length,n);++r<o;)i[r]=t[r].call(this,i[r]);return wt(e,this,i)}))})),Ha=Ji((function(t,n){var i=sn(n,lo(Ha));return Qr(t,o,e,n,i)})),Wa=Ji((function(t,n){var i=sn(n,lo(Wa));return Qr(t,a,e,n,i)})),Ua=io((function(t,n){return Qr(t,l,e,e,e,n)}));function ja(e,t){return e===t||e!=e&&t!=t}var Za=Yr(Ti),Ya=Yr((function(e,t){return e>=t})),Xa=ki(function(){return arguments}())?ki:function(e){return as(e)&&Ee.call(e,"callee")&&!Je.call(e,"callee")},qa=we.isArray,Ka=mt?Xt(mt):function(e){return as(e)&&Ai(e)==L};function Ja(e){return null!=e&&rs(e.length)&&!ns(e)}function Qa(e){return as(e)&&Ja(e)}var $a=gn||bl,es=vt?Xt(vt):function(e){return as(e)&&Ai(e)==y};function ts(e){if(!as(e))return!1;var t=Ai(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!us(e)}function ns(e){if(!os(e))return!1;var t=Ai(e);return t==x||t==b||"[object AsyncFunction]"==t||"[object Proxy]"==t}function is(e){return"number"==typeof e&&e==_s(e)}function rs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function os(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function as(e){return null!=e&&"object"==typeof e}var ss=yt?Xt(yt):function(e){return as(e)&&mo(e)==w};function ls(e){return"number"==typeof e||as(e)&&Ai(e)==S}function us(e){if(!as(e)||Ai(e)!=M)return!1;var t=Ye(e);if(null===t)return!0;var n=Ee.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Re.call(n)==Ge}var cs=_t?Xt(_t):function(e){return as(e)&&Ai(e)==A},hs=xt?Xt(xt):function(e){return as(e)&&mo(e)==T};function ds(e){return"string"==typeof e||!qa(e)&&as(e)&&Ai(e)==C}function fs(e){return"symbol"==typeof e||as(e)&&Ai(e)==D}var ps=bt?Xt(bt):function(e){return as(e)&&rs(e.length)&&!!it[Ai(e)]},gs=Yr(Vi),ms=Yr((function(e,t){return e<=t}));function vs(e){if(!e)return[];if(Ja(e))return ds(e)?cn(e):Pr(e);if(lt&&e[lt])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[lt]());var t=mo(e);return(t==w?on:t==T?ln:js)(e)}function ys(e){return e?(e=bs(e))===c||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function _s(e){var t=ys(e),n=t%1;return t==t?n?t-n:t:0}function xs(e){return e?li(_s(e),0,f):0}function bs(e){if("number"==typeof e)return e;if(fs(e))return d;if(os(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=os(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Yt(e);var n=pe.test(e);return n||me.test(e)?st(e.slice(2),n?2:8):fe.test(e)?d:+e}function ws(e){return Lr(e,zs(e))}function Ss(e){return null==e?"":cr(e)}var Ms=Or((function(e,t){if(Io(t)||Ja(t))Lr(t,Es(t),e);else for(var n in t)Ee.call(t,n)&&ni(e,n,t[n])})),Is=Or((function(e,t){Lr(t,zs(t),e)})),As=Or((function(e,t,n,i){Lr(t,zs(t),e,i)})),Ts=Or((function(e,t,n,i){Lr(t,Es(t),e,i)})),Cs=io(si),Ds=Ji((function(t,n){t=Te(t);var i=-1,r=n.length,o=r>2?n[2]:e;for(o&&bo(n[0],n[1],o)&&(r=1);++i<r;)for(var a=n[i],s=zs(a),l=-1,u=s.length;++l<u;){var c=s[l],h=t[c];(h===e||ja(h,Oe[c])&&!Ee.call(t,c))&&(t[c]=a[c])}return t})),Ps=Ji((function(t){return t.push(e,eo),wt(Vs,e,t)}));function Ls(t,n,i){var r=null==t?e:Mi(t,n);return r===e?i:r}function ks(e,t){return null!=e&&vo(e,t,Di)}var Os=Hr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ve.call(t)),e[t]=n}),ol(ll)),Ns=Hr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ve.call(t)),Ee.call(e,t)?e[t].push(n):e[t]=[n]}),uo),Rs=Ji(Li);function Es(e){return Ja(e)?Jn(e):zi(e)}function zs(e){return Ja(e)?Jn(e,!0):Bi(e)}var Bs=Or((function(e,t,n){Wi(e,t,n)})),Vs=Or((function(e,t,n,i){Wi(e,t,n,i)})),Gs=io((function(e,t){var n={};if(null==e)return n;var i=!1;t=Pt(t,(function(t){return t=xr(t,e),i||(i=t.length>1),t})),Lr(e,oo(e),n),i&&(n=ui(n,7,to));for(var r=t.length;r--;)dr(n,t[r]);return n})),Fs=io((function(e,t){return null==e?{}:function(e,t){return Zi(e,t,(function(t,n){return ks(e,n)}))}(e,t)}));function Hs(e,t){if(null==e)return{};var n=Pt(oo(e),(function(e){return[e]}));return t=uo(t),Zi(e,n,(function(e,n){return t(e,n[0])}))}var Ws=Jr(Es),Us=Jr(zs);function js(e){return null==e?[]:qt(e,Es(e))}var Zs=zr((function(e,t,n){return t=t.toLowerCase(),e+(n?Ys(t):t)}));function Ys(e){return tl(Ss(e).toLowerCase())}function Xs(e){return(e=Ss(e))&&e.replace(ye,en).replace(Ke,"")}var qs=zr((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ks=zr((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Js=Er("toLowerCase"),Qs=zr((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),$s=zr((function(e,t,n){return e+(n?" ":"")+tl(t)})),el=zr((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),tl=Er("toUpperCase");function nl(t,n,i){return t=Ss(t),(n=i?e:n)===e?function(e){return et.test(e)}(t)?function(e){return e.match(Qe)||[]}(t):function(e){return e.match(le)||[]}(t):t.match(n)||[]}var il=Ji((function(t,n){try{return wt(t,e,n)}catch(i){return ts(i)?i:new Me(i)}})),rl=io((function(e,t){return Mt(t,(function(t){t=Ho(t),ai(e,t,Na(e[t],e))})),e}));function ol(e){return function(){return e}}var al=Gr(),sl=Gr(!0);function ll(e){return e}function ul(e){return Ei("function"==typeof e?e:ui(e,1))}var cl=Ji((function(e,t){return function(n){return Li(n,e,t)}})),hl=Ji((function(e,t){return function(n){return Li(e,n,t)}}));function dl(e,t,n){var i=Es(t),r=Si(t,i);null!=n||os(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=Si(t,Es(t)));var o=!(os(n)&&"chain"in n&&!n.chain),a=ns(e);return Mt(r,(function(n){var i=t[n];e[n]=i,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),r=n.__actions__=Pr(this.__actions__);return r.push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,Lt([this.value()],arguments))})})),e}function fl(){}var pl=Ur(Pt),gl=Ur(At),ml=Ur(Nt);function vl(e){return wo(e)?Ht(Ho(e)):function(e){return function(t){return Mi(t,e)}}(e)}var yl=Zr(),_l=Zr(!0);function xl(){return[]}function bl(){return!1}var wl,Sl=Wr((function(e,t){return e+t}),0),Ml=qr("ceil"),Il=Wr((function(e,t){return e/t}),1),Al=qr("floor"),Tl=Wr((function(e,t){return e*t}),1),Cl=qr("round"),Dl=Wr((function(e,t){return e-t}),0);return Fn.after=function(e,n){if("function"!=typeof n)throw new Pe(t);return e=_s(e),function(){if(--e<1)return n.apply(this,arguments)}},Fn.ary=ka,Fn.assign=Ms,Fn.assignIn=Is,Fn.assignInWith=As,Fn.assignWith=Ts,Fn.at=Cs,Fn.before=Oa,Fn.bind=Na,Fn.bindAll=rl,Fn.bindKey=Ra,Fn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return qa(e)?e:[e]},Fn.chain=va,Fn.chunk=function(t,n,i){n=(i?bo(t,n,i):n===e)?1:_n(_s(n),0);var r=null==t?0:t.length;if(!r||n<1)return[];for(var o=0,a=0,s=we(Rt(r/n));o<r;)s[a++]=rr(t,o,o+=n);return s},Fn.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var o=e[t];o&&(r[i++]=o)}return r},Fn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=we(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Lt(qa(n)?Pr(n):[n],yi(t,1))},Fn.cond=function(e){var n=null==e?0:e.length,i=uo();return e=n?Pt(e,(function(e){if("function"!=typeof e[1])throw new Pe(t);return[i(e[0]),e[1]]})):[],Ji((function(t){for(var i=-1;++i<n;){var r=e[i];if(wt(r[0],this,t))return wt(r[1],this,t)}}))},Fn.conforms=function(e){return function(e){var t=Es(e);return function(n){return ci(n,e,t)}}(ui(e,1))},Fn.constant=ol,Fn.countBy=xa,Fn.create=function(e,t){var n=Hn(e);return null==t?n:oi(n,t)},Fn.curry=function t(n,i,r){var o=Qr(n,8,e,e,e,e,e,i=r?e:i);return o.placeholder=t.placeholder,o},Fn.curryRight=function t(n,i,o){var a=Qr(n,r,e,e,e,e,e,i=o?e:i);return a.placeholder=t.placeholder,a},Fn.debounce=Ea,Fn.defaults=Ds,Fn.defaultsDeep=Ps,Fn.defer=za,Fn.delay=Ba,Fn.difference=jo,Fn.differenceBy=Zo,Fn.differenceWith=Yo,Fn.drop=function(t,n,i){var r=null==t?0:t.length;return r?rr(t,(n=i||n===e?1:_s(n))<0?0:n,r):[]},Fn.dropRight=function(t,n,i){var r=null==t?0:t.length;return r?rr(t,0,(n=r-(n=i||n===e?1:_s(n)))<0?0:n):[]},Fn.dropRightWhile=function(e,t){return e&&e.length?pr(e,uo(t,3),!0,!0):[]},Fn.dropWhile=function(e,t){return e&&e.length?pr(e,uo(t,3),!0):[]},Fn.fill=function(t,n,i,r){var o=null==t?0:t.length;return o?(i&&"number"!=typeof i&&bo(t,n,i)&&(i=0,r=o),function(t,n,i,r){var o=t.length;for((i=_s(i))<0&&(i=-i>o?0:o+i),(r=r===e||r>o?o:_s(r))<0&&(r+=o),r=i>r?0:xs(r);i<r;)t[i++]=n;return t}(t,n,i,r)):[]},Fn.filter=function(e,t){return(qa(e)?Tt:vi)(e,uo(t,3))},Fn.flatMap=function(e,t){return yi(Ca(e,t),1)},Fn.flatMapDeep=function(e,t){return yi(Ca(e,t),c)},Fn.flatMapDepth=function(t,n,i){return i=i===e?1:_s(i),yi(Ca(t,n),i)},Fn.flatten=Ko,Fn.flattenDeep=function(e){return null!=e&&e.length?yi(e,c):[]},Fn.flattenDepth=function(t,n){return null!=t&&t.length?yi(t,n=n===e?1:_s(n)):[]},Fn.flip=function(e){return Qr(e,512)},Fn.flow=al,Fn.flowRight=sl,Fn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},Fn.functions=function(e){return null==e?[]:Si(e,Es(e))},Fn.functionsIn=function(e){return null==e?[]:Si(e,zs(e))},Fn.groupBy=Ia,Fn.initial=function(e){return null!=e&&e.length?rr(e,0,-1):[]},Fn.intersection=Qo,Fn.intersectionBy=$o,Fn.intersectionWith=ea,Fn.invert=Os,Fn.invertBy=Ns,Fn.invokeMap=Aa,Fn.iteratee=ul,Fn.keyBy=Ta,Fn.keys=Es,Fn.keysIn=zs,Fn.map=Ca,Fn.mapKeys=function(e,t){var n={};return t=uo(t,3),bi(e,(function(e,i,r){ai(n,t(e,i,r),e)})),n},Fn.mapValues=function(e,t){var n={};return t=uo(t,3),bi(e,(function(e,i,r){ai(n,i,t(e,i,r))})),n},Fn.matches=function(e){return Fi(ui(e,1))},Fn.matchesProperty=function(e,t){return Hi(e,ui(t,1))},Fn.memoize=Va,Fn.merge=Bs,Fn.mergeWith=Vs,Fn.method=cl,Fn.methodOf=hl,Fn.mixin=dl,Fn.negate=Ga,Fn.nthArg=function(e){return e=_s(e),Ji((function(t){return Ui(t,e)}))},Fn.omit=Gs,Fn.omitBy=function(e,t){return Hs(e,Ga(uo(t)))},Fn.once=function(e){return Oa(2,e)},Fn.orderBy=function(t,n,i,r){return null==t?[]:(qa(n)||(n=null==n?[]:[n]),qa(i=r?e:i)||(i=null==i?[]:[i]),ji(t,n,i))},Fn.over=pl,Fn.overArgs=Fa,Fn.overEvery=gl,Fn.overSome=ml,Fn.partial=Ha,Fn.partialRight=Wa,Fn.partition=Da,Fn.pick=Fs,Fn.pickBy=Hs,Fn.property=vl,Fn.propertyOf=function(t){return function(n){return null==t?e:Mi(t,n)}},Fn.pull=na,Fn.pullAll=ia,Fn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Yi(e,t,uo(n,2)):e},Fn.pullAllWith=function(t,n,i){return t&&t.length&&n&&n.length?Yi(t,n,e,i):t},Fn.pullAt=ra,Fn.range=yl,Fn.rangeRight=_l,Fn.rearg=Ua,Fn.reject=function(e,t){return(qa(e)?Tt:vi)(e,Ga(uo(t,3)))},Fn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],o=e.length;for(t=uo(t,3);++i<o;){var a=e[i];t(a,i,e)&&(n.push(a),r.push(i))}return Xi(e,r),n},Fn.rest=function(n,i){if("function"!=typeof n)throw new Pe(t);return Ji(n,i=i===e?i:_s(i))},Fn.reverse=oa,Fn.sampleSize=function(t,n,i){return n=(i?bo(t,n,i):n===e)?1:_s(n),(qa(t)?$n:$i)(t,n)},Fn.set=function(e,t,n){return null==e?e:er(e,t,n)},Fn.setWith=function(t,n,i,r){return r="function"==typeof r?r:e,null==t?t:er(t,n,i,r)},Fn.shuffle=function(e){return(qa(e)?ei:ir)(e)},Fn.slice=function(t,n,i){var r=null==t?0:t.length;return r?(i&&"number"!=typeof i&&bo(t,n,i)?(n=0,i=r):(n=null==n?0:_s(n),i=i===e?r:_s(i)),rr(t,n,i)):[]},Fn.sortBy=Pa,Fn.sortedUniq=function(e){return e&&e.length?lr(e):[]},Fn.sortedUniqBy=function(e,t){return e&&e.length?lr(e,uo(t,2)):[]},Fn.split=function(t,n,i){return i&&"number"!=typeof i&&bo(t,n,i)&&(n=i=e),(i=i===e?f:i>>>0)?(t=Ss(t))&&("string"==typeof n||null!=n&&!cs(n))&&!(n=cr(n))&&rn(t)?wr(cn(t),0,i):t.split(n,i):[]},Fn.spread=function(e,n){if("function"!=typeof e)throw new Pe(t);return n=null==n?0:_n(_s(n),0),Ji((function(t){var i=t[n],r=wr(t,0,n);return i&&Lt(r,i),wt(e,this,r)}))},Fn.tail=function(e){var t=null==e?0:e.length;return t?rr(e,1,t):[]},Fn.take=function(t,n,i){return t&&t.length?rr(t,0,(n=i||n===e?1:_s(n))<0?0:n):[]},Fn.takeRight=function(t,n,i){var r=null==t?0:t.length;return r?rr(t,(n=r-(n=i||n===e?1:_s(n)))<0?0:n,r):[]},Fn.takeRightWhile=function(e,t){return e&&e.length?pr(e,uo(t,3),!1,!0):[]},Fn.takeWhile=function(e,t){return e&&e.length?pr(e,uo(t,3)):[]},Fn.tap=function(e,t){return t(e),e},Fn.throttle=function(e,n,i){var r=!0,o=!0;if("function"!=typeof e)throw new Pe(t);return os(i)&&(r="leading"in i?!!i.leading:r,o="trailing"in i?!!i.trailing:o),Ea(e,n,{leading:r,maxWait:n,trailing:o})},Fn.thru=ya,Fn.toArray=vs,Fn.toPairs=Ws,Fn.toPairsIn=Us,Fn.toPath=function(e){return qa(e)?Pt(e,Ho):fs(e)?[e]:Pr(Fo(Ss(e)))},Fn.toPlainObject=ws,Fn.transform=function(e,t,n){var i=qa(e),r=i||$a(e)||ps(e);if(t=uo(t,4),null==n){var o=e&&e.constructor;n=r?i?new o:[]:os(e)&&ns(o)?Hn(Ye(e)):{}}return(r?Mt:bi)(e,(function(e,i,r){return t(n,e,i,r)})),n},Fn.unary=function(e){return ka(e,1)},Fn.union=aa,Fn.unionBy=sa,Fn.unionWith=la,Fn.uniq=function(e){return e&&e.length?hr(e):[]},Fn.uniqBy=function(e,t){return e&&e.length?hr(e,uo(t,2)):[]},Fn.uniqWith=function(t,n){return n="function"==typeof n?n:e,t&&t.length?hr(t,e,n):[]},Fn.unset=function(e,t){return null==e||dr(e,t)},Fn.unzip=ua,Fn.unzipWith=ca,Fn.update=function(e,t,n){return null==e?e:fr(e,t,_r(n))},Fn.updateWith=function(t,n,i,r){return r="function"==typeof r?r:e,null==t?t:fr(t,n,_r(i),r)},Fn.values=js,Fn.valuesIn=function(e){return null==e?[]:qt(e,zs(e))},Fn.without=ha,Fn.words=nl,Fn.wrap=function(e,t){return Ha(_r(t),e)},Fn.xor=da,Fn.xorBy=fa,Fn.xorWith=pa,Fn.zip=ga,Fn.zipObject=function(e,t){return vr(e||[],t||[],ni)},Fn.zipObjectDeep=function(e,t){return vr(e||[],t||[],er)},Fn.zipWith=ma,Fn.entries=Ws,Fn.entriesIn=Us,Fn.extend=Is,Fn.extendWith=As,dl(Fn,Fn),Fn.add=Sl,Fn.attempt=il,Fn.camelCase=Zs,Fn.capitalize=Ys,Fn.ceil=Ml,Fn.clamp=function(t,n,i){return i===e&&(i=n,n=e),i!==e&&(i=(i=bs(i))==i?i:0),n!==e&&(n=(n=bs(n))==n?n:0),li(bs(t),n,i)},Fn.clone=function(e){return ui(e,4)},Fn.cloneDeep=function(e){return ui(e,5)},Fn.cloneDeepWith=function(t,n){return ui(t,5,n="function"==typeof n?n:e)},Fn.cloneWith=function(t,n){return ui(t,4,n="function"==typeof n?n:e)},Fn.conformsTo=function(e,t){return null==t||ci(e,t,Es(t))},Fn.deburr=Xs,Fn.defaultTo=function(e,t){return null==e||e!=e?t:e},Fn.divide=Il,Fn.endsWith=function(t,n,i){t=Ss(t),n=cr(n);var r=t.length,o=i=i===e?r:li(_s(i),0,r);return(i-=n.length)>=0&&t.slice(i,o)==n},Fn.eq=ja,Fn.escape=function(e){return(e=Ss(e))&&X.test(e)?e.replace(Z,tn):e},Fn.escapeRegExp=function(e){return(e=Ss(e))&&ne.test(e)?e.replace(te,"\\$&"):e},Fn.every=function(t,n,i){var r=qa(t)?At:gi;return i&&bo(t,n,i)&&(n=e),r(t,uo(n,3))},Fn.find=ba,Fn.findIndex=Xo,Fn.findKey=function(e,t){return Et(e,uo(t,3),bi)},Fn.findLast=wa,Fn.findLastIndex=qo,Fn.findLastKey=function(e,t){return Et(e,uo(t,3),wi)},Fn.floor=Al,Fn.forEach=Sa,Fn.forEachRight=Ma,Fn.forIn=function(e,t){return null==e?e:_i(e,uo(t,3),zs)},Fn.forInRight=function(e,t){return null==e?e:xi(e,uo(t,3),zs)},Fn.forOwn=function(e,t){return e&&bi(e,uo(t,3))},Fn.forOwnRight=function(e,t){return e&&wi(e,uo(t,3))},Fn.get=Ls,Fn.gt=Za,Fn.gte=Ya,Fn.has=function(e,t){return null!=e&&vo(e,t,Ci)},Fn.hasIn=ks,Fn.head=Jo,Fn.identity=ll,Fn.includes=function(e,t,n,i){e=Ja(e)?e:js(e),n=n&&!i?_s(n):0;var r=e.length;return n<0&&(n=_n(r+n,0)),ds(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&Bt(e,t,n)>-1},Fn.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:_s(n);return r<0&&(r=_n(i+r,0)),Bt(e,t,r)},Fn.inRange=function(t,n,i){return n=ys(n),i===e?(i=n,n=0):i=ys(i),function(e,t,n){return e>=xn(t,n)&&e<_n(t,n)}(t=bs(t),n,i)},Fn.invoke=Rs,Fn.isArguments=Xa,Fn.isArray=qa,Fn.isArrayBuffer=Ka,Fn.isArrayLike=Ja,Fn.isArrayLikeObject=Qa,Fn.isBoolean=function(e){return!0===e||!1===e||as(e)&&Ai(e)==v},Fn.isBuffer=$a,Fn.isDate=es,Fn.isElement=function(e){return as(e)&&1===e.nodeType&&!us(e)},Fn.isEmpty=function(e){if(null==e)return!0;if(Ja(e)&&(qa(e)||"string"==typeof e||"function"==typeof e.splice||$a(e)||ps(e)||Xa(e)))return!e.length;var t=mo(e);if(t==w||t==T)return!e.size;if(Io(e))return!zi(e).length;for(var n in e)if(Ee.call(e,n))return!1;return!0},Fn.isEqual=function(e,t){return Oi(e,t)},Fn.isEqualWith=function(t,n,i){var r=(i="function"==typeof i?i:e)?i(t,n):e;return r===e?Oi(t,n,e,i):!!r},Fn.isError=ts,Fn.isFinite=function(e){return"number"==typeof e&&mn(e)},Fn.isFunction=ns,Fn.isInteger=is,Fn.isLength=rs,Fn.isMap=ss,Fn.isMatch=function(e,t){return e===t||Ni(e,t,ho(t))},Fn.isMatchWith=function(t,n,i){return i="function"==typeof i?i:e,Ni(t,n,ho(n),i)},Fn.isNaN=function(e){return ls(e)&&e!=+e},Fn.isNative=function(e){if(Mo(e))throw new Me("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ri(e)},Fn.isNil=function(e){return null==e},Fn.isNull=function(e){return null===e},Fn.isNumber=ls,Fn.isObject=os,Fn.isObjectLike=as,Fn.isPlainObject=us,Fn.isRegExp=cs,Fn.isSafeInteger=function(e){return is(e)&&e>=-9007199254740991&&e<=h},Fn.isSet=hs,Fn.isString=ds,Fn.isSymbol=fs,Fn.isTypedArray=ps,Fn.isUndefined=function(t){return t===e},Fn.isWeakMap=function(e){return as(e)&&mo(e)==P},Fn.isWeakSet=function(e){return as(e)&&"[object WeakSet]"==Ai(e)},Fn.join=function(e,t){return null==e?"":vn.call(e,t)},Fn.kebabCase=qs,Fn.last=ta,Fn.lastIndexOf=function(t,n,i){var r=null==t?0:t.length;if(!r)return-1;var o=r;return i!==e&&(o=(o=_s(i))<0?_n(r+o,0):xn(o,r-1)),n==n?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(t,n,o):zt(t,Gt,o,!0)},Fn.lowerCase=Ks,Fn.lowerFirst=Js,Fn.lt=gs,Fn.lte=ms,Fn.max=function(t){return t&&t.length?mi(t,ll,Ti):e},Fn.maxBy=function(t,n){return t&&t.length?mi(t,uo(n,2),Ti):e},Fn.mean=function(e){return Ft(e,ll)},Fn.meanBy=function(e,t){return Ft(e,uo(t,2))},Fn.min=function(t){return t&&t.length?mi(t,ll,Vi):e},Fn.minBy=function(t,n){return t&&t.length?mi(t,uo(n,2),Vi):e},Fn.stubArray=xl,Fn.stubFalse=bl,Fn.stubObject=function(){return{}},Fn.stubString=function(){return""},Fn.stubTrue=function(){return!0},Fn.multiply=Tl,Fn.nth=function(t,n){return t&&t.length?Ui(t,_s(n)):e},Fn.noConflict=function(){return ct._===this&&(ct._=Fe),this},Fn.noop=fl,Fn.now=La,Fn.pad=function(e,t,n){e=Ss(e);var i=(t=_s(t))?un(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return jr(Wt(r),n)+e+jr(Rt(r),n)},Fn.padEnd=function(e,t,n){e=Ss(e);var i=(t=_s(t))?un(e):0;return t&&i<t?e+jr(t-i,n):e},Fn.padStart=function(e,t,n){e=Ss(e);var i=(t=_s(t))?un(e):0;return t&&i<t?jr(t-i,n)+e:e},Fn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(Ss(e).replace(ie,""),t||0)},Fn.random=function(t,n,i){if(i&&"boolean"!=typeof i&&bo(t,n,i)&&(n=i=e),i===e&&("boolean"==typeof n?(i=n,n=e):"boolean"==typeof t&&(i=t,t=e)),t===e&&n===e?(t=0,n=1):(t=ys(t),n===e?(n=t,t=0):n=ys(n)),t>n){var r=t;t=n,n=r}if(i||t%1||n%1){var o=Sn();return xn(t+o*(n-t+at("1e-"+((o+"").length-1))),n)}return qi(t,n)},Fn.reduce=function(e,t,n){var i=qa(e)?kt:Ut,r=arguments.length<3;return i(e,uo(t,4),n,r,fi)},Fn.reduceRight=function(e,t,n){var i=qa(e)?Ot:Ut,r=arguments.length<3;return i(e,uo(t,4),n,r,pi)},Fn.repeat=function(t,n,i){return n=(i?bo(t,n,i):n===e)?1:_s(n),Ki(Ss(t),n)},Fn.replace=function(){var e=arguments,t=Ss(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Fn.result=function(t,n,i){var r=-1,o=(n=xr(n,t)).length;for(o||(o=1,t=e);++r<o;){var a=null==t?e:t[Ho(n[r])];a===e&&(r=o,a=i),t=ns(a)?a.call(t):a}return t},Fn.round=Cl,Fn.runInContext=u,Fn.sample=function(e){return(qa(e)?Qn:Qi)(e)},Fn.size=function(e){if(null==e)return 0;if(Ja(e))return ds(e)?un(e):e.length;var t=mo(e);return t==w||t==T?e.size:zi(e).length},Fn.snakeCase=Qs,Fn.some=function(t,n,i){var r=qa(t)?Nt:or;return i&&bo(t,n,i)&&(n=e),r(t,uo(n,3))},Fn.sortedIndex=function(e,t){return ar(e,t)},Fn.sortedIndexBy=function(e,t,n){return sr(e,t,uo(n,2))},Fn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=ar(e,t);if(i<n&&ja(e[i],t))return i}return-1},Fn.sortedLastIndex=function(e,t){return ar(e,t,!0)},Fn.sortedLastIndexBy=function(e,t,n){return sr(e,t,uo(n,2),!0)},Fn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ar(e,t,!0)-1;if(ja(e[n],t))return n}return-1},Fn.startCase=$s,Fn.startsWith=function(e,t,n){return e=Ss(e),n=null==n?0:li(_s(n),0,e.length),t=cr(t),e.slice(n,n+t.length)==t},Fn.subtract=Dl,Fn.sum=function(e){return e&&e.length?jt(e,ll):0},Fn.sumBy=function(e,t){return e&&e.length?jt(e,uo(t,2)):0},Fn.template=function(t,n,i){var r=Fn.templateSettings;i&&bo(t,n,i)&&(n=e),t=Ss(t),n=As({},n,r,$r);var o,a,s=As({},n.imports,r.imports,$r),l=Es(s),u=qt(s,l),c=0,h=n.interpolate||_e,d="__p += '",f=Ce((n.escape||_e).source+"|"+h.source+"|"+(h===J?he:_e).source+"|"+(n.evaluate||_e).source+"|$","g"),p="//# sourceURL="+(Ee.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nt+"]")+"\n";t.replace(f,(function(e,n,i,r,s,l){return i||(i=r),d+=t.slice(c,l).replace(xe,nn),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+e.length,e})),d+="';\n";var g=Ee.call(n,"variable")&&n.variable;if(g){if(ue.test(g))throw new Me("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(H,""):d).replace(W,"$1").replace(U,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=il((function(){return Ie(l,p+"return "+d).apply(e,u)}));if(m.source=d,ts(m))throw m;return m},Fn.times=function(e,t){if((e=_s(e))<1||e>h)return[];var n=f,i=xn(e,f);t=uo(t),e-=f;for(var r=Zt(i,t);++n<e;)t(n);return r},Fn.toFinite=ys,Fn.toInteger=_s,Fn.toLength=xs,Fn.toLower=function(e){return Ss(e).toLowerCase()},Fn.toNumber=bs,Fn.toSafeInteger=function(e){return e?li(_s(e),-9007199254740991,h):0===e?e:0},Fn.toString=Ss,Fn.toUpper=function(e){return Ss(e).toUpperCase()},Fn.trim=function(t,n,i){if((t=Ss(t))&&(i||n===e))return Yt(t);if(!t||!(n=cr(n)))return t;var r=cn(t),o=cn(n);return wr(r,Jt(r,o),Qt(r,o)+1).join("")},Fn.trimEnd=function(t,n,i){if((t=Ss(t))&&(i||n===e))return t.slice(0,hn(t)+1);if(!t||!(n=cr(n)))return t;var r=cn(t);return wr(r,0,Qt(r,cn(n))+1).join("")},Fn.trimStart=function(t,n,i){if((t=Ss(t))&&(i||n===e))return t.replace(ie,"");if(!t||!(n=cr(n)))return t;var r=cn(t);return wr(r,Jt(r,cn(n))).join("")},Fn.truncate=function(t,n){var i=30,r="...";if(os(n)){var o="separator"in n?n.separator:o;i="length"in n?_s(n.length):i,r="omission"in n?cr(n.omission):r}var a=(t=Ss(t)).length;if(rn(t)){var s=cn(t);a=s.length}if(i>=a)return t;var l=i-un(r);if(l<1)return r;var u=s?wr(s,0,l).join(""):t.slice(0,l);if(o===e)return u+r;if(s&&(l+=u.length-l),cs(o)){if(t.slice(l).search(o)){var c,h=u;for(o.global||(o=Ce(o.source,Ss(de.exec(o))+"g")),o.lastIndex=0;c=o.exec(h);)var d=c.index;u=u.slice(0,d===e?l:d)}}else if(t.indexOf(cr(o),l)!=l){var f=u.lastIndexOf(o);f>-1&&(u=u.slice(0,f))}return u+r},Fn.unescape=function(e){return(e=Ss(e))&&Y.test(e)?e.replace(j,dn):e},Fn.uniqueId=function(e){var t=++ze;return Ss(e)+t},Fn.upperCase=el,Fn.upperFirst=tl,Fn.each=Sa,Fn.eachRight=Ma,Fn.first=Jo,dl(Fn,(wl={},bi(Fn,(function(e,t){Ee.call(Fn.prototype,t)||(wl[t]=e)})),wl),{chain:!1}),Fn.VERSION="4.17.21",Mt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Fn[e].placeholder=Fn})),Mt(["drop","take"],(function(t,n){jn.prototype[t]=function(i){i=i===e?1:_n(_s(i),0);var r=this.__filtered__&&!n?new jn(this):this.clone();return r.__filtered__?r.__takeCount__=xn(i,r.__takeCount__):r.__views__.push({size:xn(i,f),type:t+(r.__dir__<0?"Right":"")}),r},jn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Mt(["filter","map","takeWhile"],(function(e,t){var n=t+1,i=1==n||3==n;jn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:uo(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}})),Mt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");jn.prototype[e]=function(){return this[n](1).value()[0]}})),Mt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");jn.prototype[e]=function(){return this.__filtered__?new jn(this):this[n](1)}})),jn.prototype.compact=function(){return this.filter(ll)},jn.prototype.find=function(e){return this.filter(e).head()},jn.prototype.findLast=function(e){return this.reverse().find(e)},jn.prototype.invokeMap=Ji((function(e,t){return"function"==typeof e?new jn(this):this.map((function(n){return Li(n,e,t)}))})),jn.prototype.reject=function(e){return this.filter(Ga(uo(e)))},jn.prototype.slice=function(t,n){t=_s(t);var i=this;return i.__filtered__&&(t>0||n<0)?new jn(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),n!==e&&(i=(n=_s(n))<0?i.dropRight(-n):i.take(n-t)),i)},jn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},jn.prototype.toArray=function(){return this.take(f)},bi(jn.prototype,(function(t,n){var i=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),o=Fn[r?"take"+("last"==n?"Right":""):n],a=r||/^find/.test(n);o&&(Fn.prototype[n]=function(){var n=this.__wrapped__,s=r?[1]:arguments,l=n instanceof jn,u=s[0],c=l||qa(n),h=function(e){var t=o.apply(Fn,Lt([e],s));return r&&d?t[0]:t};c&&i&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,f=!!this.__actions__.length,p=a&&!d,g=l&&!f;if(!a&&c){n=g?n:new jn(this);var m=t.apply(n,s);return m.__actions__.push({func:ya,args:[h],thisArg:e}),new Un(m,d)}return p&&g?t.apply(this,s):(m=this.thru(h),p?r?m.value()[0]:m.value():m)})})),Mt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Le[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);Fn.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(qa(r)?r:[],e)}return this[n]((function(n){return t.apply(qa(n)?n:[],e)}))}})),bi(jn.prototype,(function(e,t){var n=Fn[t];if(n){var i=n.name+"";Ee.call(kn,i)||(kn[i]=[]),kn[i].push({name:t,func:n})}})),kn[Fr(e,2).name]=[{name:"wrapper",func:e}],jn.prototype.clone=function(){var e=new jn(this.__wrapped__);return e.__actions__=Pr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Pr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Pr(this.__views__),e},jn.prototype.reverse=function(){if(this.__filtered__){var e=new jn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},jn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=qa(e),i=t<0,r=n?e.length:0,o=function(e,t,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=xn(t,e+a);break;case"takeRight":e=_n(e,t-a)}}return{start:e,end:t}}(0,r,this.__views__),a=o.start,s=o.end,l=s-a,u=i?s:a-1,c=this.__iteratees__,h=c.length,d=0,f=xn(l,this.__takeCount__);if(!n||!i&&r==l&&f==l)return gr(e,this.__actions__);var p=[];e:for(;l--&&d<f;){for(var g=-1,m=e[u+=t];++g<h;){var v=c[g],y=v.iteratee,_=v.type,x=y(m);if(2==_)m=x;else if(!x){if(1==_)continue e;break e}}p[d++]=m}return p},Fn.prototype.at=_a,Fn.prototype.chain=function(){return va(this)},Fn.prototype.commit=function(){return new Un(this.value(),this.__chain__)},Fn.prototype.next=function(){this.__values__===e&&(this.__values__=vs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?e:this.__values__[this.__index__++]}},Fn.prototype.plant=function(t){for(var n,i=this;i instanceof Wn;){var r=Uo(i);r.__index__=0,r.__values__=e,n?o.__wrapped__=r:n=r;var o=r;i=i.__wrapped__}return o.__wrapped__=t,n},Fn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof jn){var n=t;return this.__actions__.length&&(n=new jn(this)),(n=n.reverse()).__actions__.push({func:ya,args:[oa],thisArg:e}),new Un(n,this.__chain__)}return this.thru(oa)},Fn.prototype.toJSON=Fn.prototype.valueOf=Fn.prototype.value=function(){return gr(this.__wrapped__,this.__actions__)},Fn.prototype.first=Fn.prototype.head,lt&&(Fn.prototype[lt]=function(){return this}),Fn}();dt?((dt.exports=fn)._=fn,ht._=fn):ct._=fn}.call(u);var hS=cS.exports;let dS=null;let fS=null;function pS(e,t={}){let n=document.createElement(e);return Object.keys(t).forEach((e=>{n[e]=t[e]})),n}function gS(e,t,n){return(window.getComputedStyle(e,n||null)||{display:"none"})[t]}function mS(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};let t=e;for(;t!==document;){if("none"===gS(t,"display"))return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}let vS=0,yS=null;function _S(e,t){if(e.__resize_mutation_handler__||(e.__resize_mutation_handler__=xS.bind(e)),!e.__resize_listeners__)if(e.__resize_listeners__=[],window.ResizeObserver){let{offsetWidth:t,offsetHeight:n}=e,i=new ResizeObserver((()=>{(e.__resize_observer_triggered__||(e.__resize_observer_triggered__=!0,e.offsetWidth!==t||e.offsetHeight!==n))&&wS(e)})),{detached:r,rendered:o}=mS(e);e.__resize_observer_triggered__=!1===r&&!1===o,e.__resize_observer__=i,i.observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){wS(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if(vS||(n='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',(i=document.createElement("style")).type="text/css",i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n)),(document.querySelector("head")||document.body).appendChild(i),yS=i),function(e){let t=gS(e,"position");t&&"static"!==t||(e.style.position="relative");e.__resize_old_position__=t,e.__resize_last__={};let n=pS("div",{className:"resize-triggers"}),i=pS("div",{className:"resize-expand-trigger"}),r=pS("div"),o=pS("div",{className:"resize-contract-trigger"});i.appendChild(r),n.appendChild(i),n.appendChild(o),e.appendChild(n),e.__resize_triggers__={triggers:n,expand:i,expandChild:r,contract:o},SS(e),e.addEventListener("scroll",bS,!0),e.__resize_last__={width:e.offsetWidth,height:e.offsetHeight}}(e),e.__resize_rendered__=mS(e).rendered,window.MutationObserver){let t=new MutationObserver(e.__resize_mutation_handler__);t.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=t}var n,i;e.__resize_listeners__.push(t),vS++}function xS(){let{rendered:e,detached:t}=mS(this);e!==this.__resize_rendered__&&(!t&&this.__resize_triggers__&&(SS(this),this.addEventListener("scroll",bS,!0)),this.__resize_rendered__=e,wS(this))}function bS(){var e,t;SS(this),this.__resize_raf__&&(e=this.__resize_raf__,fS||(fS=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}).bind(window)),fS(e)),this.__resize_raf__=(t=()=>{let e=function(e){let{width:t,height:n}=e.__resize_last__,{offsetWidth:i,offsetHeight:r}=e;return i!==t||r!==n?{width:i,height:r}:null}(this);e&&(this.__resize_last__=e,wS(this))},dS||(dS=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,16)}).bind(window)),dS(t))}function wS(e){e&&e.__resize_listeners__&&e.__resize_listeners__.forEach((t=>{t.call(e,e)}))}function SS(e){let{expand:t,expandChild:n,contract:i}=e.__resize_triggers__,{scrollWidth:r,scrollHeight:o}=i,{offsetWidth:a,offsetHeight:s,scrollWidth:l,scrollHeight:u}=t;i.scrollLeft=r,i.scrollTop=o,n.style.width=a+1+"px",n.style.height=s+1+"px",t.scrollLeft=l,t.scrollTop=u}var MS=c,IS=g,AS=xh,TS=na.isNameSpecified,CS=wm.legend.selector,DS={all:{type:"all",title:IS.clone(CS.all)},inverse:{type:"inverse",title:IS.clone(CS.inverse)}},PS=MS.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(e,t,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{},this._updateSelector(e)},mergeOption:function(e){PS.superCall(this,"mergeOption",e),this._updateSelector(e)},_updateSelector:function(e){var t=e.selector;!0===t&&(t=e.selector=["all","inverse"]),IS.isArray(t)&&IS.each(t,(function(e,n){IS.isString(e)&&(e={type:e}),t[n]=IS.merge(e,DS[e.type])}))},optionUpdated:function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,n=0;n<e.length;n++){var i=e[n].get("name");if(this.isSelected(i)){this.select(i),t=!0;break}}!t&&this.select(e[0].get("name"))}},_updateData:function(e){var t=[],n=[];e.eachRawSeries((function(i){var r,o=i.name;if(n.push(o),i.legendVisualProvider){var a=i.legendVisualProvider.getAllNames();e.isSeriesFiltered(i)||(n=n.concat(a)),a.length?t=t.concat(a):r=!0}else r=!0;r&&TS(i)&&t.push(i.name)})),this._availableNames=n;var i=this.get("data")||t,r=IS.map(i,(function(e){return"string"!=typeof e&&"number"!=typeof e||(e={name:e}),new AS(e,this,this.ecModel)}),this);this._data=r},getData:function(){return this._data},select:function(e){var t=this.option.selected;if("single"===this.get("selectedMode")){var n=this._data;IS.each(n,(function(e){t[e.get("name")]=!1}))}t[e]=!0},unSelect:function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},toggleSelected:function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},allSelect:function(){var e=this._data,t=this.option.selected;IS.each(e,(function(e){t[e.get("name",!0)]=!0}))},inverseSelect:function(){var e=this._data,t=this.option.selected;IS.each(e,(function(e){var n=e.get("name",!0);t.hasOwnProperty(n)||(t[n]=!0),t[n]=!t[n]}))},isSelected:function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&IS.indexOf(this._availableNames,e)>=0},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}}),LS=PS,kS=c,OS=g;function NS(e,t,n){var i,r={},o="toggleSelected"===e;return n.eachComponent("legend",(function(n){o&&null!=i?n[i?"select":"unSelect"](t.name):"allSelect"===e||"inverseSelect"===e?n[e]():(n[e](t.name),i=n.isSelected(t.name));var a=n.getData();OS.each(a,(function(e){var t=e.get("name");if("\n"!==t&&""!==t){var i=n.isSelected(t);r.hasOwnProperty(t)?r[t]=r[t]&&i:r[t]=i}}))})),"allSelect"===e||"inverseSelect"===e?{selected:r}:{name:t.name,selected:r}}kS.registerAction("legendToggleSelect","legendselectchanged",OS.curry(NS,"toggleSelected")),kS.registerAction("legendAllSelect","legendselectall",OS.curry(NS,"allSelect")),kS.registerAction("legendInverseSelect","legendinverseselect",OS.curry(NS,"inverseSelect")),kS.registerAction("legendSelect","legendselected",OS.curry(NS,"select")),kS.registerAction("legendUnSelect","legendunselected",OS.curry(NS,"unSelect"));var RS={},ES=Ih,zS=ES.getLayoutRect,BS=ES.box,VS=ES.positionElement,GS=Ph,FS=Ia;RS.layout=function(e,t,n){var i=t.getBoxLayoutParams(),r=t.get("padding"),o={width:n.getWidth(),height:n.getHeight()},a=zS(i,o,r);BS(t.get("orient"),e,t.get("itemGap"),a.width,a.height),VS(e,i,o,r)},RS.makeBackground=function(e,t){var n=GS.normalizeCssArray(t.get("padding")),i=t.getItemStyle(["color","opacity"]);return i.fill=t.get("backgroundColor"),e=new FS.Rect({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get("borderRadius")},style:i,silent:!0,z2:-1})};var HS=c,WS=g,US=Tb.createSymbol,jS=Ia,ZS=RS.makeBackground,YS=Ih,XS=WS.curry,qS=WS.each,KS=jS.Group;function JS(e,t,n,i,r,o){var a;return"line"!==t&&t.indexOf("empty")<0?(a=n.getItemStyle(),e.style.stroke=i,o||(a.stroke=r)):a=n.getItemStyle(["borderWidth","borderColor"]),e.setStyle(a)}function QS(e,t,n,i){eM(e,t,n,i),n.dispatchAction({type:"legendToggleSelect",name:null!=e?e:t}),$S(e,t,n,i)}function $S(e,t,n,i){var r=n.getZr().storage.getDisplayList()[0];r&&r.useHoverLayer||n.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:i})}function eM(e,t,n,i){var r=n.getZr().storage.getDisplayList()[0];r&&r.useHoverLayer||n.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:i})}var tM=HS.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new KS),this._backgroundEl,this.group.add(this._selectorGroup=new KS),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(e,t,n){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var r=e.get("align"),o=e.get("orient");r&&"auto"!==r||(r="right"===e.get("left")&&"vertical"===o?"right":"left");var a=e.get("selector",!0),s=e.get("selectorPosition",!0);!a||s&&"auto"!==s||(s="horizontal"===o?"end":"start"),this.renderInner(r,e,t,n,a,o,s);var l=e.getBoxLayoutParams(),u={width:n.getWidth(),height:n.getHeight()},c=e.get("padding"),h=YS.getLayoutRect(l,u,c),d=this.layoutInner(e,r,h,i,a,s),f=YS.getLayoutRect(WS.defaults({width:d.width,height:d.height},l),u,c);this.group.attr("position",[f.x-d.x,f.y-d.y]),this.group.add(this._backgroundEl=ZS(d,e))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(e,t,n,i,r,o,a){var s=this.getContentGroup(),l=WS.createHashMap(),u=t.get("selectedMode"),c=[];n.eachRawSeries((function(e){!e.get("legendHoverLink")&&c.push(e.id)})),qS(t.getData(),(function(r,o){var a=r.get("name");if(this.newlineDisabled||""!==a&&"\n"!==a){var h=n.getSeriesByName(a)[0];if(!l.get(a))if(h){var d=h.getData(),f=d.getVisual("color"),p=d.getVisual("borderColor");"function"==typeof f&&(f=f(h.getDataParams(0))),"function"==typeof p&&(p=p(h.getDataParams(0)));var g=d.getVisual("legendSymbol")||"roundRect",m=d.getVisual("symbol");this._createItem(a,o,r,t,g,m,e,f,p,u).on("click",XS(QS,a,null,i,c)).on("mouseover",XS($S,h.name,null,i,c)).on("mouseout",XS(eM,h.name,null,i,c)),l.set(a,!0)}else n.eachRawSeries((function(n){if(!l.get(a)&&n.legendVisualProvider){var s=n.legendVisualProvider;if(!s.containName(a))return;var h=s.indexOfName(a),d=s.getItemVisual(h,"color"),f=s.getItemVisual(h,"borderColor");this._createItem(a,o,r,t,"roundRect",null,e,d,f,u).on("click",XS(QS,null,a,i,c)).on("mouseover",XS($S,null,a,i,c)).on("mouseout",XS(eM,null,a,i,c)),l.set(a,!0)}}),this)}else s.add(new KS({newline:!0}))}),this),r&&this._createSelector(r,t,i,o,a)},_createSelector:function(e,t,n,i,r){var o=this.getSelectorGroup();qS(e,(function(e){!function(e){var i=e.type,r=new jS.Text({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===i?"legendAllSelect":"legendInverseSelect"})}});o.add(r);var a=t.getModel("selectorLabel"),s=t.getModel("emphasis.selectorLabel");jS.setLabelStyle(r.style,r.hoverStyle={},a,s,{defaultText:e.title,isRectText:!1}),jS.setHoverStyle(r)}(e)}))},_createItem:function(e,t,n,i,r,o,a,s,l,u){var c=i.get("itemWidth"),h=i.get("itemHeight"),d=i.get("inactiveColor"),f=i.get("inactiveBorderColor"),p=i.get("symbolKeepAspect"),g=i.getModel("itemStyle"),m=i.isSelected(e),v=new KS,y=n.getModel("textStyle"),_=n.get("icon"),x=n.getModel("tooltip"),b=x.parentModel,w=US(r=_||r,0,0,c,h,m?s:d,null==p||p);if(v.add(JS(w,r,g,l,f,m)),!_&&o&&(o!==r||"none"===o)){var S=.8*h;"none"===o&&(o="circle");var M=US(o,(c-S)/2,(h-S)/2,S,S,m?s:d,null==p||p);v.add(JS(M,o,g,l,f,m))}var I="left"===a?c+5:-5,A=a,T=i.get("formatter"),C=e;"string"==typeof T&&T?C=T.replace("{name}",null!=e?e:""):"function"==typeof T&&(C=T(e)),v.add(new jS.Text({style:jS.setTextStyle({},y,{text:C,x:I,y:h/2,textFill:m?y.getTextColor():d,textAlign:A,textVerticalAlign:"middle"})}));var D=new jS.Rect({shape:v.getBoundingRect(),invisible:!0,tooltip:x.get("show")?WS.extend({content:e,formatter:b.get("formatter",!0)||function(){return e},formatterParams:{componentType:"legend",legendIndex:i.componentIndex,name:e,$vars:["name"]}},x.option):null});return v.add(D),v.eachChild((function(e){e.silent=!0})),D.silent=!u,this.getContentGroup().add(v),jS.setHoverStyle(v),v.__legendDataIndex=t,v},layoutInner:function(e,t,n,i,r,o){var a=this.getContentGroup(),s=this.getSelectorGroup();YS.box(e.get("orient"),a,e.get("itemGap"),n.width,n.height);var l=a.getBoundingRect(),u=[-l.x,-l.y];if(r){YS.box("horizontal",s,e.get("selectorItemGap",!0));var c=s.getBoundingRect(),h=[-c.x,-c.y],d=e.get("selectorButtonGap",!0),f=e.getOrient().index,p=0===f?"width":"height",g=0===f?"height":"width",m=0===f?"y":"x";"end"===o?h[f]+=l[p]+d:u[f]+=c[p]+d,h[1-f]+=l[g]/2-c[g]/2,s.attr("position",h),a.attr("position",u);var v={x:0,y:0};return v[p]=l[p]+d+c[p],v[g]=Math.max(l[g],c[g]),v[m]=Math.min(0,c[m]+h[1-f]),v}return a.attr("position",u),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});var nM=c,iM=function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries((function(e){for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0}))},rM=fd;nM.registerProcessor(nM.PRIORITY.PROCESSOR.SERIES_FILTER,iM),rM.registerSubTypeDefaulter("legend",(function(){return"plain"}));var oM=g,aM=c,sM=Ia,lM=Ih.getLayoutRect,uM=Ph.windowOpen;aM.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),aM.extendComponentView({type:"title",render:function(e,t,n){if(this.group.removeAll(),e.get("show")){var i=this.group,r=e.getModel("textStyle"),o=e.getModel("subtextStyle"),a=e.get("textAlign"),s=oM.retrieve2(e.get("textBaseline"),e.get("textVerticalAlign")),l=new sM.Text({style:sM.setTextStyle({},r,{text:e.get("text"),textFill:r.getTextColor()},{disableBox:!0}),z2:10}),u=l.getBoundingRect(),c=e.get("subtext"),h=new sM.Text({style:sM.setTextStyle({},o,{text:c,textFill:o.getTextColor(),y:u.height+e.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),d=e.get("link"),f=e.get("sublink"),p=e.get("triggerEvent",!0);l.silent=!d&&!p,h.silent=!f&&!p,d&&l.on("click",(function(){uM(d,"_"+e.get("target"))})),f&&h.on("click",(function(){uM(f,"_"+e.get("subtarget"))})),l.eventData=h.eventData=p?{componentType:"title",componentIndex:e.componentIndex}:null,i.add(l),c&&i.add(h);var g=i.getBoundingRect(),m=e.getBoxLayoutParams();m.width=g.width,m.height=g.height;var v=lM(m,{width:n.getWidth(),height:n.getHeight()},e.get("padding"));a||("middle"===(a=e.get("left")||e.get("right"))&&(a="center"),"right"===a?v.x+=v.width:"center"===a&&(v.x+=v.width/2)),s||("center"===(s=e.get("top")||e.get("bottom"))&&(s="middle"),"bottom"===s?v.y+=v.height:"middle"===s&&(v.y+=v.height/2),s=s||"top"),i.attr("position",[v.x,v.y]);var y={textAlign:a,textVerticalAlign:s};l.setStyle(y),h.setStyle(y),g=i.getBoundingRect();var _=v.margin,x=e.getItemStyle(["color","opacity"]);x.fill=e.get("backgroundColor");var b=new sM.Rect({shape:{x:g.x-_[3],y:g.y-_[0],width:g.width+_[1]+_[3],height:g.height+_[0]+_[2],r:e.get("borderRadius")},style:x,subPixelOptimize:!0,silent:!0});i.add(b)}}});var cM=g;function hM(e){return this._axes[e]}var dM=function(e){this._axes={},this._dimList=[],this.name=e||""};dM.prototype={constructor:dM,type:"cartesian",getAxis:function(e){return this._axes[e]},getAxes:function(){return cM.map(this._dimList,hM,this)},getAxesByScale:function(e){return e=e.toLowerCase(),cM.filter(this.getAxes(),(function(t){return t.scale.type===e}))},addAxis:function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},dataToCoord:function(e){return this._dataCoordConvert(e,"dataToCoord")},coordToData:function(e){return this._dataCoordConvert(e,"coordToData")},_dataCoordConvert:function(e,t){for(var n=this._dimList,i=e instanceof Array?[]:{},r=0;r<n.length;r++){var o=n[r],a=this._axes[o];i[o]=a[t](e[o])}return i}};var fM=g,pM=Pn,gM=dM;function mM(e){gM.call(this,e)}mM.prototype={constructor:mM,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var t=this.getAxis("x"),n=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},dataToPoint:function(e,t,n){var i=this.getAxis("x"),r=this.getAxis("y");return(n=n||[])[0]=i.toGlobalCoord(i.dataToCoord(e[0])),n[1]=r.toGlobalCoord(r.dataToCoord(e[1])),n},clampData:function(e,t){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,r=n.getExtent(),o=i.getExtent(),a=n.parse(e[0]),s=i.parse(e[1]);return(t=t||[])[0]=Math.min(Math.max(Math.min(r[0],r[1]),a),Math.max(r[0],r[1])),t[1]=Math.min(Math.max(Math.min(o[0],o[1]),s),Math.max(o[0],o[1])),t},pointToData:function(e,t){var n=this.getAxis("x"),i=this.getAxis("y");return(t=t||[])[0]=n.coordToData(n.toLocalCoord(e[0])),t[1]=i.coordToData(i.toLocalCoord(e[1])),t},getOtherAxis:function(e){return this.getAxis("x"===e.dim?"y":"x")},getArea:function(){var e=this.getAxis("x").getGlobalExtent(),t=this.getAxis("y").getGlobalExtent(),n=Math.min(e[0],e[1]),i=Math.min(t[0],t[1]),r=Math.max(e[0],e[1])-n,o=Math.max(t[0],t[1])-i;return new pM(n,i,r,o)}},fM.inherits(mM,gM);var vM=mM,yM=g,_M=Ww,xM=function(e,t,n,i,r){_M.call(this,e,t,n),this.type=i||"value",this.position=r||"bottom"};xM.prototype={constructor:xM,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},getGlobalExtent:function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},toLocalCoord:null,toGlobalCoord:null},yM.inherits(xM,_M);var bM=xM,wM=g,SM={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},MM={};MM.categoryAxis=wM.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},SM),MM.valueAxis=wM.merge({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},SM),MM.timeAxis=wM.defaults({scale:!0,min:"dataMin",max:"dataMax"},MM.valueAxis),MM.logAxis=wM.defaults({scale:!0,logBase:10},MM.valueAxis);var IM=MM,AM=g,TM=IM,CM=fd,DM=Ih,PM=DM.getLayoutParams,LM=DM.mergeLayoutParam,kM=ix,OM=["value","category","time","log"];var NM=function(e,t,n,i){AM.each(OM,(function(r){t.extend({type:e+"Axis."+r,mergeDefaultAndTheme:function(t,i){var o=this.layoutMode,a=o?PM(t):{},s=i.getTheme();AM.merge(t,s.get(r+"Axis")),AM.merge(t,this.getDefaultOption()),t.type=n(e,t),o&&LM(t,a,o)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=kM.createByAxisModel(this))},getCategories:function(e){var t=this.option;if("category"===t.type)return e?t.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:AM.mergeAll([{},TM[r+"Axis"],i],!0)})})),CM.registerSubTypeDefaulter(e+"Axis",AM.curry(n,e))},RM=g,EM=NM,zM=Ab,BM=fd.extend({type:"cartesian2dAxis",axis:null,init:function(){BM.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){BM.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){BM.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function VM(e,t){return t.type||(t.data?"category":"value")}RM.merge(BM.prototype,zM);var GM={offset:0};EM("x",BM,VM,GM),EM("y",BM,VM,GM),fd.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var FM=g,HM=FM.isObject,WM=FM.each,UM=FM.map,jM=FM.indexOf;FM.retrieve;var ZM=Ih.getLayoutRect,YM=j_,XM=YM.createScaleByModel,qM=YM.ifAxisCrossZero,KM=YM.niceScaleExtent,JM=YM.estimateLabelUnionRect,QM=vM,$M=bM,eI=Ff,tI=C_.getStackedDimension;function nI(e,t,n){return e.getCoordSysModel()===t}function iI(e,t,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(e,t,n),this.model=e}var rI=iI.prototype;function oI(e,t,n,i){n.getAxesOnZeroOf=function(){return r?[r]:[]};var r,o=e[t],a=n.model,s=a.get("axisLine.onZero"),l=a.get("axisLine.onZeroAxisIndex");if(s){if(null!=l)aI(o[l])&&(r=o[l]);else for(var u in o)if(o.hasOwnProperty(u)&&aI(o[u])&&!i[c(o[u])]){r=o[u];break}r&&(i[c(r)]=!0)}function c(e){return e.dim+"_"+e.index}}function aI(e){return e&&"category"!==e.type&&"time"!==e.type&&qM(e)}rI.type="grid",rI.axisPointerEnabled=!0,rI.getRect=function(){return this._rect},rI.update=function(e,t){var n=this._axesMap;this._updateScale(e,this.model),WM(n.x,(function(e){KM(e.scale,e.model)})),WM(n.y,(function(e){KM(e.scale,e.model)}));var i={};WM(n.x,(function(e){oI(n,"y",e,i)})),WM(n.y,(function(e){oI(n,"x",e,i)})),this.resize(this.model,t)},rI.resize=function(e,t,n){var i=ZM(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._rect=i;var r=this._axesList;function o(){WM(r,(function(e){var t=e.isHorizontal(),n=t?[0,i.width]:[0,i.height],r=e.inverse?1:0;e.setExtent(n[r],n[1-r]),function(e,t){var n=e.getExtent(),i=n[0]+n[1];e.toGlobalCoord="x"===e.dim?function(e){return e+t}:function(e){return i-e+t},e.toLocalCoord="x"===e.dim?function(e){return e-t}:function(e){return i-e+t}}(e,t?i.x:i.y)}))}o(),!n&&e.get("containLabel")&&(WM(r,(function(e){if(!e.model.get("axisLabel.inside")){var t=JM(e);if(t){var n=e.isHorizontal()?"height":"width",r=e.model.get("axisLabel.margin");i[n]-=t[n]+r,"top"===e.position?i.y+=t.height+r:"left"===e.position&&(i.x+=t.width+r)}}})),o())},rI.getAxis=function(e,t){var n=this._axesMap[e];if(null!=n){if(null==t)for(var i in n)if(n.hasOwnProperty(i))return n[i];return n[t]}},rI.getAxes=function(){return this._axesList.slice()},rI.getCartesian=function(e,t){if(null!=e&&null!=t){var n="x"+e+"y"+t;return this._coordsMap[n]}HM(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,r=this._coordsList;i<r.length;i++)if(r[i].getAxis("x").index===e||r[i].getAxis("y").index===t)return r[i]},rI.getCartesians=function(){return this._coordsList.slice()},rI.convertToPixel=function(e,t,n){var i=this._findConvertTarget(e,t);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},rI.convertFromPixel=function(e,t,n){var i=this._findConvertTarget(e,t);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},rI._findConvertTarget=function(e,t){var n,i,r=t.seriesModel,o=t.xAxisModel||r&&r.getReferringComponents("xAxis")[0],a=t.yAxisModel||r&&r.getReferringComponents("yAxis")[0],s=t.gridModel,l=this._coordsList;if(r)n=r.coordinateSystem,jM(l,n)<0&&(n=null);else if(o&&a)n=this.getCartesian(o.componentIndex,a.componentIndex);else if(o)i=this.getAxis("x",o.componentIndex);else if(a)i=this.getAxis("y",a.componentIndex);else if(s){s.coordinateSystem===this&&(n=this._coordsList[0])}return{cartesian:n,axis:i}},rI.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},rI._initCartesian=function(e,t,n){var i={left:!1,right:!1,top:!1,bottom:!1},r={x:{},y:{}},o={x:0,y:0};if(t.eachComponent("xAxis",a("x"),this),t.eachComponent("yAxis",a("y"),this),!o.x||!o.y)return this._axesMap={},void(this._axesList=[]);function a(t){return function(n,a){if(nI(n,e)){var s=n.get("position");"x"===t?"top"!==s&&"bottom"!==s&&(s=i.bottom?"top":"bottom"):"left"!==s&&"right"!==s&&(s=i.left?"right":"left"),i[s]=!0;var l=new $M(t,XM(n),[0,0],n.get("type"),s),u="category"===l.type;l.onBand=u&&n.get("boundaryGap"),l.inverse=n.get("inverse"),n.axis=l,l.model=n,l.grid=this,l.index=a,this._axesList.push(l),r[t][a]=l,o[t]++}}}this._axesMap=r,WM(r.x,(function(t,n){WM(r.y,(function(i,r){var o="x"+n+"y"+r,a=new QM(o);a.grid=this,a.model=e,this._coordsMap[o]=a,this._coordsList.push(a),a.addAxis(t),a.addAxis(i)}),this)}),this)},rI._updateScale=function(e,t){function n(e,t,n){WM(e.mapDimension(t.dim,!0),(function(n){t.scale.unionExtentFromData(e,tI(e,n))}))}WM(this._axesList,(function(e){e.scale.setExtent(1/0,-1/0)})),e.eachSeries((function(e){if(uI(e)){var i=lI(e),r=i[0],o=i[1];if(!nI(r,t)||!nI(o,t))return;var a=this.getCartesian(r.componentIndex,o.componentIndex),s=e.getData(),l=a.getAxis("x"),u=a.getAxis("y");"list"===s.type&&(n(s,l),n(s,u))}}),this)},rI.getTooltipAxes=function(e){var t=[],n=[];return WM(this.getCartesians(),(function(i){var r=null!=e&&"auto"!==e?i.getAxis(e):i.getBaseAxis(),o=i.getOtherAxis(r);jM(t,r)<0&&t.push(r),jM(n,o)<0&&n.push(o)})),{baseAxes:t,otherAxes:n}};var sI=["xAxis","yAxis"];function lI(e,t){return UM(sI,(function(t){return e.getReferringComponents(t)[0]}))}function uI(e){return"cartesian2d"===e.get("coordinateSystem")}iI.create=function(e,t){var n=[];return e.eachComponent("grid",(function(i,r){var o=new iI(i,e,t);o.name="grid_"+r,o.resize(i,t,!0),i.coordinateSystem=o,n.push(o)})),e.eachSeries((function(e){if(uI(e)){var t=lI(e),n=t[0],i=t[1],r=n.getCoordSysModel().coordinateSystem;e.coordinateSystem=r.getCartesian(n.componentIndex,i.componentIndex)}})),n},iI.dimensions=iI.prototype.dimensions=QM.prototype.dimensions,eI.register("cartesian2d",iI);var cI=U_,hI=Hg.extend({type:"series.__base_bar__",getInitialData:function(e,t){return cI(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(e){var t=this.coordinateSystem;if(t){var n=t.dataToPoint(t.clampData(e)),i=this.getData(),r=i.getLayout("offset"),o=i.getLayout("size");return n[t.getBaseAxis().isHorizontal()?0:1]+=r+o/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});hI.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});var dI={},fI={},pI=Cp.retrieveRawValue;fI.getDefaultLabel=function(e,t){var n=e.mapDimension("defaultedLabel",!0),i=n.length;if(1===i)return pI(e,t,n[0]);if(i){for(var r=[],o=0;o<n.length;o++){var a=pI(e,t,n[o]);r.push(a)}return r.join(" ")}};var gI=Ia,mI=fI.getDefaultLabel;function vI(e,t){"outside"===e.textPosition&&(e.textPosition=t)}dI.setLabel=function(e,t,n,i,r,o,a){var s=n.getModel("label"),l=n.getModel("emphasis.label");gI.setLabelStyle(e,t,s,l,{labelFetcher:r,labelDataIndex:o,defaultText:mI(r.getData(),o),isRectText:!0,autoColor:i}),vI(e),vI(t)};var yI=xa([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),_I={getBarItemStyle:function(e){var t=yI(this,e);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(t.lineDash=n)}return t}},xI={},bI=Ia,wI=Ah.round;function SI(e,t,n){var i=e.getArea(),r=e.getBaseAxis().isHorizontal(),o=i.x,a=i.y,s=i.width,l=i.height,u=n.get("lineStyle.width")||2;o-=u/2,a-=u/2,s+=u,l+=u,o=Math.floor(o),s=Math.round(s);var c=new bI.Rect({shape:{x:o,y:a,width:s,height:l}});return t&&(c.shape[r?"width":"height"]=0,bI.initProps(c,{shape:{width:s,height:l}},n)),c}function MI(e,t,n){var i=e.getArea(),r=new bI.Sector({shape:{cx:wI(e.cx,1),cy:wI(e.cy,1),r0:wI(i.r0,1),r:wI(i.r,1),startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return t&&(r.shape.endAngle=i.startAngle,bI.initProps(r,{shape:{endAngle:i.endAngle}},n)),r}xI.createGridClipPath=SI,xI.createPolarClipPath=MI,xI.createClipPath=function(e,t,n){return e?"polar"===e.type?MI(e,t,n):"cartesian2d"===e.type?SI(e,t,n):null:null};var II=(0,Ia.extendShape)({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(e,t){var n=t.cx,i=t.cy,r=Math.max(t.r0||0,0),o=Math.max(t.r,0),a=.5*(o-r),s=r+a,l=t.startAngle,u=t.endAngle,c=t.clockwise,h=Math.cos(l),d=Math.sin(l),f=Math.cos(u),p=Math.sin(u);(c?u-l<2*Math.PI:l-u<2*Math.PI)&&(e.moveTo(h*r+n,d*r+i),e.arc(h*s+n,d*s+i,a,-Math.PI+l,l,!c)),e.arc(n,i,o,l,u,!c),e.moveTo(f*o+n,p*o+i),e.arc(f*s+n,p*s+i,a,u-2*Math.PI,u-Math.PI,!c),0!==r&&(e.arc(n,i,r,u,l,c),e.moveTo(h*r+n,p*r+i)),e.closePath()}}),AI=c,TI=g,CI=Ia,DI=dI.setLabel,PI=xh,LI=_I,kI=nl,OI=Rn,NI=gm.throttle,RI=xI.createClipPath,EI=II,zI=["itemStyle","barBorderWidth"],BI=[0,0];TI.extend(PI.prototype,LI),AI.extendChartView({type:"bar",render:function(e,t,n){this._updateDrawMode(e);var i=e.get("coordinateSystem");return"cartesian2d"!==i&&"polar"!==i||(this._isLargeDraw?this._renderLarge(e,t,n):this._renderNormal(e,t,n)),this.group},incrementalPrepareRender:function(e,t,n){this._clear(),this._updateDrawMode(e)},incrementalRender:function(e,t,n,i){this._incrementalRenderLarge(e,t)},_updateDrawMode:function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(e,t,n){var i,r=this.group,o=e.getData(),a=this._data,s=e.coordinateSystem,l=s.getBaseAxis();"cartesian2d"===s.type?i=l.isHorizontal():"polar"===s.type&&(i="angle"===l.dim);var u=e.isAnimationEnabled()?e:null,c=e.get("clip",!0),h=function(e,t){var n=e.getArea&&e.getArea();if("cartesian2d"===e.type){var i=e.getBaseAxis();if("category"!==i.type||!i.onBand){var r=t.getLayout("bandWidth");i.isHorizontal()?(n.x-=r,n.width+=2*r):(n.y-=r,n.height+=2*r)}}return n}(s,o);r.removeClipPath();var d=e.get("roundCap",!0),f=e.get("showBackground",!0),p=e.getModel("backgroundStyle"),g=p.get("barBorderRadius")||0,m=[],v=this._backgroundEls||[],y=function(e){var t=jI[s.type](o,e),n=function(e,t,n){return new("polar"===e.type?CI.Sector:CI.Rect)({shape:JI(t,n,e),silent:!0,z2:0})}(s,i,t);return n.useStyle(p.getBarItemStyle()),"cartesian2d"===s.type&&n.setShape("r",g),m[e]=n,n};o.diff(a).add((function(t){var n=o.getItemModel(t),a=jI[s.type](o,t,n);if(f&&y(t),o.hasValue(t)){if(c)if(FI[s.type](h,a))return void r.remove(l);var l=HI[s.type](t,a,i,u,!1,d);o.setItemGraphicEl(t,l),r.add(l),YI(l,o,t,n,a,e,i,"polar"===s.type)}})).update((function(t,n){var l=o.getItemModel(t),_=jI[s.type](o,t,l);if(f){var x;0===v.length?x=y(n):((x=v[n]).useStyle(p.getBarItemStyle()),"cartesian2d"===s.type&&x.setShape("r",g),m[t]=x);var b=jI[s.type](o,t),w=JI(i,b,s);CI.updateProps(x,{shape:w},u,t)}var S=a.getItemGraphicEl(n);if(o.hasValue(t)){if(c)if(FI[s.type](h,_))return void r.remove(S);S?CI.updateProps(S,{shape:_},u,t):S=HI[s.type](t,_,i,u,!0,d),o.setItemGraphicEl(t,S),r.add(S),YI(S,o,t,l,_,e,i,"polar"===s.type)}else r.remove(S)})).remove((function(e){var t=a.getItemGraphicEl(e);"cartesian2d"===s.type?t&&WI(e,u,t):t&&UI(e,u,t)})).execute();var _=this._backgroundGroup||(this._backgroundGroup=new OI);_.removeAll();for(var x=0;x<m.length;++x)_.add(m[x]);r.add(_),this._backgroundEls=m,this._data=o},_renderLarge:function(e,t,n){this._clear(),qI(e,this.group);var i=e.get("clip",!0)?RI(e.coordinateSystem,!1,e):null;i?this.group.setClipPath(i):this.group.removeClipPath()},_incrementalRenderLarge:function(e,t){this._removeBackground(),qI(t,this.group,!0)},dispose:TI.noop,remove:function(e){this._clear(e)},_clear:function(e){var t=this.group,n=this._data;e&&e.get("animation")&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl((function(t){"sector"===t.type?UI(t.dataIndex,e,t):WI(t.dataIndex,e,t)}))):t.removeAll(),this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null}});var VI=Math.max,GI=Math.min,FI={cartesian2d:function(e,t){var n=t.width<0?-1:1,i=t.height<0?-1:1;n<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height);var r=VI(t.x,e.x),o=GI(t.x+t.width,e.x+e.width),a=VI(t.y,e.y),s=GI(t.y+t.height,e.y+e.height);t.x=r,t.y=a,t.width=o-r,t.height=s-a;var l=t.width<0||t.height<0;return n<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height),l},polar:function(e,t){var n=t.r0<=t.r?1:-1;if(n<0){var i=t.r;t.r=t.r0,t.r0=i}i=GI(t.r,e.r);var r=VI(t.r0,e.r0);t.r=i,t.r0=r;var o=i-r<0;if(n<0){i=t.r;t.r=t.r0,t.r0=i}return o}},HI={cartesian2d:function(e,t,n,i,r){var o=new CI.Rect({shape:TI.extend({},t),z2:1});if(o.name="item",i){var a=n?"height":"width",s={};o.shape[a]=0,s[a]=t[a],CI[r?"updateProps":"initProps"](o,{shape:s},i,e)}return o},polar:function(e,t,n,i,r,o){var a=t.startAngle<t.endAngle,s=new(!n&&o?EI:CI.Sector)({shape:TI.defaults({clockwise:a},t),z2:1});if(s.name="item",i){var l=n?"r":"endAngle",u={};s.shape[l]=n?0:t.startAngle,u[l]=t[l],CI[r?"updateProps":"initProps"](s,{shape:u},i,e)}return s}};function WI(e,t,n){n.style.text=null,CI.updateProps(n,{shape:{width:0}},t,e,(function(){n.parent&&n.parent.remove(n)}))}function UI(e,t,n){n.style.text=null,CI.updateProps(n,{shape:{r:n.shape.r0}},t,e,(function(){n.parent&&n.parent.remove(n)}))}var jI={cartesian2d:function(e,t,n){var i=e.getItemLayout(t),r=n?function(e,t){var n=e.get(zI)||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),r=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(n,i,r)}(n,i):0,o=i.width>0?1:-1,a=i.height>0?1:-1;return{x:i.x+o*r/2,y:i.y+a*r/2,width:i.width-o*r,height:i.height-a*r}},polar:function(e,t,n){var i=e.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle}}};function ZI(e){return null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle}function YI(e,t,n,i,r,o,a,s){var l=t.getItemVisual(n,"color"),u=t.getItemVisual(n,"opacity"),c=t.getVisual("borderColor"),h=i.getModel("itemStyle"),d=i.getModel("emphasis.itemStyle").getBarItemStyle();s||e.setShape("r",h.get("barBorderRadius")||0),e.useStyle(TI.defaults({stroke:ZI(r)?"none":c,fill:ZI(r)?"none":l,opacity:u},h.getBarItemStyle()));var f=i.getShallow("cursor");f&&e.attr("cursor",f);var p=a?r.height>0?"bottom":"top":r.width>0?"left":"right";s||DI(e.style,d,i,l,o,n,p),ZI(r)&&(d.fill=d.stroke="none"),CI.setHoverStyle(e,d)}var XI=kI.extend({type:"largeBar",shape:{points:[]},buildPath:function(e,t){for(var n=t.points,i=this.__startPoint,r=this.__baseDimIdx,o=0;o<n.length;o+=2)i[r]=n[o+r],e.moveTo(i[0],i[1]),e.lineTo(n[o],n[o+1])}});function qI(e,t,n){var i=e.getData(),r=[],o=i.getLayout("valueAxisHorizontal")?1:0;r[1-o]=i.getLayout("valueAxisStart");var a=i.getLayout("largeDataIndices"),s=i.getLayout("barWidth"),l=e.getModel("backgroundStyle");if(e.get("showBackground",!0)){var u=i.getLayout("largeBackgroundPoints"),c=[];c[1-o]=i.getLayout("backgroundStart");var h=new XI({shape:{points:u},incremental:!!n,__startPoint:c,__baseDimIdx:o,__largeDataIndices:a,__barWidth:s,silent:!0,z2:0});!function(e,t,n){var i=t.get("borderColor")||t.get("color"),r=t.getItemStyle(["color","borderColor"]);e.useStyle(r),e.style.fill=null,e.style.stroke=i,e.style.lineWidth=n.getLayout("barWidth")}(h,l,i),t.add(h)}var d=new XI({shape:{points:i.getLayout("largePoints")},incremental:!!n,__startPoint:r,__baseDimIdx:o,__largeDataIndices:a,__barWidth:s});t.add(d),function(e,t,n){var i=n.getVisual("borderColor")||n.getVisual("color"),r=t.getModel("itemStyle").getItemStyle(["color","borderColor"]);e.useStyle(r),e.style.fill=null,e.style.stroke=i,e.style.lineWidth=n.getLayout("barWidth")}(d,e,i),d.seriesIndex=e.seriesIndex,e.get("silent")||(d.on("mousedown",KI),d.on("mousemove",KI))}var KI=NI((function(e){var t=function(e,t,n){var i=e.__baseDimIdx,r=1-i,o=e.shape.points,a=e.__largeDataIndices,s=Math.abs(e.__barWidth/2),l=e.__startPoint[r];BI[0]=t,BI[1]=n;for(var u=BI[i],c=BI[1-i],h=u-s,d=u+s,f=0,p=o.length/2;f<p;f++){var g=2*f,m=o[g+i],v=o[g+r];if(m>=h&&m<=d&&(l<=v?c>=l&&c<=v:c>=v&&c<=l))return a[f]}return-1}(this,e.offsetX,e.offsetY);this.dataIndex=t>=0?t:null}),30,!1);function JI(e,t,n){var i,r="polar"===n.type;return i=r?n.getArea():n.grid.getRect(),r?{cx:i.cx,cy:i.cy,r0:e?i.r0:t.r0,r:e?i.r:t.r,startAngle:e?t.startAngle:0,endAngle:e?t.endAngle:2*Math.PI}:{x:e?t.x:i.x,y:e?i.y:t.y,width:e?t.width:i.width,height:e?i.height:t.height}}var QI=g,$I=QI.retrieve,eA=QI.defaults,tA=QI.extend,nA=QI.each,iA=Ph,rA=Ia,oA=xh,aA=Ah,sA=aA.isRadianAroundZero,lA=aA.remRadian,uA=Tb.createSymbol,cA=Fe,hA=V.applyTransform,dA=j_.shouldShowAllLabels,fA=Math.PI,pA=function(e,t){this.opt=t,this.axisModel=e,eA(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new rA.Group;var n=new rA.Group({position:t.position.slice(),rotation:t.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n};pA.prototype={constructor:pA,hasBuilder:function(e){return!!gA[e]},add:function(e){gA[e].call(this)},getGroup:function(){return this.group}};var gA={axisLine:function(){var e=this.opt,t=this.axisModel;if(t.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),i=this._transform,r=[n[0],0],o=[n[1],0];i&&(hA(r,r,i),hA(o,o,i));var a=tA({lineCap:"round"},t.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new rA.Line({anid:"line",subPixelOptimize:!0,shape:{x1:r[0],y1:r[1],x2:o[0],y2:o[1]},style:a,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1}));var s=t.get("axisLine.symbol"),l=t.get("axisLine.symbolSize"),u=t.get("axisLine.symbolOffset")||0;if("number"==typeof u&&(u=[u,u]),null!=s){"string"==typeof s&&(s=[s,s]),"string"!=typeof l&&"number"!=typeof l||(l=[l,l]);var c=l[0],h=l[1];nA([{rotate:e.rotation+Math.PI/2,offset:u[0],r:0},{rotate:e.rotation-Math.PI/2,offset:u[1],r:Math.sqrt((r[0]-o[0])*(r[0]-o[0])+(r[1]-o[1])*(r[1]-o[1]))}],(function(t,n){if("none"!==s[n]&&null!=s[n]){var i=uA(s[n],-c/2,-h/2,c,h,a.stroke,!0),o=t.r+t.offset,l=[r[0]+o*Math.cos(e.rotation),r[1]-o*Math.sin(e.rotation)];i.attr({rotation:t.rotate,position:l,silent:!0,z2:11}),this.group.add(i)}}),this)}}},axisTickLabel:function(){var e=this.axisModel,t=this.opt,n=function(e,t,n){var i=t.axis,r=t.getModel("axisTick");if(!r.get("show")||i.scale.isBlank())return;for(var o=r.getModel("lineStyle"),a=n.tickDirection*r.get("length"),s=wA(i.getTicksCoords(),e._transform,a,eA(o.getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")}),"ticks"),l=0;l<s.length;l++)e.group.add(s[l]);return s}(this,e,t),i=function(e,t,n){var i=t.axis;if(!$I(n.axisLabelShow,t.get("axisLabel.show"))||i.scale.isBlank())return;var r=t.getModel("axisLabel"),o=r.get("margin"),a=i.getViewLabels(),s=($I(n.labelRotate,r.get("rotate"))||0)*fA/180,l=vA(n.rotation,s,n.labelDirection),u=t.getCategories&&t.getCategories(!0),c=[],h=yA(t),d=t.get("triggerEvent");return nA(a,(function(a,s){var f=a.tickValue,p=a.formattedLabel,g=a.rawLabel,m=r;u&&u[f]&&u[f].textStyle&&(m=new oA(u[f].textStyle,r,t.ecModel));var v=m.getTextColor()||t.get("axisLine.lineStyle.color"),y=[i.dataToCoord(f),n.labelOffset+n.labelDirection*o],_=new rA.Text({anid:"label_"+f,position:y,rotation:l.rotation,silent:h,z2:10});rA.setTextStyle(_.style,m,{text:p,textAlign:m.getShallow("align",!0)||l.textAlign,textVerticalAlign:m.getShallow("verticalAlign",!0)||m.getShallow("baseline",!0)||l.textVerticalAlign,textFill:"function"==typeof v?v("category"===i.type?g:"value"===i.type?f+"":f,s):v}),d&&(_.eventData=mA(t),_.eventData.targetType="axisLabel",_.eventData.value=g),e._dumbGroup.add(_),_.updateTransform(),c.push(_),e.group.add(_),_.decomposeTransform()})),c}(this,e,t);!function(e,t,n){if(dA(e.axis))return;var i=e.get("axisLabel.showMinLabel"),r=e.get("axisLabel.showMaxLabel");n=n||[];var o=(t=t||[])[0],a=t[1],s=t[t.length-1],l=t[t.length-2],u=n[0],c=n[1],h=n[n.length-1],d=n[n.length-2];!1===i?(_A(o),_A(u)):xA(o,a)&&(i?(_A(a),_A(c)):(_A(o),_A(u)));!1===r?(_A(s),_A(h)):xA(l,s)&&(r?(_A(l),_A(d)):(_A(s),_A(h)))}(e,i,n),function(e,t,n){var i=t.axis,r=t.getModel("minorTick");if(!r.get("show")||i.scale.isBlank())return;var o=i.getMinorTicksCoords();if(!o.length)return;for(var a=r.getModel("lineStyle"),s=n.tickDirection*r.get("length"),l=eA(a.getLineStyle(),eA(t.getModel("axisTick").getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")})),u=0;u<o.length;u++)for(var c=wA(o[u],e._transform,s,l,"minorticks_"+u),h=0;h<c.length;h++)e.group.add(c[h])}(this,e,t)},axisName:function(){var e=this.opt,t=this.axisModel,n=$I(e.axisName,t.get("name"));if(n){var i,r,o=t.get("nameLocation"),a=e.nameDirection,s=t.getModel("nameTextStyle"),l=t.get("nameGap")||0,u=this.axisModel.axis.getExtent(),c=u[0]>u[1]?-1:1,h=["start"===o?u[0]-c*l:"end"===o?u[1]+c*l:(u[0]+u[1])/2,bA(o)?e.labelOffset+a*l:0],d=t.get("nameRotate");null!=d&&(d=d*fA/180),bA(o)?i=vA(e.rotation,null!=d?d:e.rotation,a):(i=function(e,t,n,i){var r,o,a=lA(n-e.rotation),s=i[0]>i[1],l="start"===t&&!s||"start"!==t&&s;sA(a-fA/2)?(o=l?"bottom":"top",r="center"):sA(a-1.5*fA)?(o=l?"top":"bottom",r="center"):(o="middle",r=a<1.5*fA&&a>fA/2?l?"left":"right":l?"right":"left");return{rotation:a,textAlign:r,textVerticalAlign:o}}(e,o,d||0,u),null!=(r=e.axisNameAvailableWidth)&&(r=Math.abs(r/Math.sin(i.rotation)),!isFinite(r)&&(r=null)));var f=s.getFont(),p=t.get("nameTruncate",!0)||{},g=p.ellipsis,m=$I(e.nameTruncateMaxWidth,p.maxWidth,r),v=null!=g&&null!=m?iA.truncateText(n,m,f,g,{minChar:2,placeholder:p.placeholder}):n,y=t.get("tooltip",!0),_=t.mainType,x={componentType:_,name:n,$vars:["name"]};x[_+"Index"]=t.componentIndex;var b=new rA.Text({anid:"name",__fullText:n,__truncatedText:v,position:h,rotation:i.rotation,silent:yA(t),z2:1,tooltip:y&&y.show?tA({content:n,formatter:function(){return n},formatterParams:x},y):null});rA.setTextStyle(b.style,s,{text:v,textFont:f,textFill:s.getTextColor()||t.get("axisLine.lineStyle.color"),textAlign:s.get("align")||i.textAlign,textVerticalAlign:s.get("verticalAlign")||i.textVerticalAlign}),t.get("triggerEvent")&&(b.eventData=mA(t),b.eventData.targetType="axisName",b.eventData.name=n),this._dumbGroup.add(b),b.updateTransform(),this.group.add(b),b.decomposeTransform()}}},mA=pA.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},vA=pA.innerTextLayout=function(e,t,n){var i,r,o=lA(t-e);return sA(o)?(r=n>0?"top":"bottom",i="center"):sA(o-fA)?(r=n>0?"bottom":"top",i="center"):(r="middle",i=o>0&&o<fA?n>0?"right":"left":n>0?"left":"right"),{rotation:o,textAlign:i,textVerticalAlign:r}};var yA=pA.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)};function _A(e){e&&(e.ignore=!0)}function xA(e,t,n){var i=e&&e.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(i&&r){var o=cA.identity([]);return cA.rotate(o,o,-e.rotation),i.applyTransform(cA.mul([],o,e.getLocalTransform())),r.applyTransform(cA.mul([],o,t.getLocalTransform())),i.intersect(r)}}function bA(e){return"middle"===e||"center"===e}function wA(e,t,n,i,r){for(var o=[],a=[],s=[],l=0;l<e.length;l++){var u=e[l].coord;a[0]=u,a[1]=0,s[0]=u,s[1]=n,t&&(hA(a,a,t),hA(s,s,t));var c=new rA.Line({anid:r+"_"+e[l].tickValue,subPixelOptimize:!0,shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:i,z2:2,silent:!0});o.push(c)}return o}var SA=pA,MA={},IA=g,AA=xh,TA=IA.each,CA=IA.curry;function DA(e,t){return"all"===e||IA.isArray(e)&&IA.indexOf(e,t)>=0||e===t}function PA(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[kA(e)]}function LA(e){return!!e.get("handle.show")}function kA(e){return e.type+"||"+e.id}MA.collect=function(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(e,t,n){var i=t.getComponent("tooltip"),r=t.getComponent("axisPointer"),o=r.get("link",!0)||[],a=[];TA(n.getCoordinateSystems(),(function(n){if(n.axisPointerEnabled){var s=kA(n.model),l=e.coordSysAxesInfo[s]={};e.coordSysMap[s]=n;var u=n.model.getModel("tooltip",i);if(TA(n.getAxes(),CA(f,!1,null)),n.getTooltipAxes&&i&&u.get("show")){var c="axis"===u.get("trigger"),h="cross"===u.get("axisPointer.type"),d=n.getTooltipAxes(u.get("axisPointer.axis"));(c||h)&&TA(d.baseAxes,CA(f,!h||"cross",c)),h&&TA(d.otherAxes,CA(f,"cross",!1))}}function f(i,s,c){var h=c.model.getModel("axisPointer",r),d=h.get("show");if(d&&("auto"!==d||i||LA(h))){null==s&&(s=h.get("triggerTooltip"));var f=(h=i?function(e,t,n,i,r,o){var a=t.getModel("axisPointer"),s={};TA(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],(function(e){s[e]=IA.clone(a.get(e))})),s.snap="category"!==e.type&&!!o,"cross"===a.get("type")&&(s.type="line");var l=s.label||(s.label={});if(null==l.show&&(l.show=!1),"cross"===r){var u=a.get("label.show");if(l.show=null==u||u,!o){var c=s.lineStyle=a.get("crossStyle");c&&IA.defaults(l,c.textStyle)}}return e.model.getModel("axisPointer",new AA(s,n,i))}(c,u,r,t,i,s):h).get("snap"),p=kA(c.model),g=s||f||"category"===c.type,m=e.axesInfo[p]={key:p,axis:c,coordSys:n,axisPointerModel:h,triggerTooltip:s,involveSeries:g,snap:f,useHandle:LA(h),seriesModels:[]};l[p]=m,e.seriesInvolved|=g;var v=function(e,t){for(var n=t.model,i=t.dim,r=0;r<e.length;r++){var o=e[r]||{};if(DA(o[i+"AxisId"],n.id)||DA(o[i+"AxisIndex"],n.componentIndex)||DA(o[i+"AxisName"],n.name))return r}}(o,c);if(null!=v){var y=a[v]||(a[v]={axesInfo:{}});y.axesInfo[p]=m,y.mapper=o[v].mapper,m.linkGroup=y}}}}))}(n,e,t),n.seriesInvolved&&function(e,t){t.eachSeries((function(t){var n=t.coordinateSystem,i=t.get("tooltip.trigger",!0),r=t.get("tooltip.show",!0);n&&"none"!==i&&!1!==i&&"item"!==i&&!1!==r&&!1!==t.get("axisPointer.show",!0)&&TA(e.coordSysAxesInfo[kA(n.model)],(function(e){var i=e.axis;n.getAxis(i.dim)===i&&(e.seriesModels.push(t),null==e.seriesDataCount&&(e.seriesDataCount=0),e.seriesDataCount+=t.getData().count())}))}),this)}(n,e),n},MA.fixValue=function(e){var t=PA(e);if(t){var n=t.axisPointerModel,i=t.axis.scale,r=n.option,o=n.get("status"),a=n.get("value");null!=a&&(a=i.parse(a));var s=LA(n);null==o&&(r.status=s?"show":"hide");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==a||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),r.value=a,s&&(r.status=t.axis.scale.isBlank()?"hide":"show")}},MA.getAxisInfo=PA,MA.getAxisPointerModel=function(e){var t=PA(e);return t&&t.axisPointerModel},MA.makeKey=kA;var OA=MA,NA=c.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(e,t,n,i){this.axisPointerClass&&OA.fixValue(e),NA.superApply(this,"render",arguments),RA(this,e,t,n,i,!0)},updateAxisPointer:function(e,t,n,i,r){RA(this,e,t,n,i,!1)},remove:function(e,t){var n=this._axisPointer;n&&n.remove(t),NA.superApply(this,"remove",arguments)},dispose:function(e,t){EA(this,t),NA.superApply(this,"dispose",arguments)}});function RA(e,t,n,i,r,o){var a=NA.getAxisPointerClass(e.axisPointerClass);if(a){var s=OA.getAxisPointerModel(t);s?(e._axisPointer||(e._axisPointer=new a)).render(t,s,i,o):EA(e,i)}}function EA(e,t,n){var i=e._axisPointer;i&&i.dispose(t,n),e._axisPointer=null}var zA=[];NA.registerAxisPointerClass=function(e,t){zA[e]=t},NA.getAxisPointerClass=function(e){return e&&zA[e]};var BA=NA,VA={},GA=g;VA.layout=function(e,t,n){n=n||{};var i=e.coordinateSystem,r=t.axis,o={},a=r.getAxesOnZeroOf()[0],s=r.position,l=a?"onZero":s,u=r.dim,c=i.getRect(),h=[c.x,c.x+c.width,c.y,c.y+c.height],d={left:0,right:1,top:0,bottom:1,onZero:2},f=t.get("offset")||0,p="x"===u?[h[2]-f,h[3]+f]:[h[0]-f,h[1]+f];if(a){var g=a.toGlobalCoord(a.dataToCoord(0));p[d.onZero]=Math.max(Math.min(g,p[1]),p[0])}o.position=["y"===u?p[d[l]]:h[0],"x"===u?p[d[l]]:h[3]],o.rotation=Math.PI/2*("x"===u?0:1),o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],o.labelOffset=a?p[d[s]]-p[d.onZero]:0,t.get("axisTick.inside")&&(o.tickDirection=-o.tickDirection),GA.retrieve(n.labelInside,t.get("axisLabel.inside"))&&(o.labelDirection=-o.labelDirection);var m=t.get("axisLabel.rotate");return o.labelRotate="top"===l?-m:m,o.z2=1,o};var FA={},HA=g,WA=Ia;FA.rectCoordAxisBuildSplitArea=function(e,t,n,i){var r=n.axis;if(!r.scale.isBlank()){var o=n.getModel("splitArea"),a=o.getModel("areaStyle"),s=a.get("color"),l=i.coordinateSystem.getRect(),u=r.getTicksCoords({tickModel:o,clamp:!0});if(u.length){var c=s.length,h=e.__splitAreaColors,d=HA.createHashMap(),f=0;if(h)for(var p=0;p<u.length;p++){var g=h.get(u[p].tickValue);if(null!=g){f=(g+(c-1)*p)%c;break}}var m=r.toGlobalCoord(u[0].coord),v=a.getAreaStyle();s=HA.isArray(s)?s:[s];for(p=1;p<u.length;p++){var y,_,x,b,w=r.toGlobalCoord(u[p].coord);r.isHorizontal()?(y=m,_=l.y,x=w-y,b=l.height,m=y+x):(y=l.x,_=m,x=l.width,m=_+(b=w-_));var S=u[p-1].tickValue;null!=S&&d.set(S,f),t.add(new WA.Rect({anid:null!=S?"area_"+S:null,shape:{x:y,y:_,width:x,height:b},style:HA.defaults({fill:s[f]},v),silent:!0})),f=(f+1)%c}e.__splitAreaColors=d}}},FA.rectCoordAxisHandleRemove=function(e){e.__splitAreaColors=null};var UA=g,jA=Ia,ZA=SA,YA=BA,XA=VA,qA=FA,KA=qA.rectCoordAxisBuildSplitArea,JA=qA.rectCoordAxisHandleRemove,QA=["axisLine","axisTickLabel","axisName"],$A=["splitArea","splitLine","minorSplitLine"],eT=YA.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(e,t,n,i){this.group.removeAll();var r=this._axisGroup;if(this._axisGroup=new jA.Group,this.group.add(this._axisGroup),e.get("show")){var o=e.getCoordSysModel(),a=XA.layout(o,e),s=new ZA(e,a);UA.each(QA,s.add,s),this._axisGroup.add(s.getGroup()),UA.each($A,(function(t){e.get(t+".show")&&this["_"+t](e,o)}),this),jA.groupTransition(r,this._axisGroup,e),eT.superCall(this,"render",e,t,n,i)}},remove:function(){JA(this)},_splitLine:function(e,t){var n=e.axis;if(!n.scale.isBlank()){var i=e.getModel("splitLine"),r=i.getModel("lineStyle"),o=r.get("color");o=UA.isArray(o)?o:[o];for(var a=t.coordinateSystem.getRect(),s=n.isHorizontal(),l=0,u=n.getTicksCoords({tickModel:i}),c=[],h=[],d=r.getLineStyle(),f=0;f<u.length;f++){var p=n.toGlobalCoord(u[f].coord);s?(c[0]=p,c[1]=a.y,h[0]=p,h[1]=a.y+a.height):(c[0]=a.x,c[1]=p,h[0]=a.x+a.width,h[1]=p);var g=l++%o.length,m=u[f].tickValue;this._axisGroup.add(new jA.Line({anid:null!=m?"line_"+u[f].tickValue:null,subPixelOptimize:!0,shape:{x1:c[0],y1:c[1],x2:h[0],y2:h[1]},style:UA.defaults({stroke:o[g]},d),silent:!0}))}}},_minorSplitLine:function(e,t){var n=e.axis,i=e.getModel("minorSplitLine").getModel("lineStyle"),r=t.coordinateSystem.getRect(),o=n.isHorizontal(),a=n.getMinorTicksCoords();if(a.length)for(var s=[],l=[],u=i.getLineStyle(),c=0;c<a.length;c++)for(var h=0;h<a[c].length;h++){var d=n.toGlobalCoord(a[c][h].coord);o?(s[0]=d,s[1]=r.y,l[0]=d,l[1]=r.y+r.height):(s[0]=r.x,s[1]=d,l[0]=r.x+r.width,l[1]=d),this._axisGroup.add(new jA.Line({anid:"minor_line_"+a[c][h].tickValue,subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,silent:!0}))}},_splitArea:function(e,t){KA(this,this._axisGroup,e,t)}});eT.extend({type:"xAxis"}),eT.extend({type:"yAxis"});var tT=c,nT=g,iT=Ia;tT.extendComponentView({type:"grid",render:function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new iT.Rect({shape:e.coordinateSystem.getRect(),style:nT.defaults({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))}}),tT.registerPreprocessor((function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})}));var rT=c,oT=g,aT=Mx,sT=aT.layout,lT=aT.largeLayout;rT.registerLayout(rT.PRIORITY.VISUAL.LAYOUT,oT.curry(sT,"bar")),rT.registerLayout(rT.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,lT),rT.registerVisual({seriesType:"bar",reset:function(e){e.getData().setVisual("legendSymbol","roundRect")}});var uT=U_;Hg.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(e,t){return uT(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var cT=g,hT=Tb.createSymbol,dT=Ia,fT=Ah.parsePercent,pT=fI.getDefaultLabel;function gT(e,t,n){dT.Group.call(this),this.updateData(e,t,n)}var mT=gT.prototype,vT=gT.getSymbolSize=function(e,t){var n=e.getItemVisual(t,"symbolSize");return n instanceof Array?n.slice():[+n,+n]};function yT(e){return[e[0]/2,e[1]/2]}function _T(e,t){this.parent.drift(e,t)}mT._createSymbol=function(e,t,n,i,r){this.removeAll();var o=t.getItemVisual(n,"color"),a=hT(e,-1,-1,2,2,o,r);a.attr({z2:100,culling:!0,scale:yT(i)}),a.drift=_T,this._symbolType=e,this.add(a)},mT.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},mT.getSymbolPath=function(){return this.childAt(0)},mT.getScale=function(){return this.childAt(0).scale},mT.highlight=function(){this.childAt(0).trigger("emphasis")},mT.downplay=function(){this.childAt(0).trigger("normal")},mT.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},mT.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":t.cursor},mT.updateData=function(e,t,n){this.silent=!1;var i=e.getItemVisual(t,"symbol")||"circle",r=e.hostModel,o=vT(e,t),a=i!==this._symbolType;if(a){var s=e.getItemVisual(t,"symbolKeepAspect");this._createSymbol(i,e,t,o,s)}else{(l=this.childAt(0)).silent=!1,dT.updateProps(l,{scale:yT(o)},r,t)}if(this._updateCommon(e,t,o,n),a){var l=this.childAt(0),u=n&&n.fadeIn,c={scale:l.scale.slice()};u&&(c.style={opacity:l.style.opacity}),l.scale=[0,0],u&&(l.style.opacity=0),dT.initProps(l,c,r,t)}this._seriesModel=r};var xT=["itemStyle"],bT=["emphasis","itemStyle"],wT=["label"],ST=["emphasis","label"];function MT(e,t){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===t){var n=this.__symbolOriginalScale,i=n[1]/n[0],r={scale:[Math.max(1.1*n[0],n[0]+3),Math.max(1.1*n[1],n[1]+3*i)]};this.animateTo(r,400,"elasticOut")}else"normal"===t&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}mT._updateCommon=function(e,t,n,i){var r=this.childAt(0),o=e.hostModel,a=e.getItemVisual(t,"color");"image"!==r.type?r.useStyle({strokeNoScale:!0}):r.setStyle({opacity:1,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var s=i&&i.itemStyle,l=i&&i.hoverItemStyle,u=i&&i.symbolOffset,c=i&&i.labelModel,h=i&&i.hoverLabelModel,d=i&&i.hoverAnimation,f=i&&i.cursorStyle;if(!i||e.hasItemOption){var p=i&&i.itemModel?i.itemModel:e.getItemModel(t);s=p.getModel(xT).getItemStyle(["color"]),l=p.getModel(bT).getItemStyle(),u=p.getShallow("symbolOffset"),c=p.getModel(wT),h=p.getModel(ST),d=p.getShallow("hoverAnimation"),f=p.getShallow("cursor")}else l=cT.extend({},l);var g=r.style,m=e.getItemVisual(t,"symbolRotate");r.attr("rotation",(m||0)*Math.PI/180||0),u&&r.attr("position",[fT(u[0],n[0]),fT(u[1],n[1])]),f&&r.attr("cursor",f),r.setColor(a,i&&i.symbolInnerColor),r.setStyle(s);var v=e.getItemVisual(t,"opacity");null!=v&&(g.opacity=v);var y=e.getItemVisual(t,"liftZ"),_=r.__z2Origin;null!=y?null==_&&(r.__z2Origin=r.z2,r.z2+=y):null!=_&&(r.z2=_,r.__z2Origin=null);var x=i&&i.useNameLabel;dT.setLabelStyle(g,l,c,h,{labelFetcher:o,labelDataIndex:t,defaultText:function(t,n){return x?e.getName(t):pT(e,t)},isRectText:!0,autoColor:a}),r.__symbolOriginalScale=yT(n),r.hoverStyle=l,r.highDownOnUpdate=d&&o.isAnimationEnabled()?MT:null,dT.setHoverStyle(r)},mT.fadeOut=function(e,t){var n=this.childAt(0);this.silent=n.silent=!0,(!t||!t.keepLabel)&&(n.style.text=null),dT.updateProps(n,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,e)},cT.inherits(gT,dT.Group);var IT=gT,AT=Ia,TT=IT,CT=g.isObject;function DT(e){this.group=new AT.Group,this._symbolCtor=e||TT}var PT=DT.prototype;function LT(e,t,n,i){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(i.isIgnore&&i.isIgnore(n))&&!(i.clipShape&&!i.clipShape.contain(t[0],t[1]))&&"none"!==e.getItemVisual(n,"symbol")}function kT(e){return null==e||CT(e)||(e={isIgnore:e}),e||{}}function OT(e){var t=e.hostModel;return{itemStyle:t.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:t.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label"),cursorStyle:t.get("cursor")}}PT.updateData=function(e,t){t=kT(t);var n=this.group,i=e.hostModel,r=this._data,o=this._symbolCtor,a=OT(e);r||n.removeAll(),e.diff(r).add((function(i){var r=e.getItemLayout(i);if(LT(e,r,i,t)){var s=new o(e,i,a);s.attr("position",r),e.setItemGraphicEl(i,s),n.add(s)}})).update((function(s,l){var u=r.getItemGraphicEl(l),c=e.getItemLayout(s);LT(e,c,s,t)?(u?(u.updateData(e,s,a),AT.updateProps(u,{position:c},i)):(u=new o(e,s)).attr("position",c),n.add(u),e.setItemGraphicEl(s,u)):n.remove(u)})).remove((function(e){var t=r.getItemGraphicEl(e);t&&t.fadeOut((function(){n.remove(t)}))})).execute(),this._data=e},PT.isPersistent=function(){return!0},PT.updateLayout=function(){var e=this._data;e&&e.eachItemGraphicEl((function(t,n){var i=e.getItemLayout(n);t.attr("position",i)}))},PT.incrementalPrepareUpdate=function(e){this._seriesScope=OT(e),this._data=null,this.group.removeAll()},PT.incrementalUpdate=function(e,t,n){function i(e){e.isGroup||(e.incremental=e.useHoverLayer=!0)}n=kT(n);for(var r=e.start;r<e.end;r++){var o=t.getItemLayout(r);if(LT(t,o,r,n)){var a=new this._symbolCtor(t,r,this._seriesScope);a.traverse(i),a.attr("position",o),this.group.add(a),t.setItemGraphicEl(r,a)}}},PT.remove=function(e){var t=this.group,n=this._data;n&&e?n.eachItemGraphicEl((function(e){e.fadeOut((function(){t.remove(e)}))})):t.removeAll()};var NT=DT,RT={},ET=C_.isDimensionStacked,zT=g.map;RT.prepareDataCoordInfo=function(e,t,n){var i,r=e.getBaseAxis(),o=e.getOtherAxis(r),a=function(e,t){var n=0,i=e.scale.getExtent();"start"===t?n=i[0]:"end"===t?n=i[1]:i[0]>0?n=i[0]:i[1]<0&&(n=i[1]);return n}(o,n),s=r.dim,l=o.dim,u=t.mapDimension(l),c=t.mapDimension(s),h="x"===l||"radius"===l?1:0,d=zT(e.dimensions,(function(e){return t.mapDimension(e)})),f=t.getCalculationInfo("stackResultDimension");return(i|=ET(t,d[0]))&&(d[0]=f),(i|=ET(t,d[1]))&&(d[1]=f),{dataDimsForPoint:d,valueStart:a,valueAxisDim:l,baseAxisDim:s,stacked:!!i,valueDim:u,baseDim:c,baseDataOffset:h,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}},RT.getStackedOnPoint=function(e,t,n,i){var r=NaN;e.stacked&&(r=n.get(n.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=e.valueStart);var o=e.baseDataOffset,a=[];return a[o]=n.get(e.baseDim,i),a[1-o]=r,t.dataToPoint(a)};var BT=RT,VT=BT.prepareDataCoordInfo,GT=BT.getStackedOnPoint;var FT=function(e,t,n,i,r,o,a,s){for(var l=function(e,t){var n=[];return t.diff(e).add((function(e){n.push({cmd:"+",idx:e})})).update((function(e,t){n.push({cmd:"=",idx:t,idx1:e})})).remove((function(e){n.push({cmd:"-",idx:e})})).execute(),n}(e,t),u=[],c=[],h=[],d=[],f=[],p=[],g=[],m=VT(r,t,a),v=VT(o,e,s),y=0;y<l.length;y++){var _=l[y],x=!0;switch(_.cmd){case"=":var b=e.getItemLayout(_.idx),w=t.getItemLayout(_.idx1);(isNaN(b[0])||isNaN(b[1]))&&(b=w.slice()),u.push(b),c.push(w),h.push(n[_.idx]),d.push(i[_.idx1]),g.push(t.getRawIndex(_.idx1));break;case"+":var S=_.idx;u.push(r.dataToPoint([t.get(m.dataDimsForPoint[0],S),t.get(m.dataDimsForPoint[1],S)])),c.push(t.getItemLayout(S).slice()),h.push(GT(m,r,t,S)),d.push(i[S]),g.push(t.getRawIndex(S));break;case"-":S=_.idx;var M=e.getRawIndex(S);M!==S?(u.push(e.getItemLayout(S)),c.push(o.dataToPoint([e.get(v.dataDimsForPoint[0],S),e.get(v.dataDimsForPoint[1],S)])),h.push(n[S]),d.push(GT(v,o,e,S)),g.push(M)):x=!1}x&&(f.push(_),p.push(p.length))}p.sort((function(e,t){return g[e]-g[t]}));var I=[],A=[],T=[],C=[],D=[];for(y=0;y<p.length;y++){S=p[y];I[y]=u[S],A[y]=c[S],T[y]=h[S],C[y]=d[S],D[y]=f[S]}return{current:I,next:A,stackedOnCurrent:T,stackedOnNext:C,status:D}},HT={},WT=nl,UT=V,jT=Ol,ZT=UT.min,YT=UT.max,XT=UT.scaleAndAdd,qT=UT.copy,KT=[],JT=[],QT=[];function $T(e){return isNaN(e[0])||isNaN(e[1])}function eC(e,t,n,i,r,o,a,s,l,u,c){return"none"!==u&&u?tC.apply(this,arguments):nC.apply(this,arguments)}function tC(e,t,n,i,r,o,a,s,l,u,c){for(var h=0,d=n,f=0;f<i;f++){var p=t[d];if(d>=r||d<0)break;if($T(p)){if(c){d+=o;continue}break}if(d===n)e[o>0?"moveTo":"lineTo"](p[0],p[1]);else if(l>0){var g=t[h],m="y"===u?1:0,v=(p[m]-g[m])*l;qT(JT,g),JT[m]=g[m]+v,qT(QT,p),QT[m]=p[m]-v,e.bezierCurveTo(JT[0],JT[1],QT[0],QT[1],p[0],p[1])}else e.lineTo(p[0],p[1]);h=d,d+=o}return f}function nC(e,t,n,i,r,o,a,s,l,u,c){for(var h=0,d=n,f=0;f<i;f++){var p=t[d];if(d>=r||d<0)break;if($T(p)){if(c){d+=o;continue}break}if(d===n)e[o>0?"moveTo":"lineTo"](p[0],p[1]),qT(JT,p);else if(l>0){var g=d+o,m=t[g];if(c)for(;m&&$T(t[g]);)m=t[g+=o];var v=.5,y=t[h];if(!(m=t[g])||$T(m))qT(QT,p);else{var _,x;if($T(m)&&!c&&(m=p),UT.sub(KT,m,y),"x"===u||"y"===u){var b="x"===u?0:1;_=Math.abs(p[b]-y[b]),x=Math.abs(p[b]-m[b])}else _=UT.dist(p,y),x=UT.dist(p,m);XT(QT,p,KT,-l*(1-(v=x/(x+_))))}ZT(JT,JT,s),YT(JT,JT,a),ZT(QT,QT,s),YT(QT,QT,a),e.bezierCurveTo(JT[0],JT[1],QT[0],QT[1],p[0],p[1]),XT(JT,p,KT,l*v)}else e.lineTo(p[0],p[1]);h=d,d+=o}return f}function iC(e,t){var n=[1/0,1/0],i=[-1/0,-1/0];if(t)for(var r=0;r<e.length;r++){var o=e[r];o[0]<n[0]&&(n[0]=o[0]),o[1]<n[1]&&(n[1]=o[1]),o[0]>i[0]&&(i[0]=o[0]),o[1]>i[1]&&(i[1]=o[1])}return{min:t?n:i,max:t?i:n}}var rC=WT.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:jT(WT.prototype.brush),buildPath:function(e,t){var n=t.points,i=0,r=n.length,o=iC(n,t.smoothConstraint);if(t.connectNulls){for(;r>0&&$T(n[r-1]);r--);for(;i<r&&$T(n[i]);i++);}for(;i<r;)i+=eC(e,n,i,r,r,1,o.min,o.max,t.smooth,t.smoothMonotone,t.connectNulls)+1}}),oC=WT.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:jT(WT.prototype.brush),buildPath:function(e,t){var n=t.points,i=t.stackedOnPoints,r=0,o=n.length,a=t.smoothMonotone,s=iC(n,t.smoothConstraint),l=iC(i,t.smoothConstraint);if(t.connectNulls){for(;o>0&&$T(n[o-1]);o--);for(;r<o&&$T(n[r]);r++);}for(;r<o;){var u=eC(e,n,r,o,o,1,s.min,s.max,t.smooth,a,t.connectNulls);eC(e,i,r+u-1,u,o,-1,l.min,l.max,t.stackedOnSmooth,a,t.connectNulls),r+=u+1,e.closePath()}}});HT.Polyline=rC,HT.Polygon=oC;var aC=g,sC=Ha.fromPoints,lC=NT,uC=IT,cC=FT,hC=Ia,dC=na,fC=HT,pC=fC.Polyline,gC=fC.Polygon,mC=pm,vC=RT,yC=vC.prepareDataCoordInfo,_C=vC.getStackedOnPoint,xC=xI,bC=xC.createGridClipPath,wC=xC.createPolarClipPath;function SC(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++){var i=e[n],r=t[n];if(i[0]!==r[0]||i[1]!==r[1])return}return!0}}function MC(e,t){var n=[],i=[],r=[],o=[];return sC(e,n,i),sC(t,r,o),Math.max(Math.abs(n[0]-r[0]),Math.abs(n[1]-r[1]),Math.abs(i[0]-o[0]),Math.abs(i[1]-o[1]))}function IC(e){return"number"==typeof e?e:e?.5:0}function AC(e,t,n){for(var i=t.getBaseAxis(),r="x"===i.dim||"radius"===i.dim?0:1,o=[],a=0;a<e.length-1;a++){var s=e[a+1],l=e[a];o.push(l);var u=[];switch(n){case"end":u[r]=s[r],u[1-r]=l[1-r],o.push(u);break;case"middle":var c=(l[r]+s[r])/2,h=[];u[r]=h[r]=c,u[1-r]=l[1-r],h[1-r]=s[1-r],o.push(u),o.push(h);break;default:u[r]=l[r],u[1-r]=s[1-r],o.push(u)}}return e[a]&&o.push(e[a]),o}function TC(e,t,n){var i=e.get("showAllSymbol"),r="auto"===i;if(!i||r){var o=n.getAxesByScale("ordinal")[0];if(o&&(!r||!function(e,t){var n=e.getExtent(),i=Math.abs(n[1]-n[0])/e.scale.count();isNaN(i)&&(i=0);for(var r=t.count(),o=Math.max(1,Math.round(r/5)),a=0;a<r;a+=o)if(1.5*uC.getSymbolSize(t,a)[e.isHorizontal()?1:0]>i)return!1;return!0}(o,t))){var a=t.mapDimension(o.dim),s={};return aC.each(o.getViewLabels(),(function(e){s[e.tickValue]=1})),function(e){return!s.hasOwnProperty(t.get(a,e))}}}}function CC(e,t,n){if("cartesian2d"===e.type){var i=e.getBaseAxis().isHorizontal(),r=bC(e,t,n);if(!n.get("clip",!0)){var o=r.shape,a=Math.max(o.width,o.height);i?(o.y-=a,o.height+=2*a):(o.x-=a,o.width+=2*a)}return r}return wC(e,t,n)}mC.extend({type:"line",init:function(){var e=new hC.Group,t=new lC;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},render:function(e,t,n){var i=e.coordinateSystem,r=this.group,o=e.getData(),a=e.getModel("lineStyle"),s=e.getModel("areaStyle"),l=o.mapArray(o.getItemLayout),u="polar"===i.type,c=this._coordSys,h=this._symbolDraw,d=this._polyline,f=this._polygon,p=this._lineGroup,g=e.get("animation"),m=!s.isEmpty(),v=s.get("origin"),y=function(e,t,n){if(!n.valueDim)return[];for(var i=[],r=0,o=t.count();r<o;r++)i.push(_C(n,e,t,r));return i}(i,o,yC(i,o,v)),_=e.get("showSymbol"),x=_&&!u&&TC(e,o,i),b=this._data;b&&b.eachItemGraphicEl((function(e,t){e.__temp&&(r.remove(e),b.setItemGraphicEl(t,null))})),_||h.remove(),r.add(p);var w,S=!u&&e.get("step");i&&i.getArea&&e.get("clip",!0)&&(null!=(w=i.getArea()).width?(w.x-=.1,w.y-=.1,w.width+=.2,w.height+=.2):w.r0&&(w.r0-=.5,w.r1+=.5)),this._clipShapeForSymbol=w,d&&c.type===i.type&&S===this._step?(m&&!f?f=this._newPolygon(l,y,i,g):f&&!m&&(p.remove(f),f=this._polygon=null),p.setClipPath(CC(i,!1,e)),_&&h.updateData(o,{isIgnore:x,clipShape:w}),o.eachItemGraphicEl((function(e){e.stopAnimation(!0)})),SC(this._stackedOnPoints,y)&&SC(this._points,l)||(g?this._updateAnimation(o,y,i,n,S,v):(S&&(l=AC(l,i,S),y=AC(y,i,S)),d.setShape({points:l}),f&&f.setShape({points:l,stackedOnPoints:y})))):(_&&h.updateData(o,{isIgnore:x,clipShape:w}),S&&(l=AC(l,i,S),y=AC(y,i,S)),d=this._newPolyline(l,i,g),m&&(f=this._newPolygon(l,y,i,g)),p.setClipPath(CC(i,!0,e)));var M=function(e,t){var n=e.getVisual("visualMeta");if(n&&n.length&&e.count()&&"cartesian2d"===t.type){for(var i,r,o=n.length-1;o>=0;o--){var a=n[o].dimension,s=e.dimensions[a],l=e.getDimensionInfo(s);if("x"===(i=l&&l.coordDim)||"y"===i){r=n[o];break}}if(r){var u=t.getAxis(i),c=aC.map(r.stops,(function(e){return{coord:u.toGlobalCoord(u.dataToCoord(e.value)),color:e.color}})),h=c.length,d=r.outerColors.slice();h&&c[0].coord>c[h-1].coord&&(c.reverse(),d.reverse());var f=c[0].coord-10,p=c[h-1].coord+10,g=p-f;if(g<.001)return"transparent";aC.each(c,(function(e){e.offset=(e.coord-f)/g})),c.push({offset:h?c[h-1].offset:.5,color:d[1]||"transparent"}),c.unshift({offset:h?c[0].offset:.5,color:d[0]||"transparent"});var m=new hC.LinearGradient(0,0,0,0,c,!0);return m[i]=f,m[i+"2"]=p,m}}}(o,i)||o.getVisual("color");d.useStyle(aC.defaults(a.getLineStyle(),{fill:"none",stroke:M,lineJoin:"bevel"}));var I=e.get("smooth");if(I=IC(e.get("smooth")),d.setShape({smooth:I,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")}),f){var A=o.getCalculationInfo("stackedOnSeries"),T=0;f.useStyle(aC.defaults(s.getAreaStyle(),{fill:M,opacity:.7,lineJoin:"bevel"})),A&&(T=IC(A.get("smooth"))),f.setShape({smooth:I,stackedOnSmooth:T,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")})}this._data=o,this._coordSys=i,this._stackedOnPoints=y,this._points=l,this._step=S,this._valueOrigin=v},dispose:function(){},highlight:function(e,t,n,i){var r=e.getData(),o=dC.queryDataIndex(r,i);if(!(o instanceof Array)&&null!=o&&o>=0){var a=r.getItemGraphicEl(o);if(!a){var s=r.getItemLayout(o);if(!s)return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(s[0],s[1]))return;(a=new uC(r,o)).position=s,a.setZ(e.get("zlevel"),e.get("z")),a.ignore=isNaN(s[0])||isNaN(s[1]),a.__temp=!0,r.setItemGraphicEl(o,a),a.stopSymbolAnimation(!0),this.group.add(a)}a.highlight()}else mC.prototype.highlight.call(this,e,t,n,i)},downplay:function(e,t,n,i){var r=e.getData(),o=dC.queryDataIndex(r,i);if(null!=o&&o>=0){var a=r.getItemGraphicEl(o);a&&(a.__temp?(r.setItemGraphicEl(o,null),this.group.remove(a)):a.downplay())}else mC.prototype.downplay.call(this,e,t,n,i)},_newPolyline:function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new pC({shape:{points:e},silent:!0,z2:10}),this._lineGroup.add(t),this._polyline=t,t},_newPolygon:function(e,t){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new gC({shape:{points:e,stackedOnPoints:t},silent:!0}),this._lineGroup.add(n),this._polygon=n,n},_updateAnimation:function(e,t,n,i,r,o){var a=this._polyline,s=this._polygon,l=e.hostModel,u=cC(this._data,e,this._stackedOnPoints,t,this._coordSys,n,this._valueOrigin,o),c=u.current,h=u.stackedOnCurrent,d=u.next,f=u.stackedOnNext;if(r&&(c=AC(u.current,n,r),h=AC(u.stackedOnCurrent,n,r),d=AC(u.next,n,r),f=AC(u.stackedOnNext,n,r)),MC(c,d)>3e3||s&&MC(h,f)>3e3)return a.setShape({points:d}),void(s&&s.setShape({points:d,stackedOnPoints:f}));a.shape.__points=u.current,a.shape.points=c,hC.updateProps(a,{shape:{points:d}},l),s&&(s.setShape({points:c,stackedOnPoints:h}),hC.updateProps(s,{shape:{points:d,stackedOnPoints:f}},l));for(var p=[],g=u.status,m=0;m<g.length;m++){if("="===g[m].cmd){var v=e.getItemGraphicEl(g[m].idx1);v&&p.push({el:v,ptIdx:m})}}a.animators&&a.animators.length&&a.animators[0].during((function(){for(var e=0;e<p.length;e++){p[e].el.attr("position",a.shape.__points[p[e].ptIdx])}}))},remove:function(e){var t=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl((function(e,i){e.__temp&&(t.remove(e),n.setItemGraphicEl(i,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var DC=g.isFunction;var PC=function(e,t,n){return{seriesType:e,performRawSeries:!0,reset:function(e,i,r){var o=e.getData(),a=e.get("symbol"),s=e.get("symbolSize"),l=e.get("symbolKeepAspect"),u=e.get("symbolRotate"),c=DC(a),h=DC(s),d=DC(u),f=c||h||d,p=!c&&a?a:t,g=h?null:s;if(o.setVisual({legendSymbol:n||p,symbol:p,symbolSize:g,symbolKeepAspect:l,symbolRotate:u}),!i.isSeriesFiltered(e))return{dataEach:o.hasItemOption||f?function(t,n){if(f){var i=e.getRawValue(n),r=e.getDataParams(n);c&&t.setItemVisual(n,"symbol",a(i,r)),h&&t.setItemVisual(n,"symbolSize",s(i,r)),d&&t.setItemVisual(n,"symbolRotate",u(i,r))}if(t.hasItemOption){var o=t.getItemModel(n),l=o.getShallow("symbol",!0),p=o.getShallow("symbolSize",!0),g=o.getShallow("symbolRotate",!0),m=o.getShallow("symbolKeepAspect",!0);null!=l&&t.setItemVisual(n,"symbol",l),null!=p&&t.setItemVisual(n,"symbolSize",p),null!=g&&t.setItemVisual(n,"symbolRotate",g),null!=m&&t.setItemVisual(n,"symbolKeepAspect",m)}}:null}}}},LC=g.map,kC=Kg,OC=C_.isDimensionStacked;var NC=function(e){return{seriesType:e,plan:kC(),reset:function(e){var t=e.getData(),n=e.coordinateSystem,i=e.pipelineContext.large;if(n){var r=LC(n.dimensions,(function(e){return t.mapDimension(e)})).slice(0,2),o=r.length,a=t.getCalculationInfo("stackResultDimension");return OC(t,r[0])&&(r[0]=a),OC(t,r[1])&&(r[1]=a),o&&{progress:function(e,t){for(var a=e.end-e.start,s=i&&new Float32Array(a*o),l=e.start,u=0,c=[],h=[];l<e.end;l++){var d;if(1===o){var f=t.get(r[0],l);d=!isNaN(f)&&n.dataToPoint(f,null,h)}else{f=c[0]=t.get(r[0],l);var p=c[1]=t.get(r[1],l);d=!isNaN(f)&&!isNaN(p)&&n.dataToPoint(c,null,h)}i?(s[u++]=d?d[0]:NaN,s[u++]=d?d[1]:NaN):t.setItemLayout(l,d&&d.slice()||[NaN,NaN])}i&&t.setLayout("symbolPoints",s)}}}}}},RC={average:function(e){for(var t=0,n=0,i=0;i<e.length;i++)isNaN(e[i])||(t+=e[i],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},EC=function(e,t){return Math.round(e.length/2)};var zC=c,BC=PC,VC=NC,GC=function(e){return{seriesType:e,modifyOutputEnd:!0,reset:function(e,t,n){var i=e.getData(),r=e.get("sampling"),o=e.coordinateSystem;if("cartesian2d"===o.type&&r){var a,s=o.getBaseAxis(),l=o.getOtherAxis(s),u=s.getExtent(),c=Math.abs(u[1]-u[0]),h=Math.round(i.count()/c);if(h>1)"string"==typeof r?a=RC[r]:"function"==typeof r&&(a=r),a&&e.setData(i.downSample(i.mapDimension(l.dim),1/h,a,EC))}}}};zC.registerVisual(BC("line","circle","line")),zC.registerLayout(VC("line")),zC.registerProcessor(zC.PRIORITY.PROCESSOR.STATISTIC,GC("line"));var FC=x_,HC=t_,WC=g,UC=WC.extend,jC=WC.isArray;var ZC=function(e,t,n){t=jC(t)&&{coordDimensions:t}||UC({},t);var i=e.getSource(),r=FC(i,t),o=new HC(r,e);return o.initData(i,n),o},YC=g,XC={updateSelectedMap:function(e){this._targetList=YC.isArray(e)?e.slice():[],this._selectTargetMap=YC.reduce(e||[],(function(e,t){return e.set(t.name,t),e}),YC.createHashMap())},select:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);"single"===this.get("selectedMode")&&this._selectTargetMap.each((function(e){e.selected=!1})),n&&(n.selected=!0)},unSelect:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);n&&(n.selected=!1)},toggleSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);if(null!=n)return this[n.selected?"unSelect":"select"](e,t),n.selected},isSelected:function(e,t){var n=null!=t?this._targetList[t]:this._selectTargetMap.get(e);return n&&n.selected}};var qC=function(e,t){this.getAllNames=function(){var e=t();return e.mapArray(e.getName)},this.containName=function(e){return t().indexOfName(e)>=0},this.indexOfName=function(t){return e().indexOfName(t)},this.getItemVisual=function(t,n){return e().getItemVisual(t,n)}},KC=c,JC=ZC,QC=g,$C=na,eD=Ah.getPercentWithPrecision,tD=XC,nD=Cp.retrieveRawAttr,iD=bd.makeSeriesEncodeForNameBased,rD=qC,oD=KC.extendSeriesModel({type:"series.pie",init:function(e){oD.superApply(this,"init",arguments),this.legendVisualProvider=new rD(QC.bind(this.getData,this),QC.bind(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(e)},mergeOption:function(e){oD.superCall(this,"mergeOption",e),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(e,t){return JC(this,{coordDimensions:["value"],encodeDefaulter:QC.curry(iD,this)})},_createSelectableList:function(){for(var e=this.getRawData(),t=e.mapDimension("value"),n=[],i=0,r=e.count();i<r;i++)n.push({name:e.getName(i),value:e.get(t,i),selected:nD(e,i,"selected")});return n},getDataParams:function(e){var t=this.getData(),n=oD.superCall(this,"getDataParams",e),i=[];return t.each(t.mapDimension("value"),(function(e){i.push(e)})),n.percent=eD(i,e,t.hostModel.get("percentPrecision")),n.$vars.push("percent"),n},_defaultLabelLine:function(e){$C.defaultEmphasis(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});QC.mixin(oD,tD);var aD=g,sD=Ia,lD=pm;function uD(e,t,n,i){var r=t.getData(),o=this.dataIndex,a=r.getName(o),s=t.get("selectedOffset");i.dispatchAction({type:"pieToggleSelect",from:e,name:a,seriesId:t.id}),r.each((function(e){cD(r.getItemGraphicEl(e),r.getItemLayout(e),t.isSelected(r.getName(e)),s,n)}))}function cD(e,t,n,i,r){var o=(t.startAngle+t.endAngle)/2,a=n?i:0,s=[Math.cos(o)*a,Math.sin(o)*a];r?e.animate().when(200,{position:s}).start("bounceOut"):e.attr("position",s)}function hD(e,t){sD.Group.call(this);var n=new sD.Sector({z2:2}),i=new sD.Polyline,r=new sD.Text;this.add(n),this.add(i),this.add(r),this.updateData(e,t,!0)}var dD=hD.prototype;dD.updateData=function(e,t,n){var i=this.childAt(0),r=this.childAt(1),o=this.childAt(2),a=e.hostModel,s=e.getItemModel(t),l=e.getItemLayout(t),u=aD.extend({},l);u.label=null;var c=a.getShallow("animationTypeUpdate");n?(i.setShape(u),"scale"===a.getShallow("animationType")?(i.shape.r=l.r0,sD.initProps(i,{shape:{r:l.r}},a,t)):(i.shape.endAngle=l.startAngle,sD.updateProps(i,{shape:{endAngle:l.endAngle}},a,t))):"expansion"===c?i.setShape(u):sD.updateProps(i,{shape:u},a,t);var h=e.getItemVisual(t,"color");i.useStyle(aD.defaults({lineJoin:"bevel",fill:h},s.getModel("itemStyle").getItemStyle())),i.hoverStyle=s.getModel("emphasis.itemStyle").getItemStyle();var d=s.getShallow("cursor");d&&i.attr("cursor",d),cD(this,e.getItemLayout(t),a.isSelected(e.getName(t)),a.get("selectedOffset"),a.get("animation"));var f=!n&&"transition"===c;this._updateLabel(e,t,f),this.highDownOnUpdate=a.get("silent")?null:function(e,t){var n=a.isAnimationEnabled()&&s.get("hoverAnimation");"emphasis"===t?(r.ignore=r.hoverIgnore,o.ignore=o.hoverIgnore,n&&(i.stopAnimation(!0),i.animateTo({shape:{r:l.r+a.get("hoverOffset")}},300,"elasticOut"))):(r.ignore=r.normalIgnore,o.ignore=o.normalIgnore,n&&(i.stopAnimation(!0),i.animateTo({shape:{r:l.r}},300,"elasticOut")))},sD.setHoverStyle(this)},dD._updateLabel=function(e,t,n){var i=this.childAt(1),r=this.childAt(2),o=e.hostModel,a=e.getItemModel(t),s=e.getItemLayout(t).label,l=e.getItemVisual(t,"color");if(!s||isNaN(s.x)||isNaN(s.y))r.ignore=r.normalIgnore=r.hoverIgnore=i.ignore=i.normalIgnore=i.hoverIgnore=!0;else{var u={points:s.linePoints||[[s.x,s.y],[s.x,s.y],[s.x,s.y]]},c={x:s.x,y:s.y};n?(sD.updateProps(i,{shape:u},o,t),sD.updateProps(r,{style:c},o,t)):(i.attr({shape:u}),r.attr({style:c})),r.attr({rotation:s.rotation,origin:[s.x,s.y],z2:10});var h=a.getModel("label"),d=a.getModel("emphasis.label"),f=a.getModel("labelLine"),p=a.getModel("emphasis.labelLine");l=e.getItemVisual(t,"color");sD.setLabelStyle(r.style,r.hoverStyle={},h,d,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:s.text,autoColor:l,useInsideStyle:!!s.inside},{textAlign:s.textAlign,textVerticalAlign:s.verticalAlign,opacity:e.getItemVisual(t,"opacity")}),r.ignore=r.normalIgnore=!h.get("show"),r.hoverIgnore=!d.get("show"),i.ignore=i.normalIgnore=!f.get("show"),i.hoverIgnore=!p.get("show"),i.setStyle({stroke:l,opacity:e.getItemVisual(t,"opacity")}),i.setStyle(f.getModel("lineStyle").getLineStyle()),i.hoverStyle=p.getModel("lineStyle").getLineStyle();var g=f.get("smooth");g&&!0===g&&(g=.4),i.setShape({smooth:g})}},aD.inherits(hD,sD.Group),lD.extend({type:"pie",init:function(){var e=new sD.Group;this._sectorGroup=e},render:function(e,t,n,i){if(!i||i.from!==this.uid){var r=e.getData(),o=this._data,a=this.group,s=t.get("animation"),l=!o,u=e.get("animationType"),c=e.get("animationTypeUpdate"),h=aD.curry(uD,this.uid,e,s,n),d=e.get("selectedMode");if(r.diff(o).add((function(e){var t=new hD(r,e);l&&"scale"!==u&&t.eachChild((function(e){e.stopAnimation(!0)})),d&&t.on("click",h),r.setItemGraphicEl(e,t),a.add(t)})).update((function(e,t){var n=o.getItemGraphicEl(t);l||"transition"===c||n.eachChild((function(e){e.stopAnimation(!0)})),n.updateData(r,e),n.off("click"),d&&n.on("click",h),a.add(n),r.setItemGraphicEl(e,n)})).remove((function(e){var t=o.getItemGraphicEl(e);a.remove(t)})).execute(),s&&r.count()>0&&(l?"scale"!==u:"transition"!==c)){for(var f=r.getItemLayout(0),p=1;isNaN(f.startAngle)&&p<r.count();++p)f=r.getItemLayout(p);var g=Math.max(n.getWidth(),n.getHeight())/2,m=aD.bind(a.removeClipPath,a);a.setClipPath(this._createClipPath(f.cx,f.cy,g,f.startAngle,f.clockwise,m,e,l))}else a.removeClipPath();this._data=r}},dispose:function(){},_createClipPath:function(e,t,n,i,r,o,a,s){var l=new sD.Sector({shape:{cx:e,cy:t,r0:0,r:n,startAngle:i,endAngle:i,clockwise:r}});return(s?sD.initProps:sD.updateProps)(l,{shape:{endAngle:i+(r?1:-1)*Math.PI*2}},a,o),l},containPoint:function(e,t){var n=t.getData().getItemLayout(0);if(n){var i=e[0]-n.cx,r=e[1]-n.cy,o=Math.sqrt(i*i+r*r);return o<=n.r&&o>=n.r0}}});var fD=c,pD=g;var gD=function(e,t){pD.each(t,(function(t){t.update="updateView",fD.registerAction(t,(function(n,i){var r={};return i.eachComponent({mainType:"series",subType:e,query:n},(function(e){e[t.method]&&e[t.method](n.name,n.dataIndex);var i=e.getData();i.each((function(t){var n=i.getName(t);r[n]=e.isSelected(n)||!1}))})),{name:n.name,selected:r,seriesId:n.seriesId}}))}))},mD=g.createHashMap;var vD=function(e){return{getTargetSeries:function(t){var n={},i=mD();return t.eachSeriesByType(e,(function(e){e.__paletteScope=n,i.set(e.uid,e)})),i},reset:function(e,t){var n=e.getRawData(),i={},r=e.getData();r.each((function(e){var t=r.getRawIndex(e);i[t]=e})),n.each((function(t){var o,a=i[t],s=null!=a&&r.getItemVisual(a,"color",!0),l=null!=a&&r.getItemVisual(a,"borderColor",!0);if(s&&l||(o=n.getItemModel(t)),!s){var u=o.get("itemStyle.color")||e.getColorFromPalette(n.getName(t)||t+"",e.__paletteScope,n.count());null!=a&&r.setItemVisual(a,"color",u)}if(!l){var c=o.get("itemStyle.borderColor");null!=a&&r.setItemVisual(a,"borderColor",c)}}))}}},yD=xi,_D=Ah.parsePercent,xD=Math.PI/180;function bD(e,t,n,i,r,o,a,s,l,u){function c(t,n,i,r){for(var o=t;o<n&&!(e[o].y+i>l+a);o++)if(e[o].y+=i,o>t&&o+1<n&&e[o+1].y>e[o].y+e[o].height)return void h(o,i/2);h(n-1,i/2)}function h(t,n){for(var i=t;i>=0&&!(e[i].y-n<l)&&(e[i].y-=n,!(i>0&&e[i].y>e[i-1].y+e[i-1].height));i--);}function d(e,t,n,i,r,o){for(var a=t?Number.MAX_VALUE:0,s=0,l=e.length;s<l;s++)if("none"===e[s].labelAlignTo){var u=Math.abs(e[s].y-i),c=e[s].len,h=e[s].len2,d=u<r+c?Math.sqrt((r+c+h)*(r+c+h)-u*u):Math.abs(e[s].x-n);t&&d>=a&&(d=a-10),!t&&d<=a&&(d=a+10),e[s].x=n+d*o,a=d}}e.sort((function(e,t){return e.y-t.y}));for(var f,p=0,g=e.length,m=[],v=[],y=0;y<g;y++){if("outer"===e[y].position&&"labelLine"===e[y].labelAlignTo){var _=e[y].x-u;e[y].linePoints[1][0]+=_,e[y].x=u}(f=e[y].y-p)<0&&c(y,g,-f),p=e[y].y+e[y].height}a-p<0&&h(g-1,p-a);for(y=0;y<g;y++)e[y].y>=n?v.push(e[y]):m.push(e[y]);d(m,!1,t,n,i,r),d(v,!0,t,n,i,r)}function wD(e){return"center"===e.position}var SD=function(e,t,n,i,r,o){var a,s,l=e.getData(),u=[],c=!1,h=(e.get("minShowLabelAngle")||0)*xD;l.each((function(i){var o=l.getItemLayout(i),d=l.getItemModel(i),f=d.getModel("label"),p=f.get("position")||d.get("emphasis.label.position"),g=f.get("distanceToLabelLine"),m=f.get("alignTo"),v=_D(f.get("margin"),n),y=f.get("bleedMargin"),_=f.getFont(),x=d.getModel("labelLine"),b=x.get("length");b=_D(b,n);var w=x.get("length2");if(w=_D(w,n),!(o.angle<h)){var S,M,I,A,T=(o.startAngle+o.endAngle)/2,C=Math.cos(T),D=Math.sin(T);a=o.cx,s=o.cy;var P,L=e.getFormattedLabel(i,"normal")||l.getName(i),k=yD.getBoundingRect(L,_,A,"top"),O="inside"===p||"inner"===p;if("center"===p)S=o.cx,M=o.cy,A="center";else{var N=(O?(o.r+o.r0)/2*C:o.r*C)+a,R=(O?(o.r+o.r0)/2*D:o.r*D)+s;if(S=N+3*C,M=R+3*D,!O){var E=N+C*(b+t-o.r),z=R+D*(b+t-o.r),B=E+(C<0?-1:1)*w;S="edge"===m?C<0?r+v:r+n-v:B+(C<0?-g:g),M=z,I=[[N,R],[E,z],[B,z]]}A=O?"center":"edge"===m?C>0?"right":"left":C>0?"left":"right"}var V=f.get("rotate");P="number"==typeof V?V*(Math.PI/180):V?C<0?-T+Math.PI:-T:0,c=!!P,o.label={x:S,y:M,position:p,height:k.height,len:b,len2:w,linePoints:I,textAlign:A,verticalAlign:"middle",rotation:P,inside:O,labelDistance:g,labelAlignTo:m,labelMargin:v,bleedMargin:y,textRect:k,text:L,font:_},O||u.push(o.label)}})),!c&&e.get("avoidLabelOverlap")&&function(e,t,n,i,r,o,a,s){for(var l=[],u=[],c=Number.MAX_VALUE,h=-Number.MAX_VALUE,d=0;d<e.length;d++)wD(e[d])||(e[d].x<t?(c=Math.min(c,e[d].x),l.push(e[d])):(h=Math.max(h,e[d].x),u.push(e[d])));for(bD(u,t,n,i,1,0,o,0,s,h),bD(l,t,n,i,-1,0,o,0,s,c),d=0;d<e.length;d++){var f=e[d];if(!wD(f)){var p=f.linePoints;if(p){var g,m="edge"===f.labelAlignTo,v=f.textRect.width;(g=m?f.x<t?p[2][0]-f.labelDistance-a-f.labelMargin:a+r-f.labelMargin-p[2][0]-f.labelDistance:f.x<t?f.x-a-f.bleedMargin:a+r-f.x-f.bleedMargin)<f.textRect.width&&(f.text=yD.truncateText(f.text,g,f.font),"edge"===f.labelAlignTo&&(v=yD.getWidth(f.text,f.font)));var y=p[1][0]-p[2][0];m?f.x<t?p[2][0]=a+f.labelMargin+v+f.labelDistance:p[2][0]=a+r-f.labelMargin-v-f.labelDistance:(f.x<t?p[2][0]=f.x+f.labelDistance:p[2][0]=f.x-f.labelDistance,p[1][0]=p[2][0]+y),p[1][1]=p[2][1]=f.y}}}}(u,a,s,t,n,i,r,o)},MD=Ah,ID=MD.parsePercent,AD=MD.linearMap,TD=Ih,CD=SD,DD=g,PD=2*Math.PI,LD=Math.PI/180;var kD=function(e){return{seriesType:e,reset:function(e,t){var n=t.findComponents({mainType:"legend"});if(n&&n.length){var i=e.getData();i.filterSelf((function(e){for(var t=i.getName(e),r=0;r<n.length;r++)if(!n[r].isSelected(t))return!1;return!0}))}}}},OD=c,ND=g,RD=vD,ED=function(e,t,n,i){t.eachSeriesByType(e,(function(e){var t=e.getData(),i=t.mapDimension("value"),r=function(e,t){return TD.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,n),o=e.get("center"),a=e.get("radius");DD.isArray(a)||(a=[0,a]),DD.isArray(o)||(o=[o,o]);var s=ID(r.width,n.getWidth()),l=ID(r.height,n.getHeight()),u=Math.min(s,l),c=ID(o[0],s)+r.x,h=ID(o[1],l)+r.y,d=ID(a[0],u/2),f=ID(a[1],u/2),p=-e.get("startAngle")*LD,g=e.get("minAngle")*LD,m=0;t.each(i,(function(e){!isNaN(e)&&m++}));var v=t.getSum(i),y=Math.PI/(v||m)*2,_=e.get("clockwise"),x=e.get("roseType"),b=e.get("stillShowZeroSum"),w=t.getDataExtent(i);w[0]=0;var S=PD,M=0,I=p,A=_?1:-1;if(t.each(i,(function(e,n){var i;if(isNaN(e))t.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:_,cx:c,cy:h,r0:d,r:x?NaN:f,viewRect:r});else{(i="area"!==x?0===v&&b?y:e*y:PD/m)<g?(i=g,S-=g):M+=e;var o=I+A*i;t.setItemLayout(n,{angle:i,startAngle:I,endAngle:o,clockwise:_,cx:c,cy:h,r0:d,r:x?AD(e,w,[d,f]):f,viewRect:r}),I=o}})),S<PD&&m)if(S<=.001){var T=PD/m;t.each(i,(function(e,n){if(!isNaN(e)){var i=t.getItemLayout(n);i.angle=T,i.startAngle=p+A*n*T,i.endAngle=p+A*(n+1)*T}}))}else y=S/M,I=p,t.each(i,(function(e,n){if(!isNaN(e)){var i=t.getItemLayout(n),r=i.angle===g?g:e*y;i.startAngle=I,i.endAngle=I+A*r,I+=A*r}}));CD(e,f,r.width,r.height,r.x,r.y)}))},zD=kD;gD("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),OD.registerVisual(RD("pie")),OD.registerLayout(ND.curry(ED,"pie")),OD.registerProcessor(zD("pie"));for(var BD=g,VD=uw,GD=[126,25],FD=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],HD=0;HD<FD.length;HD++)for(var WD=0;WD<FD[HD].length;WD++)FD[HD][WD][0]/=10.5,FD[HD][WD][1]/=-14,FD[HD][WD][0]+=GD[0],FD[HD][WD][1]+=GD[1];var UD=function(e,t){"china"===e&&t.push(new VD("",BD.map(FD,(function(e){return{type:"polygon",exterior:e}})),GD))},jD={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]};var ZD=function(e,t){if("china"===e){var n=jD[t.name];if(n){var i=t.center;i[0]+=n[0]/10.5,i[1]+=-n[1]/14}}},YD={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};var XD=function(e,t){if("world"===e){var n=YD[t.name];if(n){var i=t.center;i[0]=n[0],i[1]=n[1]}}},qD=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];var KD=function(e,t){"china"===e&&""===t.name&&t.geometries.push({type:"polygon",exterior:qD[0]})},JD=g.each,QD=fw,$D=na.makeInner,eP=UD,tP=ZD,nP=XD,iP=KD,rP=$D();function oP(e){for(var t,n=0;n<e.length;n++){var i=e[n].getBoundingRect();(t=t||i.clone()).union(i)}return t}var aP={load:function(e,t,n){var i=rP(t).parsed;if(i)return i;var r,o=t.specialAreas||{},a=t.geoJSON;try{r=a?QD(a,n):[]}catch(s){throw new Error("Invalid geoJson format\n"+s.message)}return eP(e,r),JD(r,(function(t){var n=t.name;tP(e,t),nP(e,t),iP(e,t);var i=o[n];i&&t.transformTo(i.left,i.top,i.width,i.height)})),rP(t).parsed={regions:r,boundingRect:oP(r)}}},sP=yv,lP=sP.parseSVG,uP=sP.makeViewBoxTransform,cP=Rn,hP=uu,dP=g,fP=dP.assert,pP=dP.createHashMap,gP=Pn,mP=(0,na.makeInner)();function vP(e,t){var n,i,r=e.svgXML;try{i=(n=r&&lP(r,{ignoreViewBox:!0,ignoreRootClip:!0})||{}).root,fP(null!=i)}catch(c){throw new Error("Invalid svg format\n"+c.message)}var o=n.width,a=n.height,s=n.viewBoxRect;if(t||(t=null==o||null==a?i.getBoundingRect():new gP(0,0,0,0),null!=o&&(t.width=o),null!=a&&(t.height=a)),s){var l=uP(s,t.width,t.height),u=i;(i=new cP).add(u),u.scale=l.scale,u.position=l.position}return i.setClipPath(new hP({shape:t.plain()})),{root:i,boundingRect:t}}var yP={load:function(e,t){var n=mP(t).originRoot;if(n)return{root:n,boundingRect:mP(t).boundingRect};var i=vP(t);return mP(t).originRoot=i.root,mP(t).boundingRect=i.boundingRect,i},makeGraphic:function(e,t,n){var i=mP(t),r=i.rootMap||(i.rootMap=pP()),o=r.get(n);if(o)return o;var a=i.originRoot,s=i.boundingRect;return i.originRootHostKey?o=vP(t,s).root:(i.originRootHostKey=n,o=a),r.set(n,o)},removeGraphic:function(e,t,n){var i=mP(t),r=i.rootMap;r&&r.removeKey(n),n===i.originRootHostKey&&(i.originRootHostKey=null)}},_P=g,xP=_P.each,bP=_P.createHashMap,wP=uy,SP=Pn,MP={geoJSON:aP,svg:yP};function IP(e){return function(t,n){var i=AP(t),r=[];return xP(i,(function(i){var o=MP[i.type][e];o&&r.push(o(t,i,n))})),r}}function AP(e){return wP.retrieveMap(e)||[]}var TP={load:function(e,t,n){var i,r=[],o=bP(),a=bP(),s=AP(e);return xP(s,(function(s){var l=MP[s.type].load(e,s,n);xP(l.regions,(function(e){var n=e.name;t&&t.hasOwnProperty(n)&&(e=e.cloneShallow(n=t[n])),r.push(e),o.set(n,e),a.set(n,e.center)}));var u=l.boundingRect;u&&(i?i.union(u):i=u.clone())})),{regions:r,regionsMap:o,nameCoordMap:a,boundingRect:i||new SP(0,0,0,0)}},makeGraphic:IP("makeGraphic"),removeGraphic:IP("removeGraphic")},CP=g,DP=ZC,PP=Hg,LP=Ph,kP=LP.encodeHTML,OP=LP.addCommas,NP=XC,RP=Cp.retrieveRawAttr,EP=TP,zP=bd.makeSeriesEncodeForNameBased,BP=PP.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],getInitialData:function(e){for(var t=DP(this,{coordDimensions:["value"],encodeDefaulter:CP.curry(zP,this)}),n=t.mapDimension("value"),i=CP.createHashMap(),r=[],o=[],a=0,s=t.count();a<s;a++){var l=t.getName(a);i.set(l,!0),r.push({name:l,value:t.get(n,a),selected:RP(t,a,"selected")})}var u=EP.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return CP.each(u.regions,(function(e){var t=e.name;i.get(t)||(r.push({name:t}),o.push(t))})),this.updateSelectedMap(r),t.appendValues([],o),t},getHostGeoModel:function(){var e=this.option.geoIndex;return null!=e?this.dependentModels.geo[e]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},getRegionModel:function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},formatTooltip:function(e,t,n,i){for(var r=this.getData(),o=OP(this.getRawValue(e)),a=r.getName(e),s=this.seriesGroup,l=[],u=0;u<s.length;u++){var c=s[u].originalData.indexOfName(a),h=r.mapDimension("value");isNaN(s[u].originalData.get(h,c))||l.push(kP(s[u].name))}var d="html"===i?"<br/>":"\n";return l.join(", ")+d+kP(a+" : "+o)},getTooltipPosition:function(e){if(null!=e){var t=this.getData().getName(e),n=this.coordinateSystem,i=n.getRegion(t);return i&&n.dataToPoint(i.center)}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},nameProperty:"name"}});CP.mixin(BP,NP);var VP={},GP="\0_ec_interaction_mutex";function FP(e){return e[GP]||(e[GP]={})}c.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},(function(){})),VP.take=function(e,t,n){FP(e)[t]=n},VP.release=function(e,t,n){var i=FP(e);i[t]===n&&(i[t]=null)},VP.isTaken=function(e,t){return!!FP(e)[t]};var HP=g,WP=te,UP=ne,jP=VP;function ZP(e){this.pointerChecker,this._zr=e,this._opt={};var t=HP.bind,n=t(YP,this),i=t(XP,this),r=t(qP,this),o=t(KP,this),a=t(JP,this);WP.call(this),this.setPointerChecker=function(e){this.pointerChecker=e},this.enable=function(t,s){this.disable(),this._opt=HP.defaults(HP.clone(s)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",n),e.on("mousemove",i),e.on("mouseup",r)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",o),e.on("pinch",a))},this.disable=function(){e.off("mousedown",n),e.off("mousemove",i),e.off("mouseup",r),e.off("mousewheel",o),e.off("pinch",a)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function YP(e){if(!(UP.isMiddleOrRightButtonOnMouseUpDown(e)||e.target&&e.target.draggable)){var t=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,n)&&(this._x=t,this._y=n,this._dragging=!0)}}function XP(e){if(this._dragging&&eL("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!jP.isTaken(this._zr,"globalPan")){var t=e.offsetX,n=e.offsetY,i=this._x,r=this._y,o=t-i,a=n-r;this._x=t,this._y=n,this._opt.preventDefaultMouseMove&&UP.stop(e.event),$P(this,"pan","moveOnMouseMove",e,{dx:o,dy:a,oldX:i,oldY:r,newX:t,newY:n})}}function qP(e){UP.isMiddleOrRightButtonOnMouseUpDown(e)||(this._dragging=!1)}function KP(e){var t=eL("zoomOnMouseWheel",e,this._opt),n=eL("moveOnMouseWheel",e,this._opt),i=e.wheelDelta,r=Math.abs(i),o=e.offsetX,a=e.offsetY;if(0!==i&&(t||n)){if(t){var s=r>3?1.4:r>1?1.2:1.1;QP(this,"zoom","zoomOnMouseWheel",e,{scale:i>0?s:1/s,originX:o,originY:a})}if(n){var l=Math.abs(i);QP(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(i>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:o,originY:a})}}}function JP(e){jP.isTaken(this._zr,"globalPan")||QP(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY})}function QP(e,t,n,i,r){e.pointerChecker&&e.pointerChecker(i,r.originX,r.originY)&&(UP.stop(i.event),$P(e,t,n,i,r))}function $P(e,t,n,i,r){r.isAvailableBehavior=HP.bind(eL,null,n,i),e.trigger(t,r)}function eL(e,t,n){var i=n[e];return!e||i&&(!HP.isString(i)||t.event[i+"Key"])}HP.mixin(ZP,WP);var tL=ZP,nL={};nL.updateViewOnPan=function(e,t,n){var i=e.target,r=i.position;r[0]+=t,r[1]+=n,i.dirty()},nL.updateViewOnZoom=function(e,t,n,i){var r=e.target,o=e.zoomLimit,a=r.position,s=r.scale,l=e.zoom=e.zoom||1;if(l*=t,o){var u=o.min||0,c=o.max||1/0;l=Math.max(Math.min(c,l),u)}var h=l/e.zoom;e.zoom=l,a[0]-=(n-a[0])*(h-1),a[1]-=(i-a[1])*(h-1),s[0]*=h,s[1]*=h,r.dirty()};var iL={},rL={axisPointer:1,tooltip:1,brush:1};iL.onIrrelevantElement=function(e,t,n){var i=t.getComponentByElement(e.topTarget),r=i&&i.coordinateSystem;return i&&i!==n&&!rL[i.mainType]&&r&&r.model!==n};var oL=g,aL=tL,sL=nL,lL=iL.onIrrelevantElement,uL=Ia,cL=TP,hL=bh.getUID,dL=tt;function fL(e){var t=e.getItemStyle(),n=e.get("areaColor");return null!=n&&(t.fill=n),t}function pL(e,t){t.eachChild((function(t){oL.each(t.__regions,(function(n){t.trigger(e.isSelected(n.name)?"emphasis":"normal")}))}))}function gL(e,t){var n=new uL.Group;this.uid=hL("ec_map_draw"),this._controller=new aL(e.getZr()),this._controllerHost={target:t?n:null},this.group=n,this._updateGroup=t,this._mouseDownFlag,this._mapName,this._initialized,n.add(this._regionsGroup=new uL.Group),n.add(this._backgroundGroup=new uL.Group)}gL.prototype={constructor:gL,draw:function(e,t,n,i,r){var o="geo"===e.mainType,a=e.getData&&e.getData();o&&t.eachComponent({mainType:"series",subType:"map"},(function(t){a||t.getHostGeoModel()!==e||(a=t.getData())}));var s=e.coordinateSystem;this._updateBackground(s);var l,u=this._regionsGroup,c=this.group,h=s.getTransformInfo(),d=!u.childAt(0)||r;if(d)c.transform=h.roamTransform,c.decomposeTransform(),c.dirty();else{var f=new dL;f.transform=h.roamTransform,f.decomposeTransform();var p={scale:f.scale,position:f.position};l=f.scale,uL.updateProps(c,p,e)}var g=h.rawScale,m=h.rawPosition;u.removeAll();var v=["itemStyle"],y=["emphasis","itemStyle"],_=["label"],x=["emphasis","label"],b=oL.createHashMap();oL.each(s.regions,(function(t){var n=b.get(t.name)||b.set(t.name,new uL.Group),i=new uL.CompoundPath({segmentIgnoreThreshold:1,shape:{paths:[]}});n.add(i);var r,s=(N=e.getRegionModel(t.name)||e).getModel(v),h=N.getModel(y),f=fL(s),p=fL(h),w=N.getModel(_),S=N.getModel(x);if(a){r=a.indexOfName(t.name);var M=a.getItemVisual(r,"color",!0);M&&(f.fill=M)}var I=function(e){return[e[0]*g[0]+m[0],e[1]*g[1]+m[1]]};oL.each(t.geometries,(function(e){if("polygon"===e.type){for(var t=[],n=0;n<e.exterior.length;++n)t.push(I(e.exterior[n]));i.shape.paths.push(new uL.Polygon({segmentIgnoreThreshold:1,shape:{points:t}}));for(n=0;n<(e.interiors?e.interiors.length:0);++n){for(var r=e.interiors[n],o=(t=[],0);o<r.length;++o)t.push(I(r[o]));i.shape.paths.push(new uL.Polygon({segmentIgnoreThreshold:1,shape:{points:t}}))}}})),i.setStyle(f),i.style.strokeNoScale=!0,i.culling=!0;var A=w.get("show"),T=S.get("show"),C=a&&isNaN(a.get(a.mapDimension("value"),r)),D=a&&a.getItemLayout(r);if(o||C&&(A||T)||D&&D.showLabel){var P,L=o?t.name:r;(!a||r>=0)&&(P=e);var k=new uL.Text({position:I(t.center.slice()),scale:[1/c.scale[0],1/c.scale[1]],z2:10,silent:!0});if(uL.setLabelStyle(k.style,k.hoverStyle={},w,S,{labelFetcher:P,labelDataIndex:L,defaultText:t.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),!d){var O=[1/l[0],1/l[1]];uL.updateProps(k,{scale:O},e)}n.add(k)}if(a)a.setItemGraphicEl(r,n);else{var N=e.getRegionModel(t.name);i.eventData={componentType:"geo",componentIndex:e.componentIndex,geoIndex:e.componentIndex,name:t.name,region:N&&N.option||{}}}(n.__regions||(n.__regions=[])).push(t),n.highDownSilentOnTouch=!!e.get("selectedMode"),uL.setHoverStyle(n,p),u.add(n)})),this._updateController(e,t,n),function(e,t,n,i,r){n.off("click"),n.off("mousedown"),t.get("selectedMode")&&(n.on("mousedown",(function(){e._mouseDownFlag=!0})),n.on("click",(function(o){if(e._mouseDownFlag){e._mouseDownFlag=!1;for(var a=o.target;!a.__regions;)a=a.parent;if(a){var s={type:("geo"===t.mainType?"geo":"map")+"ToggleSelect",batch:oL.map(a.__regions,(function(e){return{name:e.name,from:r.uid}}))};s[t.mainType+"Id"]=t.id,i.dispatchAction(s),pL(t,n)}}})))}(this,e,u,n,i),pL(e,u)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&cL.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(e){var t=e.map;this._mapName!==t&&oL.each(cL.makeGraphic(t,this.uid),(function(e){this._backgroundGroup.add(e)}),this),this._mapName=t},_updateController:function(e,t,n){var i=e.coordinateSystem,r=this._controller,o=this._controllerHost;o.zoomLimit=e.get("scaleLimit"),o.zoom=i.getZoom(),r.enable(e.get("roam")||!1);var a=e.mainType;function s(){var t={type:"geoRoam",componentType:a};return t[a+"Id"]=e.id,t}r.off("pan").on("pan",(function(e){this._mouseDownFlag=!1,sL.updateViewOnPan(o,e.dx,e.dy),n.dispatchAction(oL.extend(s(),{dx:e.dx,dy:e.dy}))}),this),r.off("zoom").on("zoom",(function(e){if(this._mouseDownFlag=!1,sL.updateViewOnZoom(o,e.scale,e.originX,e.originY),n.dispatchAction(oL.extend(s(),{zoom:e.scale,originX:e.originX,originY:e.originY})),this._updateGroup){var t=this.group.scale;this._regionsGroup.traverse((function(e){"text"===e.type&&e.attr("scale",[1/t[0],1/t[1]])}))}}),this),r.setPointerChecker((function(t,r,o){return i.getViewRectAfterRoam().contain(r,o)&&!lL(t,n,e)}))}};var mL=gL,vL=g,yL=Ia,_L=mL;function xL(e){var t=this.__seriesMapHighDown;t&&t.recordVersion===this.__seriesMapCallKey&&bL(t,e)}function bL(e,t){var n=e.circle,i=e.labelModel,r=e.hoverLabelModel,o=e.emphasisText,a=e.normalText;t?(n.style.extendFrom(yL.setTextStyle({},r,{text:r.get("show")?o:null},{isRectText:!0,useInsideStyle:!1},!0)),n.__mapOriginalZ2=n.z2,n.z2+=yL.Z2_EMPHASIS_LIFT):(yL.setTextStyle(n.style,i,{text:i.get("show")?a:null,textPosition:i.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),n.dirty(!1),null!=n.__mapOriginalZ2&&(n.z2=n.__mapOriginalZ2,n.__mapOriginalZ2=null))}c.extendChartView({type:"map",render:function(e,t,n,i){if(!i||"mapToggleSelect"!==i.type||i.from!==this.uid){var r=this.group;if(r.removeAll(),!e.getHostGeoModel()){if(i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===e.id)(o=this._mapDraw)&&r.add(o.group);else if(e.needsDrawMap){var o=this._mapDraw||new _L(n,!0);r.add(o.group),o.draw(e,t,n,this,i),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,n)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(e,t,n){var i=e.originalData,r=this.group;i.each(i.mapDimension("value"),(function(t,n){if(!isNaN(t)){var o=i.getItemLayout(n);if(o&&o.point){var a=o.point,s=o.offset,l=new yL.Circle({style:{fill:e.getData().getVisual("color")},shape:{cx:a[0]+9*s,cy:a[1],r:3},silent:!0,z2:8+(s?0:yL.Z2_EMPHASIS_LIFT+1)});if(!s){var u=e.mainSeries.getData(),c=i.getName(n),h=u.indexOfName(c),d=i.getItemModel(n),f=d.getModel("label"),p=d.getModel("emphasis.label"),g=u.getItemGraphicEl(h),m=vL.retrieve2(e.getFormattedLabel(h,"normal"),c),v=vL.retrieve2(e.getFormattedLabel(h,"emphasis"),m),y=g.__seriesMapHighDown,_=Math.random();if(!y){y=g.__seriesMapHighDown={};var x=vL.curry(xL,!0),b=vL.curry(xL,!1);g.on("mouseover",x).on("mouseout",b).on("emphasis",x).on("normal",b)}g.__seriesMapCallKey=_,vL.extend(y,{recordVersion:_,circle:l,labelModel:f,hoverLabelModel:p,emphasisText:v,normalText:m}),bL(y,!1)}r.add(l)}}}))}});var wL={};wL.updateCenterAndZoom=function(e,t,n){var i=e.getZoom(),r=e.getCenter(),o=t.zoom,a=e.dataToPoint(r);if(null!=t.dx&&null!=t.dy){a[0]-=t.dx,a[1]-=t.dy;r=e.pointToData(a);e.setCenter(r)}if(null!=o){if(n){var s=n.min||0,l=n.max||1/0;o=Math.max(Math.min(i*o,l),s)/i}e.scale[0]*=o,e.scale[1]*=o;var u=e.position,c=(t.originX-u[0])*(o-1),h=(t.originY-u[1])*(o-1);u[0]-=c,u[1]-=h,e.updateTransform();r=e.pointToData(a);e.setCenter(r),e.setZoom(o*i)}return{center:e.getCenter(),zoom:e.getZoom()}};var SL=c,ML=g,IL=wL.updateCenterAndZoom;SL.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},(function(t){var i=t.coordinateSystem;if("geo"===i.type){var r=IL(i,e,t.get("scaleLimit"));t.setCenter&&t.setCenter(r.center),t.setZoom&&t.setZoom(r.zoom),"series"===n&&ML.each(t.seriesGroup,(function(e){e.setCenter(r.center),e.setZoom(r.zoom)}))}}))}));var AL=g,TL=V,CL=Fe,DL=Pn,PL=tt,LL=TL.applyTransform;function kL(){PL.call(this)}function OL(e){this.name=e,this.zoomLimit,PL.call(this),this._roamTransformable=new kL,this._rawTransformable=new kL,this._center,this._zoom}function NL(e,t,n,i){var r=n.seriesModel,o=r?r.coordinateSystem:null;return o===this?o[e](i):null}AL.mixin(kL,PL),OL.prototype={constructor:OL,type:"view",dimensions:["x","y"],setBoundingRect:function(e,t,n,i){return this._rect=new DL(e,t,n,i),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(e,t,n,i){this.transformTo(e,t,n,i),this._viewRect=new DL(e,t,n,i)},transformTo:function(e,t,n,i){var r=this.getBoundingRect(),o=this._rawTransformable;o.transform=r.calculateTransform(new DL(e,t,n,i)),o.decomposeTransform(),this._updateTransform()},setCenter:function(e){e&&(this._center=e,this._updateCenterAndZoom())},setZoom:function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},getDefaultCenter:function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),r=this.getZoom();i=TL.applyTransform([],i,e),n=TL.applyTransform([],n,e),t.origin=i,t.position=[n[0]-i[0],n[1]-i[1]],t.scale=[r,r],this._updateTransform()},_updateTransform:function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),CL.copy(this.transform||(this.transform=[]),t.transform||CL.create()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],CL.invert(this.invTransform,this.transform),this.decomposeTransform()},getTransformInfo:function(){var e=this._roamTransformable.transform,t=this._rawTransformable;return{roamTransform:e?AL.slice(e):CL.create(),rawScale:AL.slice(t.scale),rawPosition:AL.slice(t.position)}},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},dataToPoint:function(e,t,n){var i=t?this._rawTransform:this.transform;return n=n||[],i?LL(n,e,i):TL.copy(n,e)},pointToData:function(e){var t=this.invTransform;return t?LL([],e,t):[e[0],e[1]]},convertToPixel:AL.curry(NL,"dataToPoint"),convertFromPixel:AL.curry(NL,"pointToData"),containPoint:function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])}},AL.mixin(OL,PL);var RL=OL,EL=g,zL=Pn,BL=RL,VL=TP;function GL(e,t,n,i){BL.call(this,e),this.map=t;var r=VL.load(t,n);this._nameCoordMap=r.nameCoordMap,this._regionsMap=r.regionsMap,this._invertLongitute=null==i||i,this.regions=r.regions,this._rect=r.boundingRect}function FL(e,t,n,i){var r=n.geoModel,o=n.seriesModel,a=r?r.coordinateSystem:o?o.coordinateSystem||(o.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return a===this?a[e](i):null}GL.prototype={constructor:GL,type:"geo",dimensions:["lng","lat"],containCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return!0;return!1},transformTo:function(e,t,n,i){var r=this.getBoundingRect(),o=this._invertLongitute;r=r.clone(),o&&(r.y=-r.y-r.height);var a=this._rawTransformable;if(a.transform=r.calculateTransform(new zL(e,t,n,i)),a.decomposeTransform(),o){var s=a.scale;s[1]=-s[1]}a.updateTransform(),this._updateTransform()},getRegion:function(e){return this._regionsMap.get(e)},getRegionByCoord:function(e){for(var t=this.regions,n=0;n<t.length;n++)if(t[n].contain(e))return t[n]},addGeoCoord:function(e,t){this._nameCoordMap.set(e,t)},getGeoCoord:function(e){return this._nameCoordMap.get(e)},getBoundingRect:function(){return this._rect},dataToPoint:function(e,t,n){if("string"==typeof e&&(e=this.getGeoCoord(e)),e)return BL.prototype.dataToPoint.call(this,e,t,n)},convertToPixel:EL.curry(FL,"dataToPoint"),convertFromPixel:EL.curry(FL,"pointToData")},EL.mixin(GL,BL);var HL=c,WL=g,UL=GL,jL=Ih,ZL=Ah,YL=TP,XL=uy;function qL(e,t){var n=e.get("boundingCoords");if(null!=n){var i=n[0],r=n[1];isNaN(i[0])||isNaN(i[1])||isNaN(r[0])||isNaN(r[1])||this.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1])}var o,a=this.getBoundingRect(),s=e.get("layoutCenter"),l=e.get("layoutSize"),u=t.getWidth(),c=t.getHeight(),h=a.width/a.height*this.aspectScale,d=!1;if(s&&l&&(s=[ZL.parsePercent(s[0],u),ZL.parsePercent(s[1],c)],l=ZL.parsePercent(l,Math.min(u,c)),isNaN(s[0])||isNaN(s[1])||isNaN(l)||(d=!0)),d){var f={};h>1?(f.width=l,f.height=l/h):(f.height=l,f.width=l*h),f.y=s[1]-f.height/2,f.x=s[0]-f.width/2}else(o=e.getBoxLayoutParams()).aspect=h,f=jL.getLayoutRect(o,{width:u,height:c});this.setViewRect(f.x,f.y,f.width,f.height),this.setCenter(e.get("center")),this.setZoom(e.get("zoom"))}function KL(e,t){WL.each(t.get("geoCoord"),(function(t,n){e.addGeoCoord(n,t)}))}var JL={dimensions:UL.prototype.dimensions,create:function(e,t){var n=[];e.eachComponent("geo",(function(e,i){var r=e.get("map"),o=e.get("aspectScale"),a=!0,s=XL.retrieveMap(r);s&&s[0]&&"svg"===s[0].type?(null==o&&(o=1),a=!1):null==o&&(o=.75);var l=new UL(r+i,r,e.get("nameMap"),a);l.aspectScale=o,l.zoomLimit=e.get("scaleLimit"),n.push(l),KL(l,e),e.coordinateSystem=l,l.model=e,l.resize=qL,l.resize(e,t)})),e.eachSeries((function(e){if("geo"===e.get("coordinateSystem")){var t=e.get("geoIndex")||0;e.coordinateSystem=n[t]}}));var i={};return e.eachSeriesByType("map",(function(e){if(!e.getHostGeoModel()){var t=e.getMapType();i[t]=i[t]||[],i[t].push(e)}})),WL.each(i,(function(e,i){var r=WL.map(e,(function(e){return e.get("nameMap")})),o=new UL(i,i,WL.mergeAll(r));o.zoomLimit=WL.retrieve.apply(null,WL.map(e,(function(e){return e.get("scaleLimit")}))),n.push(o),o.resize=qL,o.aspectScale=e[0].get("aspectScale"),o.resize(e[0],t),WL.each(e,(function(e){e.coordinateSystem=o,KL(o,e)}))})),n},getFilledRegions:function(e,t,n){for(var i=(e||[]).slice(),r=WL.createHashMap(),o=0;o<i.length;o++)r.set(i[o].name,i[o]);var a=YL.load(t,n);return WL.each(a.regions,(function(e){var t=e.name;!r.get(t)&&i.push({name:t})})),i}};HL.registerCoordinateSystem("geo",JL);var QL=JL,$L=g;var ek=g;var tk=g;var nk=c,ik=function(e){var t={};e.eachSeriesByType("map",(function(n){var i=n.getMapType();if(!n.getHostGeoModel()&&!t[i]){var r={};$L.each(n.seriesGroup,(function(t){var n=t.coordinateSystem,i=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&i.each(i.mapDimension("value"),(function(e,t){var o=i.getName(t),a=n.getRegion(o);if(a&&!isNaN(e)){var s=r[o]||0,l=n.dataToPoint(a.center);r[o]=s+1,i.setItemLayout(t,{point:l,offset:s})}}))}));var o=n.getData();o.each((function(e){var t=o.getName(e),n=o.getItemLayout(e)||{};n.showLabel=!r[t],o.setItemLayout(e,n)})),t[i]=!0}}))},rk=function(e){e.eachSeriesByType("map",(function(e){var t=e.get("color"),n=e.getModel("itemStyle"),i=n.get("areaColor"),r=n.get("color")||t[e.seriesIndex%t.length];e.getData().setVisual({areaColor:i,color:r})}))},ok=function(e){var t={};e.eachSeriesByType("map",(function(e){var n=e.getHostGeoModel(),i=n?"o"+n.id:"i"+e.getMapType();(t[i]=t[i]||[]).push(e)})),ek.each(t,(function(e,t){for(var n,i,r,o=(n=ek.map(e,(function(e){return e.getData()})),i=e[0].get("mapValueCalculation"),r={},ek.each(n,(function(e){e.each(e.mapDimension("value"),(function(t,n){var i="ec-"+e.getName(n);r[i]=r[i]||[],isNaN(t)||r[i].push(t)}))})),n[0].map(n[0].mapDimension("value"),(function(e,t){for(var o="ec-"+n[0].getName(t),a=0,s=1/0,l=-1/0,u=r[o].length,c=0;c<u;c++)s=Math.min(s,r[o][c]),l=Math.max(l,r[o][c]),a+=r[o][c];return 0===u?NaN:"min"===i?s:"max"===i?l:"average"===i?a/u:a}))),a=0;a<e.length;a++)e[a].originalData=e[a].getData();for(a=0;a<e.length;a++)e[a].seriesGroup=e,e[a].needsDrawMap=0===a&&!e[a].getHostGeoModel(),e[a].setData(o.cloneShallow()),e[a].mainSeries=e[0]}))},ak=function(e){tk.each(e.series,(function(e){e&&"map"===e.type&&(e.map=e.map||e.mapType,tk.defaults(e,e.mapLocation))}))},sk=gD;nk.registerLayout(ik),nk.registerVisual(rk),nk.registerProcessor(nk.PRIORITY.PROCESSOR.STATISTIC,ok),nk.registerPreprocessor(ak),sk("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var lk=Ww;function uk(e,t,n){lk.call(this,e,t,n),this.type="value",this.angle=0,this.name="",this.model}g.inherits(uk,lk);var ck=g,hk=uk,dk=Sx,fk=Ah,pk=j_,gk=pk.getScaleExtent,mk=pk.niceScaleExtent,vk=Ff,yk=cb;function _k(e,t,n){this._model=e,this.dimensions=[],this._indicatorAxes=ck.map(e.getIndicatorModels(),(function(e,t){var n="indicator_"+t,i=new hk(n,"log"===e.get("axisType")?new yk:new dk);return i.name=e.get("name"),i.model=e,e.axis=i,this.dimensions.push(n),i}),this),this.resize(e,n),this.cx,this.cy,this.r,this.r0,this.startAngle}_k.prototype.getIndicatorAxes=function(){return this._indicatorAxes},_k.prototype.dataToPoint=function(e,t){var n=this._indicatorAxes[t];return this.coordToPoint(n.dataToCoord(e),t)},_k.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t].angle;return[this.cx+e*Math.cos(n),this.cy-e*Math.sin(n)]},_k.prototype.pointToData=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=Math.sqrt(t*t+n*n);t/=i,n/=i;for(var r,o=Math.atan2(-n,t),a=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var u=this._indicatorAxes[l],c=Math.abs(o-u.angle);c<a&&(r=u,s=l,a=c)}return[s,+(r&&r.coordToData(i))]},_k.prototype.resize=function(e,t){var n=e.get("center"),i=t.getWidth(),r=t.getHeight(),o=Math.min(i,r)/2;this.cx=fk.parsePercent(n[0],i),this.cy=fk.parsePercent(n[1],r),this.startAngle=e.get("startAngle")*Math.PI/180;var a=e.get("radius");"string"!=typeof a&&"number"!=typeof a||(a=[0,a]),this.r0=fk.parsePercent(a[0],o),this.r=fk.parsePercent(a[1],o),ck.each(this._indicatorAxes,(function(e,t){e.setExtent(this.r0,this.r);var n=this.startAngle+t*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),e.angle=n}),this)},_k.prototype.update=function(e,t){var n=this._indicatorAxes,i=this._model;ck.each(n,(function(e){e.scale.setExtent(1/0,-1/0)})),e.eachSeriesByType("radar",(function(t,r){if("radar"===t.get("coordinateSystem")&&e.getComponent("radar",t.get("radarIndex"))===i){var o=t.getData();ck.each(n,(function(e){e.scale.unionExtentFromData(o,o.mapDimension(e.dim))}))}}),this);var r=i.get("splitNumber");function o(e){var t=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),n=e/t;return 2===n?n=5:n*=2,n*t}ck.each(n,(function(e,t){var n=gk(e.scale,e.model).extent;mk(e.scale,e.model);var i=e.model,a=e.scale,s=i.getMin(),l=i.getMax(),u=a.getInterval();if(null!=s&&null!=l)a.setExtent(+s,+l),a.setInterval((l-s)/r);else if(null!=s){do{c=s+u*r,a.setExtent(+s,c),a.setInterval(u),u=o(u)}while(c<n[1]&&isFinite(c)&&isFinite(n[1]))}else if(null!=l){do{h=l-u*r,a.setExtent(h,+l),a.setInterval(u),u=o(u)}while(h>n[0]&&isFinite(h)&&isFinite(n[0]))}else{a.getTicks().length-1>r&&(u=o(u));var c=Math.ceil(n[1]/u)*u,h=fk.round(c-u*r);a.setExtent(h,c),a.setInterval(u)}}))},_k.dimensions=[],_k.create=function(e,t){var n=[];return e.eachComponent("radar",(function(i){var r=new _k(i,e,t);n.push(r),i.coordinateSystem=r})),e.eachSeriesByType("radar",(function(e){"radar"===e.get("coordinateSystem")&&(e.coordinateSystem=n[e.get("radarIndex")||0])})),n},vk.register("radar",_k);var xk=c,bk=g,wk=xh,Sk=Ab,Mk=IM.valueAxis;function Ik(e,t){return bk.defaults({show:t},e)}xk.extendComponentModel({type:"radar",optionUpdated:function(){var e=this.get("boundaryGap"),t=this.get("splitNumber"),n=this.get("scale"),i=this.get("axisLine"),r=this.get("axisTick"),o=this.get("axisType"),a=this.get("axisLabel"),s=this.get("name"),l=this.get("name.show"),u=this.get("name.formatter"),c=this.get("nameGap"),h=this.get("triggerEvent"),d=bk.map(this.get("indicator")||[],(function(d){null!=d.max&&d.max>0&&!d.min?d.min=0:null!=d.min&&d.min<0&&!d.max&&(d.max=0);var f=s;if(null!=d.color&&(f=bk.defaults({color:d.color},s)),d=bk.merge(bk.clone(d),{boundaryGap:e,splitNumber:t,scale:n,axisLine:i,axisTick:r,axisType:o,axisLabel:a,name:d.text,nameLocation:"end",nameGap:c,nameTextStyle:f,triggerEvent:h},!1),l||(d.name=""),"string"==typeof u){var p=d.name;d.name=u.replace("{value}",null!=p?p:"")}else"function"==typeof u&&(d.name=u(d.name,d));var g=bk.extend(new wk(d,null,this.ecModel),Sk);return g.mainType="radar",g.componentIndex=this.componentIndex,g}),this);this.getIndicatorModels=function(){return d}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:bk.merge({lineStyle:{color:"#bbb"}},Mk.axisLine),axisLabel:Ik(Mk.axisLabel,!1),axisTick:Ik(Mk.axisTick,!1),axisType:"interval",splitLine:Ik(Mk.splitLine,!0),splitArea:Ik(Mk.splitArea,!0),indicator:[]}});var Ak=g,Tk=SA,Ck=Ia,Dk=["axisLine","axisTickLabel","axisName"];c.extendComponentView({type:"radar",render:function(e,t,n){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},_buildAxes:function(e){var t=e.coordinateSystem,n=t.getIndicatorAxes(),i=Ak.map(n,(function(e){return new Tk(e.model,{position:[t.cx,t.cy],rotation:e.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}));Ak.each(i,(function(e){Ak.each(Dk,e.add,e),this.group.add(e.getGroup())}),this)},_buildSplitLineAndArea:function(e){var t=e.coordinateSystem,n=t.getIndicatorAxes();if(n.length){var i=e.get("shape"),r=e.getModel("splitLine"),o=e.getModel("splitArea"),a=r.getModel("lineStyle"),s=o.getModel("areaStyle"),l=r.get("show"),u=o.get("show"),c=a.get("color"),h=s.get("color");c=Ak.isArray(c)?c:[c],h=Ak.isArray(h)?h:[h];var d=[],f=[];if("circle"===i)for(var p=n[0].getTicksCoords(),g=t.cx,m=t.cy,v=0;v<p.length;v++){if(l)d[I(d,c,v)].push(new Ck.Circle({shape:{cx:g,cy:m,r:p[v].coord}}));if(u&&v<p.length-1)f[I(f,h,v)].push(new Ck.Ring({shape:{cx:g,cy:m,r0:p[v].coord,r:p[v+1].coord}}))}else{var y,_=Ak.map(n,(function(e,n){var i=e.getTicksCoords();return y=null==y?i.length-1:Math.min(i.length-1,y),Ak.map(i,(function(e){return t.coordToPoint(e.coord,n)}))})),x=[];for(v=0;v<=y;v++){for(var b=[],w=0;w<n.length;w++)b.push(_[w][v]);if(b[0]&&b.push(b[0].slice()),l)d[I(d,c,v)].push(new Ck.Polyline({shape:{points:b}}));if(u&&x)f[I(f,h,v-1)].push(new Ck.Polygon({shape:{points:b.concat(x)}}));x=b.slice().reverse()}}var S=a.getLineStyle(),M=s.getAreaStyle();Ak.each(f,(function(e,t){this.group.add(Ck.mergePath(e,{style:Ak.defaults({stroke:"none",fill:h[t%h.length]},M),silent:!0}))}),this),Ak.each(d,(function(e,t){this.group.add(Ck.mergePath(e,{style:Ak.defaults({fill:"none",stroke:c[t%c.length]},S),silent:!0}))}),this)}function I(e,t,n){var i=n%t.length;return e[i]=e[i]||[],i}}});var Pk=Hg,Lk=ZC,kk=g,Ok=Ph.encodeHTML,Nk=qC,Rk=Pk.extend({type:"series.radar",dependencies:["radar"],init:function(e){Rk.superApply(this,"init",arguments),this.legendVisualProvider=new Nk(kk.bind(this.getData,this),kk.bind(this.getRawData,this))},getInitialData:function(e,t){return Lk(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(e,t,n,i){var r=this.getData(),o=this.coordinateSystem.getIndicatorAxes(),a=this.getData().getName(e),s="html"===i?"<br/>":"\n";return Ok(""===a?this.name:a)+s+kk.map(o,(function(t,n){var i=r.get(r.mapDimension(t.dim),e);return Ok(t.name+" : "+i)})).join(s)},getTooltipPosition:function(e){if(null!=e)for(var t=this.getData(),n=this.coordinateSystem,i=t.getValues(kk.map(n.dimensions,(function(e){return t.mapDimension(e)})),e,!0),r=0,o=i.length;r<o;r++)if(!isNaN(i[r])){var a=n.getIndicatorAxes();return n.coordToPoint(a[r].dataToCoord(i[r]),r)}},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}}),Ek=Ia,zk=g,Bk=Tb;c.extendChartView({type:"radar",render:function(e,t,n){var i=e.coordinateSystem,r=this.group,o=e.getData(),a=this._data;function s(e,t){var n=e.getItemVisual(t,"symbol")||"circle",i=e.getItemVisual(t,"color");if("none"!==n){var r=function(e){return zk.isArray(e)||(e=[+e,+e]),e}(e.getItemVisual(t,"symbolSize")),o=Bk.createSymbol(n,-1,-1,2,2,i),a=e.getItemVisual(t,"symbolRotate")||0;return o.attr({style:{strokeNoScale:!0},z2:100,scale:[r[0]/2,r[1]/2],rotation:a*Math.PI/180||0}),o}}function l(t,n,i,r,o,a){i.removeAll();for(var l=0;l<n.length-1;l++){var u=s(r,o);u&&(u.__dimIdx=l,t[l]?(u.attr("position",t[l]),Ek[a?"initProps":"updateProps"](u,{position:n[l]},e,o)):u.attr("position",n[l]),i.add(u))}}function u(e){return zk.map(e,(function(e){return[i.cx,i.cy]}))}o.diff(a).add((function(t){var n=o.getItemLayout(t);if(n){var i=new Ek.Polygon,r=new Ek.Polyline,a={shape:{points:n}};i.shape.points=u(n),r.shape.points=u(n),Ek.initProps(i,a,e,t),Ek.initProps(r,a,e,t);var s=new Ek.Group,c=new Ek.Group;s.add(r),s.add(i),s.add(c),l(r.shape.points,n,c,o,t,!0),o.setItemGraphicEl(t,s)}})).update((function(t,n){var i=a.getItemGraphicEl(n),r=i.childAt(0),s=i.childAt(1),u=i.childAt(2),c={shape:{points:o.getItemLayout(t)}};c.shape.points&&(l(r.shape.points,c.shape.points,u,o,t,!1),Ek.updateProps(r,c,e),Ek.updateProps(s,c,e),o.setItemGraphicEl(t,i))})).remove((function(e){r.remove(a.getItemGraphicEl(e))})).execute(),o.eachItemGraphicEl((function(e,t){var n=o.getItemModel(t),i=e.childAt(0),a=e.childAt(1),s=e.childAt(2),l=o.getItemVisual(t,"color");r.add(e),i.useStyle(zk.defaults(n.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:l})),i.hoverStyle=n.getModel("emphasis.lineStyle").getLineStyle();var u=n.getModel("areaStyle"),c=n.getModel("emphasis.areaStyle"),h=u.isEmpty()&&u.parentModel.isEmpty(),d=c.isEmpty()&&c.parentModel.isEmpty();d=d&&h,a.ignore=h,a.useStyle(zk.defaults(u.getAreaStyle(),{fill:l,opacity:.7})),a.hoverStyle=c.getAreaStyle();var f=n.getModel("itemStyle").getItemStyle(["color"]),p=n.getModel("emphasis.itemStyle").getItemStyle(),g=n.getModel("label"),m=n.getModel("emphasis.label");s.eachChild((function(e){e.setStyle(f),e.hoverStyle=zk.clone(p);var n=o.get(o.dimensions[e.__dimIdx],t);(null==n||isNaN(n))&&(n=""),Ek.setLabelStyle(e.style,e.hoverStyle,g,m,{labelFetcher:o.hostModel,labelDataIndex:t,labelDimIndex:e.__dimIdx,defaultText:n,autoColor:l,isRectText:!0})})),e.highDownOnUpdate=function(e,t){a.attr("ignore","emphasis"===t?d:h)},Ek.setHoverStyle(e)})),this._data=o},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});var Vk=g;function Gk(e){return!isNaN(e[0])&&!isNaN(e[1])}function Fk(e){return[e.cx,e.cy]}var Hk=g;var Wk=c,Uk=vD,jk=PC,Zk=function(e){e.eachSeriesByType("radar",(function(e){var t=e.getData(),n=[],i=e.coordinateSystem;if(i){var r=i.getIndicatorAxes();Vk.each(r,(function(e,o){t.each(t.mapDimension(r[o].dim),(function(e,t){n[t]=n[t]||[];var r=i.dataToPoint(e,o);n[t][o]=Gk(r)?r:Fk(i)}))})),t.each((function(e){var r=Vk.find(n[e],(function(e){return Gk(e)}))||Fk(i);n[e].push(r.slice()),t.setItemLayout(e,n[e])}))}}))},Yk=kD,Xk=function(e){var t=e.polar;if(t){Hk.isArray(t)||(t=[t]);var n=[];Hk.each(t,(function(t,i){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),e.radar=e.radar||[],Hk.isArray(e.radar)||(e.radar=[e.radar]),e.radar.push(t)):n.push(t)})),e.polar=n}Hk.each(e.series,(function(e){e&&"radar"===e.type&&e.polarIndex&&(e.radarIndex=e.polarIndex)}))};Wk.registerVisual(Uk("radar")),Wk.registerVisual(jk("radar","circle")),Wk.registerLayout(Zk),Wk.registerProcessor(Yk("radar")),Wk.registerPreprocessor(Xk);var qk=U_;Hg.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(e,t){return qk(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",getProgressive:function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},clip:!0}});var Kk=Ia,Jk=Tb.createSymbol,Qk=Uu,$k=Kk.extendShape({shape:{points:null},symbolProxy:null,softClipShape:null,buildPath:function(e,t){var n=t.points,i=t.size,r=this.symbolProxy,o=r.shape;if(!((e.getContext?e.getContext():e)&&i[0]<4))for(var a=0;a<n.length;){var s=n[a++],l=n[a++];isNaN(s)||isNaN(l)||(this.softClipShape&&!this.softClipShape.contain(s,l)||(o.x=s-i[0]/2,o.y=l-i[1]/2,o.width=i[0],o.height=i[1],r.buildPath(e,o,!0)))}},afterBrush:function(e){var t=this.shape,n=t.points,i=t.size;if(i[0]<4){this.setTransform(e);for(var r=0;r<n.length;){var o=n[r++],a=n[r++];isNaN(o)||isNaN(a)||(this.softClipShape&&!this.softClipShape.contain(o,a)||e.fillRect(o-i[0]/2,a-i[1]/2,i[0],i[1]))}this.restoreTransform(e)}},findDataIndex:function(e,t){for(var n=this.shape,i=n.points,r=n.size,o=Math.max(r[0],4),a=Math.max(r[1],4),s=i.length/2-1;s>=0;s--){var l=2*s,u=i[l]-o/2,c=i[l+1]-a/2;if(e>=u&&t>=c&&e<=u+o&&t<=c+a)return s}return-1}});function eO(){this.group=new Kk.Group}var tO=eO.prototype;tO.isPersistent=function(){return!this._incremental},tO.updateData=function(e,t){this.group.removeAll();var n=new $k({rectHover:!0,cursor:"default"});n.setShape({points:e.getLayout("symbolPoints")}),this._setCommon(n,e,!1,t),this.group.add(n),this._incremental=null},tO.updateLayout=function(e){if(!this._incremental){var t=e.getLayout("symbolPoints");this.group.eachChild((function(e){if(null!=e.startIndex){var n=2*(e.endIndex-e.startIndex),i=4*e.startIndex*2;t=new Float32Array(t.buffer,i,n)}e.setShape("points",t)}))}},tO.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),e.count()>2e6?(this._incremental||(this._incremental=new Qk({silent:!0})),this.group.add(this._incremental)):this._incremental=null},tO.incrementalUpdate=function(e,t,n){var i;this._incremental?(i=new $k,this._incremental.addDisplayable(i,!0)):((i=new $k({rectHover:!0,cursor:"default",startIndex:e.start,endIndex:e.end})).incremental=!0,this.group.add(i)),i.setShape({points:t.getLayout("symbolPoints")}),this._setCommon(i,t,!!this._incremental,n)},tO._setCommon=function(e,t,n,i){var r=t.hostModel;i=i||{};var o=t.getVisual("symbolSize");e.setShape("size",o instanceof Array?o:[o,o]),e.softClipShape=i.clipShape||null,e.symbolProxy=Jk(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var a=e.shape.size[0]<4;e.useStyle(r.getModel("itemStyle").getItemStyle(a?["color","shadowBlur","shadowColor"]:["color"]));var s=t.getVisual("color");s&&e.setColor(s),n||(e.seriesIndex=r.seriesIndex,e.on("mousemove",(function(t){e.dataIndex=null;var n=e.findDataIndex(t.offsetX,t.offsetY);n>=0&&(e.dataIndex=n+(e.startIndex||0))})))},tO.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},tO._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var nO=NT,iO=eO,rO=NC;c.extendChartView({type:"scatter",render:function(e,t,n){var i=e.getData();this._updateSymbolDraw(i,e).updateData(i,{clipShape:this._getClipShape(e)}),this._finished=!0},incrementalPrepareRender:function(e,t,n){var i=e.getData();this._updateSymbolDraw(i,e).incrementalPrepareUpdate(i),this._finished=!1},incrementalRender:function(e,t,n){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)}),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,n){var i=e.getData();if(this.group.dirty(),!this._finished||i.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var r=rO().reset(e);r.progress&&r.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_getClipShape:function(e){var t=e.coordinateSystem,n=t&&t.getArea&&t.getArea();return e.get("clip",!0)?n:null},_updateSymbolDraw:function(e,t){var n=this._symbolDraw,i=t.pipelineContext.large;return n&&i===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=i?new iO:new nO,this._isLargeDraw=i,this.group.removeAll()),this.group.add(n.group),n},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}});var oO=c,aO=PC,sO=NC;oO.registerVisual(aO("scatter","circle")),oO.registerLayout(sO("scatter"));var lO=U_;Hg.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(e,t){return lO(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});var uO=g,cO=Tb.createSymbol,hO=Ia.Group,dO=Ah.parsePercent,fO=IT;function pO(e,t){var n=t.rippleEffectColor||t.color;e.eachChild((function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?n:null,fill:"fill"===t.brushType?n:null}})}))}function gO(e,t){hO.call(this);var n=new fO(e,t),i=new hO;this.add(n),this.add(i),i.beforeUpdate=function(){this.attr(n.getScale())},this.updateData(e,t)}var mO=gO.prototype;mO.stopEffectAnimation=function(){this.childAt(1).removeAll()},mO.startEffectAnimation=function(e){for(var t=e.symbolType,n=e.color,i=this.childAt(1),r=0;r<3;r++){var o=cO(t,-1,-1,2,2,n);o.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var a=-r/3*e.period+e.effectOffset;o.animate("",!0).when(e.period,{scale:[e.rippleScale/2,e.rippleScale/2]}).delay(a).start(),o.animateStyle(!0).when(e.period,{opacity:0}).delay(a).start(),i.add(o)}pO(i,e)},mO.updateEffectAnimation=function(e){for(var t=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale"],r=0;r<i.length;r++){var o=i[r];if(t[o]!==e[o])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}pO(n,e)},mO.highlight=function(){this.trigger("emphasis")},mO.downplay=function(){this.trigger("normal")},mO.updateData=function(e,t){var n=e.hostModel;this.childAt(0).updateData(e,t);var i=this.childAt(1),r=e.getItemModel(t),o=e.getItemVisual(t,"symbol"),a=function(e){return uO.isArray(e)||(e=[+e,+e]),e}(e.getItemVisual(t,"symbolSize")),s=e.getItemVisual(t,"color");i.attr("scale",a),i.traverse((function(e){e.attr({fill:s})}));var l=r.getShallow("symbolOffset");if(l){var u=i.position;u[0]=dO(l[0],a[0]),u[1]=dO(l[1],a[1])}var c=e.getItemVisual(t,"symbolRotate");i.rotation=(c||0)*Math.PI/180||0;var h={};if(h.showEffectOn=n.get("showEffectOn"),h.rippleScale=r.get("rippleEffect.scale"),h.brushType=r.get("rippleEffect.brushType"),h.period=1e3*r.get("rippleEffect.period"),h.effectOffset=t/e.count(),h.z=r.getShallow("z")||0,h.zlevel=r.getShallow("zlevel")||0,h.symbolType=o,h.color=s,h.rippleEffectColor=r.get("rippleEffect.color"),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===h.showEffectOn)this._effectCfg?this.updateEffectAnimation(h):this.startEffectAnimation(h),this._effectCfg=h;else{this._effectCfg=null,this.stopEffectAnimation();var d=this.childAt(0),f=function(){d.highlight(),"render"!==h.showEffectOn&&this.startEffectAnimation(h)},p=function(){d.downplay(),"render"!==h.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",f,this).on("mouseout",p,this).on("emphasis",f,this).on("normal",p,this)}this._effectCfg=h},mO.fadeOut=function(e){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),e&&e()},uO.inherits(gO,hO);var vO=NT,yO=gO,_O=Fe,xO=NC;c.extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new vO(yO)},render:function(e,t,n){var i=e.getData(),r=this._symbolDraw;r.updateData(i),this.group.add(r.group)},updateTransform:function(e,t,n){var i=e.getData();this.group.dirty();var r=xO().reset(e);r.progress&&r.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_updateGroupTransform:function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=_O.clone(t.getRoamTransform()),this.group.decomposeTransform())},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(t)},dispose:function(){}});var bO=c,wO=PC,SO=NC;bO.registerVisual(wO("effectScatter","circle")),bO.registerLayout(SO("effectScatter"));var MO=g,IO=na;var AO=function(e,t){var n,i=[],r=e.seriesIndex;if(null==r||!(n=t.getSeriesByIndex(r)))return{point:[]};var o=n.getData(),a=IO.queryDataIndex(o,e);if(null==a||a<0||MO.isArray(a))return{point:[]};var s=o.getItemGraphicEl(a),l=n.coordinateSystem;if(n.getTooltipPosition)i=n.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)i=l.dataToPoint(o.getValues(MO.map(l.dimensions,(function(e){return o.mapDimension(e)})),a,!0))||[];else if(s){var u=s.getBoundingRect().clone();u.applyTransform(s.transform),i=[u.x+u.width/2,u.y+u.height/2]}return{point:i,el:s}},TO=g,CO=na.makeInner,DO=MA,PO=AO,LO=TO.each,kO=TO.curry,OO=CO();function NO(e,t,n,i,r){var o=e.axis;if(!o.scale.isBlank()&&o.containData(t))if(e.involveSeries){var a=function(e,t){var n=t.axis,i=n.dim,r=e,o=[],a=Number.MAX_VALUE,s=-1;return LO(t.seriesModels,(function(t,l){var u,c,h=t.getData().mapDimension(i,!0);if(t.getAxisTooltipData){var d=t.getAxisTooltipData(h,e,n);c=d.dataIndices,u=d.nestestValue}else{if(!(c=t.getData().indicesOfNearest(h[0],e,"category"===n.type?.5:null)).length)return;u=t.getData().get(h[0],c[0])}if(null!=u&&isFinite(u)){var f=e-u,p=Math.abs(f);p<=a&&((p<a||f>=0&&s<0)&&(a=p,s=f,r=u,o.length=0),LO(c,(function(e){o.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})})))}})),{payloadBatch:o,snapToValue:r}}(t,e),s=a.payloadBatch,l=a.snapToValue;s[0]&&null==r.seriesIndex&&TO.extend(r,s[0]),!i&&e.snap&&o.containData(l)&&null!=l&&(t=l),n.showPointer(e,t,s,r),n.showTooltip(e,a,l)}else n.showPointer(e,t)}function RO(e,t,n,i){e[t.key]={value:n,payloadBatch:i}}function EO(e,t,n,i){var r=n.payloadBatch,o=t.axis,a=o.model,s=t.axisPointerModel;if(t.triggerTooltip&&r.length){var l=t.coordSys.model,u=DO.makeKey(l),c=e.map[u];c||(c=e.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(c)),c.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:i,valueLabelOpt:{precision:s.get("label.precision"),formatter:s.get("label.formatter")},seriesDataIndices:r.slice()})}}function zO(e){var t=e.axis.model,n={},i=n.axisDim=e.axis.dim;return n.axisIndex=n[i+"AxisIndex"]=t.componentIndex,n.axisName=n[i+"AxisName"]=t.name,n.axisId=n[i+"AxisId"]=t.id,n}function BO(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}var VO=function(e,t,n){var i=e.currTrigger,r=[e.x,e.y],o=e,a=e.dispatchAction||TO.bind(n.dispatchAction,n),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){BO(r)&&(r=PO({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},t).point);var l=BO(r),u=o.axesInfo,c=s.axesInfo,h="leave"===i||BO(r),d={},f={},p={list:[],map:{}},g={showPointer:kO(RO,f),showTooltip:kO(EO,p)};LO(s.coordSysMap,(function(e,t){var n=l||e.containPoint(r);LO(s.coordSysAxesInfo[t],(function(e,t){var i=e.axis,o=function(e,t){for(var n=0;n<(e||[]).length;n++){var i=e[n];if(t.axis.dim===i.axisDim&&t.axis.model.componentIndex===i.axisIndex)return i}}(u,e);if(!h&&n&&(!u||o)){var a=o&&o.value;null!=a||l||(a=i.pointToData(r)),null!=a&&NO(e,a,g,!1,d)}}))}));var m={};return LO(c,(function(e,t){var n=e.linkGroup;n&&!f[t]&&LO(n.axesInfo,(function(t,i){var r=f[i];if(t!==e&&r){var o=r.value;n.mapper&&(o=e.axis.scale.parse(n.mapper(o,zO(t),zO(e)))),m[e.key]=o}}))})),LO(m,(function(e,t){NO(c[t],e,g,!0,d)})),function(e,t,n){var i=n.axesInfo=[];LO(t,(function(t,n){var r=t.axisPointerModel.option,o=e[n];o?(!t.useHandle&&(r.status="show"),r.value=o.value,r.seriesDataIndices=(o.payloadBatch||[]).slice()):!t.useHandle&&(r.status="hide"),"show"===r.status&&i.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:r.value})}))}(f,c,d),function(e,t,n,i){if(BO(t)||!e.list.length)return void i({type:"hideTip"});var r=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:e.list})}(p,r,e,a),function(e,t,n){var i=n.getZr(),r="axisPointerLastHighlights",o=OO(i)[r]||{},a=OO(i)[r]={};LO(e,(function(e,t){var n=e.axisPointerModel.option;"show"===n.status&&LO(n.seriesDataIndices,(function(e){var t=e.seriesIndex+" | "+e.dataIndex;a[t]=e}))}));var s=[],l=[];TO.each(o,(function(e,t){!a[t]&&l.push(e)})),TO.each(a,(function(e,t){!o[t]&&s.push(e)})),l.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,batch:l}),s.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,batch:s})}(c,0,n),d}};c.extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});var GO={},FO=g,HO=p,WO=(0,na.makeInner)(),UO=FO.each;function jO(e,t,n){e.handler("leave",null,n)}function ZO(e,t,n,i){t.handler(e,n,i)}GO.register=function(e,t,n){if(!HO.node){var i=t.getZr();WO(i).records||(WO(i).records={}),function(e,t){if(WO(e).initialized)return;function n(n,i){e.on(n,(function(n){var r=function(e){var t={showTip:[],hideTip:[]},n=function(i){var r=t[i.type];r?r.push(i):(i.dispatchAction=n,e.dispatchAction(i))};return{dispatchAction:n,pendings:t}}(t);UO(WO(e).records,(function(e){e&&i(e,n,r.dispatchAction)})),function(e,t){var n,i=e.showTip.length,r=e.hideTip.length;i?n=e.showTip[i-1]:r&&(n=e.hideTip[r-1]);n&&(n.dispatchAction=null,t.dispatchAction(n))}(r.pendings,t)}))}WO(e).initialized=!0,n("click",FO.curry(ZO,"click")),n("mousemove",FO.curry(ZO,"mousemove")),n("globalout",jO)}(i,t),(WO(i).records[e]||(WO(i).records[e]={})).handler=n}},GO.unregister=function(e,t){if(!HO.node){var n=t.getZr();(WO(n).records||{})[e]&&(WO(n).records[e]=null)}};var YO=GO,XO=c.extendComponentView({type:"axisPointer",render:function(e,t,n){var i=t.getComponent("tooltip"),r=e.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";YO.register("axisPointer",n,(function(e,t,n){"none"!==r&&("leave"===e||r.indexOf(e)>=0)&&n({type:"updateAxisPointer",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})}))},remove:function(e,t){YO.unregister(t.getZr(),"axisPointer"),XO.superApply(this._model,"remove",arguments)},dispose:function(e,t){YO.unregister("axisPointer",t),XO.superApply(this._model,"dispose",arguments)}}),qO=g,KO=da,JO=Ia,QO=MA,$O=ne,eN=gm,tN=(0,na.makeInner)(),nN=qO.clone,iN=qO.bind;function rN(){}function oN(e,t,n,i){aN(tN(n).lastProp,i)||(tN(n).lastProp=i,t?JO.updateProps(n,i,e):(n.stopAnimation(),n.attr(i)))}function aN(e,t){if(qO.isObject(e)&&qO.isObject(t)){var n=!0;return qO.each(t,(function(t,i){n=n&&aN(e[i],t)})),!!n}return e===t}function sN(e,t){e[t.get("label.show")?"show":"hide"]()}function lN(e){return{position:e.position.slice(),rotation:e.rotation||0}}function uN(e,t,n){var i=t.get("z"),r=t.get("zlevel");e&&e.traverse((function(e){"group"!==e.type&&(null!=i&&(e.z=i),null!=r&&(e.zlevel=r),e.silent=n)}))}rN.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(e,t,n,i){var r=t.get("value"),o=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,i||this._lastValue!==r||this._lastStatus!==o){this._lastValue=r,this._lastStatus=o;var a=this._group,s=this._handle;if(!o||"hide"===o)return a&&a.hide(),void(s&&s.hide());a&&a.show(),s&&s.show();var l={};this.makeElOption(l,r,e,t,n);var u=l.graphicKey;u!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=u;var c=this._moveAnimation=this.determineAnimation(e,t);if(a){var h=qO.curry(oN,t,c);this.updatePointerEl(a,l,h,t),this.updateLabelEl(a,l,h,t)}else a=this._group=new JO.Group,this.createPointerEl(a,l,e,t),this.createLabelEl(a,l,e,t),n.getZr().add(a);uN(a,t,!0),this._renderHandle(r)}},remove:function(e){this.clear(e)},dispose:function(e){this.clear(e)},determineAnimation:function(e,t){var n=t.get("animation"),i=e.axis,r="category"===i.type,o=t.get("snap");if(!o&&!r)return!1;if("auto"===n||null==n){var a=this.animationThreshold;if(r&&i.getBandWidth()>a)return!0;if(o){var s=QO.getAxisInfo(e).seriesDataCount,l=i.getExtent();return Math.abs(l[0]-l[1])/s>a}return!1}return!0===n},makeElOption:function(e,t,n,i,r){},createPointerEl:function(e,t,n,i){var r=t.pointer;if(r){var o=tN(e).pointerEl=new JO[r.type](nN(t.pointer));e.add(o)}},createLabelEl:function(e,t,n,i){if(t.label){var r=tN(e).labelEl=new JO.Rect(nN(t.label));e.add(r),sN(r,i)}},updatePointerEl:function(e,t,n){var i=tN(e).pointerEl;i&&t.pointer&&(i.setStyle(t.pointer.style),n(i,{shape:t.pointer.shape}))},updateLabelEl:function(e,t,n,i){var r=tN(e).labelEl;r&&(r.setStyle(t.label.style),n(r,{shape:t.label.shape,position:t.label.position}),sN(r,i))},_renderHandle:function(e){if(!this._dragging&&this.updateHandleTransform){var t,n=this._axisPointerModel,i=this._api.getZr(),r=this._handle,o=n.getModel("handle"),a=n.get("status");if(!o.get("show")||!a||"hide"===a)return r&&i.remove(r),void(this._handle=null);this._handle||(t=!0,r=this._handle=JO.createIcon(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(e){$O.stop(e.event)},onmousedown:iN(this._onHandleDragMove,this,0,0),drift:iN(this._onHandleDragMove,this),ondragend:iN(this._onHandleDragEnd,this)}),i.add(r)),uN(r,n,!1);r.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=o.get("size");qO.isArray(s)||(s=[s,s]),r.attr("scale",[s[0]/2,s[1]/2]),eN.createOrUpdate(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},_moveHandleToValue:function(e,t){oN(this._axisPointerModel,!t&&this._moveAnimation,this._handle,lN(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(e,t){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(lN(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(lN(i)),tN(n).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},_onHandleDragEnd:function(e){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,i=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}}},rN.prototype.constructor=rN,KO.enableClassExtend(rN);var cN=rN,hN={},dN=g,fN=Ia,pN=xi,gN=Ph,mN=Fe,vN=j_,yN=SA;function _N(e,t,n,i,r){var o=xN(n.get("value"),t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get("label.precision"),formatter:n.get("label.formatter")}),a=n.getModel("label"),s=gN.normalizeCssArray(a.get("padding")||0),l=a.getFont(),u=pN.getBoundingRect(o,l),c=r.position,h=u.width+s[1]+s[3],d=u.height+s[0]+s[2],f=r.align;"right"===f&&(c[0]-=h),"center"===f&&(c[0]-=h/2);var p=r.verticalAlign;"bottom"===p&&(c[1]-=d),"middle"===p&&(c[1]-=d/2),function(e,t,n,i){var r=i.getWidth(),o=i.getHeight();e[0]=Math.min(e[0]+t,r)-t,e[1]=Math.min(e[1]+n,o)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}(c,h,d,i);var g=a.get("backgroundColor");g&&"auto"!==g||(g=t.get("axisLine.lineStyle.color")),e.label={shape:{x:0,y:0,width:h,height:d,r:a.get("borderRadius")},position:c.slice(),style:{text:o,textFont:l,textFill:a.getTextColor(),textPosition:"inside",textPadding:s,fill:g,stroke:a.get("borderColor")||"transparent",lineWidth:a.get("borderWidth")||0,shadowBlur:a.get("shadowBlur"),shadowColor:a.get("shadowColor"),shadowOffsetX:a.get("shadowOffsetX"),shadowOffsetY:a.get("shadowOffsetY")},z2:10}}function xN(e,t,n,i,r){e=t.scale.parse(e);var o=t.scale.getLabel(e,{precision:r.precision}),a=r.formatter;if(a){var s={value:vN.getAxisRawValue(t,e),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};dN.each(i,(function(e){var t=n.getSeriesByIndex(e.seriesIndex),i=e.dataIndexInside,r=t&&t.getDataParams(i);r&&s.seriesData.push(r)})),dN.isString(a)?o=a.replace("{value}",o):dN.isFunction(a)&&(o=a(s))}return o}function bN(e,t,n){var i=mN.create();return mN.rotate(i,i,n.rotation),mN.translate(i,i,n.position),fN.applyTransform([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}hN.buildElStyle=function(e){var t,n=e.get("type"),i=e.getModel(n+"Style");return"line"===n?(t=i.getLineStyle()).fill=null:"shadow"===n&&((t=i.getAreaStyle()).stroke=null),t},hN.buildLabelElOption=_N,hN.getValueLabel=xN,hN.getTransformedPosition=bN,hN.buildCartesianSingleLabelElOption=function(e,t,n,i,r,o){var a=yN.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=r.get("label.margin"),_N(t,i,r,o,{position:bN(i.axis,e,n),align:a.textAlign,verticalAlign:a.textVerticalAlign})},hN.makeLineShape=function(e,t,n){return{x1:e[n=n||0],y1:e[1-n],x2:t[n],y2:t[1-n]}},hN.makeRectShape=function(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}},hN.makeSectorShape=function(e,t,n,i,r,o){return{cx:e,cy:t,r0:n,r:i,startAngle:r,endAngle:o,clockwise:!0}};var wN=hN,SN=VA,MN=BA,IN=cN.extend({makeElOption:function(e,t,n,i,r){var o=n.axis,a=o.grid,s=i.get("type"),l=AN(a,o).getOtherAxis(o).getGlobalExtent(),u=o.toGlobalCoord(o.dataToCoord(t,!0));if(s&&"none"!==s){var c=wN.buildElStyle(i),h=TN[s](o,u,l);h.style=c,e.graphicKey=h.type,e.pointer=h}var d=SN.layout(a.model,n);wN.buildCartesianSingleLabelElOption(t,e,d,n,i,r)},getHandleTransform:function(e,t,n){var i=SN.layout(t.axis.grid.model,t,{labelInside:!1});return i.labelMargin=n.get("handle.margin"),{position:wN.getTransformedPosition(t.axis,e,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,n,i){var r=n.axis,o=r.grid,a=r.getGlobalExtent(!0),s=AN(o,r).getOtherAxis(r).getGlobalExtent(),l="x"===r.dim?0:1,u=e.position;u[l]+=t[l],u[l]=Math.min(a[1],u[l]),u[l]=Math.max(a[0],u[l]);var c=(s[1]+s[0])/2,h=[c,c];h[l]=u[l];return{position:u,rotation:e.rotation,cursorPoint:h,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][l]}}});function AN(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}var TN={line:function(e,t,n){return{type:"Line",subPixelOptimize:!0,shape:wN.makeLineShape([t,n[0]],[t,n[1]],CN(e))}},shadow:function(e,t,n){var i=Math.max(1,e.getBandWidth()),r=n[1]-n[0];return{type:"Rect",shape:wN.makeRectShape([t-i/2,n[0]],[i,r],CN(e))}}};function CN(e){return"x"===e.dim?0:1}MN.registerAxisPointerClass("CartesianAxisPointer",IN);var DN=c,PN=g,LN=MA,kN=VO;DN.registerPreprocessor((function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!PN.isArray(t)&&(e.axisPointer.link=[t])}})),DN.registerProcessor(DN.PRIORITY.PROCESSOR.STATISTIC,(function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=LN.collect(e,t)})),DN.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},kN),c.extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var ON=g,NN=at,RN=ne,EN=ie,zN=p,BN=Ph,VN=ON.each,GN=BN.toCamelCase,FN=["","-webkit-","-moz-","-o-"];function HN(e){var t,n,i,r=[],o=e.get("transitionDuration"),a=e.get("backgroundColor"),s=e.getModel("textStyle"),l=e.get("padding");return o&&r.push((i="left "+(t=o)+"s "+(n="cubic-bezier(0.23, 1, 0.32, 1)")+",top "+t+"s "+n,ON.map(FN,(function(e){return e+"transition:"+i})).join(";"))),a&&(zN.canvasSupported?r.push("background-Color:"+a):(r.push("background-Color:#"+NN.toHex(a)),r.push("filter:alpha(opacity=70)"))),VN(["width","color","radius"],(function(t){var n="border-"+t,i=GN(n),o=e.get(i);null!=o&&r.push(n+":"+o+("color"===t?"":"px"))})),r.push(function(e){var t=[],n=e.get("fontSize"),i=e.getTextColor();i&&t.push("color:"+i),t.push("font:"+e.getFont());var r=e.get("lineHeight");null==r&&(r=Math.round(3*n/2)),n&&t.push("line-height:"+r+"px");var o=e.get("textShadowColor"),a=e.get("textShadowBlur")||0,s=e.get("textShadowOffsetX")||0,l=e.get("textShadowOffsetY")||0;return a&&t.push("text-shadow:"+s+"px "+l+"px "+a+"px "+o),VN(["decoration","align"],(function(n){var i=e.get(n);i&&t.push("text-"+n+":"+i)})),t.join(";")}(s)),null!=l&&r.push("padding:"+BN.normalizeCssArray(l).join("px ")+"px"),r.join(";")+";"}function WN(e,t,n,i,r){var o=t&&t.painter;if(n){var a=o&&o.getViewportRoot();a&&EN.transformLocalCoord(e,a,document.body,i,r)}else{e[0]=i,e[1]=r;var s=o&&o.getViewportRootOffset();s&&(e[0]+=s.offsetLeft,e[1]+=s.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}function UN(e,t,n){if(zN.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var r=this._zr=t.getZr(),o=this._appendToBody=n&&n.appendToBody;this._styleCoord=[0,0,0,0],WN(this._styleCoord,r,o,t.getWidth()/2,t.getHeight()/2),o?document.body.appendChild(i):e.appendChild(i),this._container=e,this._show=!1,this._hideTimeout;var a=this;i.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},i.onmousemove=function(e){if(e=e||window.event,!a._enterable){var t=r.handler,n=r.painter.getViewportRoot();RN.normalizeEvent(n,e,!0),t.dispatch("mousemove",e)}},i.onmouseleave=function(){a._enterable&&a._show&&a.hideLater(a._hideDelay),a._inContent=!1}}UN.prototype={constructor:UN,_enterable:!0,update:function(e){var t=this._container,n=t.currentStyle||document.defaultView.getComputedStyle(t),i=t.style;"absolute"!==i.position&&"absolute"!==n.position&&(i.position="relative"),e.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var e=this._styleCoord[2],t=this._styleCoord[3],n=e*this._zr.getWidth(),i=t*this._zr.getHeight();this.moveTo(n,i)},show:function(e){clearTimeout(this._hideTimeout);var t=this.el,n=this._styleCoord;t.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+HN(e)+";left:"+n[0]+"px;top:"+n[1]+"px;"+(e.get("extraCssText")||""),t.style.display=t.innerHTML?"block":"none",t.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(e){this.el.innerHTML=null==e?"":e},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el;return[e.clientWidth,e.clientHeight]},moveTo:function(e,t){var n=this._styleCoord;WN(n,this._zr,this._appendToBody,e,t);var i=this.el.style;i.left=n[0]+"px",i.top=n[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(ON.bind(this.hide,this),e)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var e=this.el.clientWidth,t=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var n=document.defaultView.getComputedStyle(this.el);n&&(e+=parseInt(n.borderLeftWidth,10)+parseInt(n.borderRightWidth,10),t+=parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10))}return{width:e,height:t}}};var jN=UN,ZN=g,YN=Dl,XN=Ia;function qN(e,t,n,i){e[0]=n,e[1]=i,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}function KN(e){var t=this._zr=e.getZr();this._styleCoord=[0,0,0,0],qN(this._styleCoord,t,e.getWidth()/2,e.getHeight()/2),this._show=!1,this._hideTimeout}KN.prototype={constructor:KN,_enterable:!0,update:function(e){e.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var e=this._styleCoord[2],t=this._styleCoord[3],n=e*this._zr.getWidth(),i=t*this._zr.getHeight();this.moveTo(n,i)},show:function(e){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(e,t,n){this.el&&this._zr.remove(this.el);for(var i={},r=e,o="{marker",a=r.indexOf(o);a>=0;){var s=r.indexOf("|}"),l=r.substr(a+o.length,s-a-o.length);l.indexOf("sub")>-1?i["marker"+l]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:t[l],textOffset:[3,0]}:i["marker"+l]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:t[l]},a=(r=r.substr(s+1)).indexOf("{marker")}var u=n.getModel("textStyle"),c=u.get("fontSize"),h=n.get("textLineHeight");null==h&&(h=Math.round(3*c/2)),this.el=new YN({style:XN.setTextStyle({},u,{rich:i,text:e,textBackgroundColor:n.get("backgroundColor"),textBorderRadius:n.get("borderRadius"),textFill:n.get("textStyle.color"),textPadding:n.get("padding"),textLineHeight:h}),z:n.get("z")}),this._zr.add(this.el);var d=this;this.el.on("mouseover",(function(){d._enterable&&(clearTimeout(d._hideTimeout),d._show=!0),d._inContent=!0})),this.el.on("mouseout",(function(){d._enterable&&d._show&&d.hideLater(d._hideDelay),d._inContent=!1}))},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el.getBoundingRect();return[e.width,e.height]},moveTo:function(e,t){if(this.el){var n=this._styleCoord;qN(n,this._zr,e,t),this.el.attr("position",[n[0],n[1]])}},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(ZN.bind(this.hide,this),e)):this.hide())},isShow:function(){return this._show},dispose:function(){clearTimeout(this._hideTimeout),this.el&&this._zr.remove(this.el)},getOuterSize:function(){var e=this.getSize();return{width:e[0],height:e[1]}}};var JN=c,QN=g,$N=p,eR=jN,tR=KN,nR=Ph,iR=Ah,rR=Ia,oR=AO,aR=Ih,sR=xh,lR=GO,uR=j_,cR=hN,hR=na.getTooltipRenderMode,dR=QN.bind,fR=QN.each,pR=iR.parsePercent,gR=new rR.Rect({shape:{x:-1,y:-1,width:2,height:2}});function mR(e){for(var t=e.pop();e.length;){var n=e.pop();n&&(sR.isInstance(n)&&(n=n.get("tooltip",!0)),"string"==typeof n&&(n={formatter:n}),t=new sR(n,t,t.ecModel))}return t}function vR(e,t){return e.dispatchAction||QN.bind(t.dispatchAction,t)}function yR(e){return"center"===e||"middle"===e}JN.extendComponentView({type:"tooltip",init:function(e,t){if(!$N.node){var n,i=e.getComponent("tooltip"),r=i.get("renderMode");this._renderMode=hR(r),"html"===this._renderMode?(n=new eR(t.getDom(),t,{appendToBody:i.get("appendToBody",!0)}),this._newLine="<br/>"):(n=new tR(t),this._newLine="\n"),this._tooltipContent=n}},render:function(e,t,n){if(!$N.node){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=n,this._lastDataByCoordSys=null,this._alwaysShowContent=e.get("alwaysShowContent");var i=this._tooltipContent;i.update(e),i.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var e=this._tooltipModel.get("triggerOn");lR.register("itemTooltip",this._api,dR((function(t,n,i){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(n,i):"leave"===t&&this._hide(i))}),this))},_keepShow:function(){var e=this._tooltipModel,t=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")){var i=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!n.isDisposed()&&i.manuallyShowTip(e,t,n,{x:i._lastX,y:i._lastY})}))}},manuallyShowTip:function(e,t,n,i){if(i.from!==this.uid&&!$N.node){var r=vR(i,n);this._ticket="";var o=i.dataByCoordSys;if(i.tooltip&&null!=i.x&&null!=i.y){var a=gR;a.position=[i.x,i.y],a.update(),a.tooltip=i.tooltip,this._tryShow({offsetX:i.x,offsetY:i.y,target:a},r)}else if(o)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:i.dataByCoordSys,tooltipOption:i.tooltipOption},r);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(e,t,n,i))return;var s=oR(i,t),l=s.point[0],u=s.point[1];null!=l&&null!=u&&this._tryShow({offsetX:l,offsetY:u,position:i.position,target:s.el},r)}else null!=i.x&&null!=i.y&&(n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target},r))}},manuallyHideTip:function(e,t,n,i){var r=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&r.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,i.from!==this.uid&&this._hide(vR(i,n))},_manuallyAxisShowTip:function(e,t,n,i){var r=i.seriesIndex,o=i.dataIndex,a=t.getComponent("axisPointer").coordSysAxesInfo;if(null!=r&&null!=o&&null!=a){var s=t.getSeriesByIndex(r);if(s)if("axis"===(e=mR([s.getData().getItemModel(o),s,(s.coordinateSystem||{}).model,e])).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:r,dataIndex:o,position:i.position}),!0}},_tryShow:function(e,t){var n=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var i=e.dataByCoordSys;i&&i.length?this._showAxisTooltip(i,e):n&&null!=n.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(e,n,t)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(e,n,t)):(this._lastDataByCoordSys=null,this._hide(t))}},_showOrMove:function(e,t){var n=e.get("showDelay");t=QN.bind(t,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(t,n):t()},_showAxisTooltip:function(e,t){var n=this._ecModel,i=this._tooltipModel,r=[t.offsetX,t.offsetY],o=[],a=[],s=mR([t.tooltipOption,i]),l=this._renderMode,u=this._newLine,c={};fR(e,(function(e){fR(e.dataByAxis,(function(e){var t=n.getComponent(e.axisDim+"Axis",e.axisIndex),i=e.value,r=[];if(t&&null!=i){var s=cR.getValueLabel(i,t.axis,n,e.seriesDataIndices,e.valueLabelOpt);QN.each(e.seriesDataIndices,(function(o){var u=n.getSeriesByIndex(o.seriesIndex),h=o.dataIndexInside,d=u&&u.getDataParams(h);if(d.axisDim=e.axisDim,d.axisIndex=e.axisIndex,d.axisType=e.axisType,d.axisId=e.axisId,d.axisValue=uR.getAxisRawValue(t.axis,i),d.axisValueLabel=s,d){a.push(d);var f,p=u.formatTooltip(h,!0,null,l);if(QN.isObject(p)){f=p.html;var g=p.markers;QN.merge(c,g)}else f=p;r.push(f)}}));var h=s;"html"!==l?o.push(r.join(u)):o.push((h?nR.encodeHTML(h)+u:"")+r.join(u))}}))}),this),o.reverse(),o=o.join(this._newLine+this._newLine);var h=t.position;this._showOrMove(s,(function(){this._updateContentNotChangedOnAxis(e)?this._updatePosition(s,h,r[0],r[1],this._tooltipContent,a):this._showTooltipContent(s,o,a,Math.random(),r[0],r[1],h,void 0,c)}))},_showSeriesItemTooltip:function(e,t,n){var i=this._ecModel,r=t.seriesIndex,o=i.getSeriesByIndex(r),a=t.dataModel||o,s=t.dataIndex,l=t.dataType,u=a.getData(l),c=mR([u.getItemModel(s),a,o&&(o.coordinateSystem||{}).model,this._tooltipModel]),h=c.get("trigger");if(null==h||"item"===h){var d,f,p=a.getDataParams(s,l),g=a.formatTooltip(s,!1,l,this._renderMode);QN.isObject(g)?(d=g.html,f=g.markers):(d=g,f=null);var m="item_"+a.name+"_"+s;this._showOrMove(c,(function(){this._showTooltipContent(c,d,p,m,e.offsetX,e.offsetY,e.position,e.target,f)})),n({type:"showTip",dataIndexInside:s,dataIndex:u.getRawIndex(s),seriesIndex:r,from:this.uid})}},_showComponentItemTooltip:function(e,t,n){var i=t.tooltip;if("string"==typeof i){i={content:i,formatter:i}}var r=new sR(i,this._tooltipModel,this._ecModel),o=r.get("content"),a=Math.random();this._showOrMove(r,(function(){this._showTooltipContent(r,o,r.get("formatterParams")||{},a,e.offsetX,e.offsetY,e.position,t)})),n({type:"showTip",from:this.uid})},_showTooltipContent:function(e,t,n,i,r,o,a,s,l){if(this._ticket="",e.get("showContent")&&e.get("show")){var u=this._tooltipContent,c=e.get("formatter");a=a||e.get("position");var h=t;if(c&&"string"==typeof c)h=nR.formatTpl(c,n,!0);else if("function"==typeof c){var d=dR((function(t,i){t===this._ticket&&(u.setContent(i,l,e),this._updatePosition(e,a,r,o,u,n,s))}),this);this._ticket=i,h=c(n,i,d)}u.setContent(h,l,e),u.show(e),this._updatePosition(e,a,r,o,u,n,s)}},_updatePosition:function(e,t,n,i,r,o,a){var s=this._api.getWidth(),l=this._api.getHeight();t=t||e.get("position");var u=r.getSize(),c=e.get("align"),h=e.get("verticalAlign"),d=a&&a.getBoundingRect().clone();if(a&&d.applyTransform(a.transform),"function"==typeof t&&(t=t([n,i],o,r.el,d,{viewSize:[s,l],contentSize:u.slice()})),QN.isArray(t))n=pR(t[0],s),i=pR(t[1],l);else if(QN.isObject(t)){t.width=u[0],t.height=u[1];var f=aR.getLayoutRect(t,{width:s,height:l});n=f.x,i=f.y,c=null,h=null}else if("string"==typeof t&&a){var p=function(e,t,n){var i=n[0],r=n[1],o=5,a=0,s=0,l=t.width,u=t.height;switch(e){case"inside":a=t.x+l/2-i/2,s=t.y+u/2-r/2;break;case"top":a=t.x+l/2-i/2,s=t.y-r-o;break;case"bottom":a=t.x+l/2-i/2,s=t.y+u+o;break;case"left":a=t.x-i-o,s=t.y+u/2-r/2;break;case"right":a=t.x+l+o,s=t.y+u/2-r/2}return[a,s]}(t,d,u);n=p[0],i=p[1]}else{p=function(e,t,n,i,r,o,a){var s=n.getOuterSize(),l=s.width,u=s.height;null!=o&&(e+l+o>i?e-=l+o:e+=o);null!=a&&(t+u+a>r?t-=u+a:t+=a);return[e,t]}(n,i,r,s,l,c?null:20,h?null:20);n=p[0],i=p[1]}if(c&&(n-=yR(c)?u[0]/2:"right"===c?u[0]:0),h&&(i-=yR(h)?u[1]/2:"bottom"===h?u[1]:0),e.get("confine")){p=function(e,t,n,i,r){var o=n.getOuterSize(),a=o.width,s=o.height;return e=Math.min(e+a,i)-a,t=Math.min(t+s,r)-s,e=Math.max(e,0),t=Math.max(t,0),[e,t]}(n,i,r,s,l);n=p[0],i=p[1]}r.moveTo(n,i)},_updateContentNotChangedOnAxis:function(e){var t=this._lastDataByCoordSys,n=!!t&&t.length===e.length;return n&&fR(t,(function(t,i){var r=t.dataByAxis||{},o=(e[i]||{}).dataByAxis||[];(n&=r.length===o.length)&&fR(r,(function(e,t){var i=o[t]||{},r=e.seriesDataIndices||[],a=i.seriesDataIndices||[];(n&=e.value===i.value&&e.axisType===i.axisType&&e.axisId===i.axisId&&r.length===a.length)&&fR(r,(function(e,t){var i=a[t];n&=e.seriesIndex===i.seriesIndex&&e.dataIndex===i.dataIndex}))}))})),this._lastDataByCoordSys=e,!!n},_hide:function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},dispose:function(e,t){$N.node||(this._tooltipContent.dispose(),lR.unregister("itemTooltip",t))}});var _R=c;_R.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},(function(){})),_R.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},(function(){}));var xR=g,bR=Ah.parsePercent,wR=C_.isDimensionStacked;function SR(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function MR(e,t){return t.dim+e.model.componentIndex}var IR=function(e,t,n){var i={},r=function(e,t){var n={};xR.each(e,(function(e,t){var i=e.getData(),r=e.coordinateSystem,o=r.getBaseAxis(),a=MR(r,o),s=o.getExtent(),l="category"===o.type?o.getBandWidth():Math.abs(s[1]-s[0])/i.count(),u=n[a]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},c=u.stacks;n[a]=u;var h=SR(e);c[h]||u.autoWidthCount++,c[h]=c[h]||{width:0,maxWidth:0};var d=bR(e.get("barWidth"),l),f=bR(e.get("barMaxWidth"),l),p=e.get("barGap"),g=e.get("barCategoryGap");d&&!c[h].width&&(d=Math.min(u.remainedWidth,d),c[h].width=d,u.remainedWidth-=d),f&&(c[h].maxWidth=f),null!=p&&(u.gap=p),null!=g&&(u.categoryGap=g)}));var i={};return xR.each(n,(function(e,t){i[t]={};var n=e.stacks,r=e.bandWidth,o=bR(e.categoryGap,r),a=bR(e.gap,1),s=e.remainedWidth,l=e.autoWidthCount,u=(s-o)/(l+(l-1)*a);u=Math.max(u,0),xR.each(n,(function(e,t){var n=e.maxWidth;n&&n<u&&(n=Math.min(n,s),e.width&&(n=Math.min(n,e.width)),s-=n,e.width=n,l--)})),u=(s-o)/(l+(l-1)*a),u=Math.max(u,0);var c,h=0;xR.each(n,(function(e,t){e.width||(e.width=u),c=e,h+=e.width*(1+a)})),c&&(h-=c.width*a);var d=-h/2;xR.each(n,(function(e,n){i[t][n]=i[t][n]||{offset:d,width:e.width},d+=e.width*(1+a)}))})),i}(xR.filter(t.getSeriesByType(e),(function(e){return!t.isSeriesFiltered(e)&&e.coordinateSystem&&"polar"===e.coordinateSystem.type})));t.eachSeriesByType(e,(function(e){if("polar"===e.coordinateSystem.type){var t=e.getData(),n=e.coordinateSystem,o=n.getBaseAxis(),a=MR(n,o),s=SR(e),l=r[a][s],u=l.offset,c=l.width,h=n.getOtherAxis(o),d=e.coordinateSystem.cx,f=e.coordinateSystem.cy,p=e.get("barMinHeight")||0,g=e.get("barMinAngle")||0;i[s]=i[s]||[];for(var m=t.mapDimension(h.dim),v=t.mapDimension(o.dim),y=wR(t,m),_="radius"!==o.dim||!e.get("roundCap",!0),x="radius"===h.dim?h.dataToRadius(0):h.dataToAngle(0),b=0,w=t.count();b<w;b++){var S,M,I,A,T=t.get(m,b),C=t.get(v,b),D=T>=0?"p":"n",P=x;if(y&&(i[s][C]||(i[s][C]={p:x,n:x}),P=i[s][C][D]),"radius"===h.dim){var L=h.dataToRadius(T)-x,k=o.dataToAngle(C);Math.abs(L)<p&&(L=(L<0?-1:1)*p),S=P,M=P+L,A=(I=k-u)-c,y&&(i[s][C][D]=M)}else{var O=h.dataToAngle(T,_)-x,N=o.dataToRadius(C);Math.abs(O)<g&&(O=(O<0?-1:1)*g),M=(S=N+u)+c,I=P,A=P+O,y&&(i[s][C][D]=A)}t.setItemLayout(b,{cx:d,cy:f,r0:S,r:M,startAngle:-I*Math.PI/180,endAngle:-A*Math.PI/180})}}}),this)},AR=g,TR=Ww;function CR(e,t){TR.call(this,"radius",e,t),this.type="category"}CR.prototype={constructor:CR,pointToData:function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},dataToRadius:TR.prototype.dataToCoord,radiusToData:TR.prototype.coordToData},AR.inherits(CR,TR);var DR=CR,PR=g,LR=xi,kR=Ww,OR=(0,na.makeInner)();function NR(e,t){t=t||[0,360],kR.call(this,"angle",e,t),this.type="category"}NR.prototype={constructor:NR,pointToData:function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},dataToAngle:kR.prototype.dataToCoord,angleToData:kR.prototype.coordToData,calculateCategoryInterval:function(){var e=this,t=e.getLabelModel(),n=e.scale,i=n.getExtent(),r=n.count();if(i[1]-i[0]<1)return 0;var o=i[0],a=e.dataToCoord(o+1)-e.dataToCoord(o),s=Math.abs(a),l=LR.getBoundingRect(o,t.getFont(),"center","top"),u=Math.max(l.height,7)/s;isNaN(u)&&(u=1/0);var c=Math.max(0,Math.floor(u)),h=OR(e.model),d=h.lastAutoInterval,f=h.lastTickCount;return null!=d&&null!=f&&Math.abs(d-c)<=1&&Math.abs(f-r)<=1&&d>c?c=d:(h.lastTickCount=r,h.lastAutoInterval=c),c}},PR.inherits(NR,kR);var RR=DR,ER=NR,zR=function(e){this.name=e||"",this.cx=0,this.cy=0,this._radiusAxis=new RR,this._angleAxis=new ER,this._radiusAxis.polar=this._angleAxis.polar=this};zR.prototype={type:"polar",axisPointerEnabled:!0,constructor:zR,dimensions:["radius","angle"],model:null,containPoint:function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},containData:function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},getAxis:function(e){return this["_"+e+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(e){var t=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===e&&t.push(n),i.scale.type===e&&t.push(i),t},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},dataToPoint:function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},pointToData:function(e,t){var n=this.pointToCoord(e);return[this._radiusAxis.radiusToData(n[0],t),this._angleAxis.angleToData(n[1],t)]},pointToCoord:function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=this.getAngleAxis(),r=i.getExtent(),o=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);i.inverse?o=a-360:a=o+360;var s=Math.sqrt(t*t+n*n);t/=s,n/=s;for(var l=Math.atan2(-n,t)/Math.PI*180,u=l<o?1:-1;l<o||l>a;)l+=360*u;return[s,l]},coordToPoint:function(e){var t=e[0],n=e[1]/180*Math.PI;return[Math.cos(n)*t+this.cx,-Math.sin(n)*t+this.cy]},getArea:function(){var e=this.getAngleAxis(),t=this.getRadiusAxis().getExtent().slice();t[0]>t[1]&&t.reverse();var n=e.getExtent(),i=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:t[0],r:t[1],startAngle:-n[0]*i,endAngle:-n[1]*i,clockwise:e.inverse,contain:function(e,t){var n=e-this.cx,i=t-this.cy,r=n*n+i*i,o=this.r,a=this.r0;return r<=o*o&&r>=a*a}}}};var BR=zR,VR=g,GR=NM,FR=Ab,HR=fd.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});VR.merge(HR.prototype,FR);var WR={splitNumber:5};function UR(e,t){return t.type||(t.data?"category":"value")}GR("angle",HR,UR,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}}),GR("radius",HR,UR,WR),c.extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(e){var t;return this.ecModel.eachComponent(e,(function(e){e.getCoordSysModel()===this&&(t=e)}),this),t},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});var jR=g,ZR=BR,YR=Ah.parsePercent,XR=j_,qR=XR.createScaleByModel,KR=XR.niceScaleExtent,JR=Ff,QR=C_.getStackedDimension;function $R(e,t){var n=this,i=n.getAngleAxis(),r=n.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),e.eachSeries((function(e){if(e.coordinateSystem===n){var t=e.getData();jR.each(t.mapDimension("radius",!0),(function(e){r.scale.unionExtentFromData(t,QR(t,e))})),jR.each(t.mapDimension("angle",!0),(function(e){i.scale.unionExtentFromData(t,QR(t,e))}))}})),KR(i.scale,i.model),KR(r.scale,r.model),"category"===i.type&&!i.onBand){var o=i.getExtent(),a=360/i.scale.count();i.inverse?o[1]+=a:o[1]-=a,i.setExtent(o[0],o[1])}}function eE(e,t){if(e.type=t.get("type"),e.scale=qR(t),e.onBand=t.get("boundaryGap")&&"category"===e.type,e.inverse=t.get("inverse"),"angleAxis"===t.mainType){e.inverse^=t.get("clockwise");var n=t.get("startAngle");e.setExtent(n,n+(e.inverse?-360:360))}t.axis=e,e.model=t}var tE={dimensions:ZR.prototype.dimensions,create:function(e,t){var n=[];return e.eachComponent("polar",(function(e,i){var r=new ZR(i);r.update=$R;var o=r.getRadiusAxis(),a=r.getAngleAxis(),s=e.findAxisModel("radiusAxis"),l=e.findAxisModel("angleAxis");eE(o,s),eE(a,l),function(e,t,n){var i=t.get("center"),r=n.getWidth(),o=n.getHeight();e.cx=YR(i[0],r),e.cy=YR(i[1],o);var a=e.getRadiusAxis(),s=Math.min(r,o)/2,l=t.get("radius");null==l?l=[0,"100%"]:jR.isArray(l)||(l=[0,l]),l=[YR(l[0],s),YR(l[1],s)],a.inverse?a.setExtent(l[1],l[0]):a.setExtent(l[0],l[1])}(r,e,t),n.push(r),e.coordinateSystem=r,r.model=e})),e.eachSeries((function(t){if("polar"===t.get("coordinateSystem")){var n=e.queryComponents({mainType:"polar",index:t.get("polarIndex"),id:t.get("polarId")})[0];t.coordinateSystem=n.coordinateSystem}})),n}};JR.register("polar",tE);var nE=g,iE=Ia,rE=xh,oE=SA,aE=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function sE(e,t,n){t[1]>t[0]&&(t=t.slice().reverse());var i=e.coordToPoint([t[0],n]),r=e.coordToPoint([t[1],n]);return{x1:i[0],y1:i[1],x2:r[0],y2:r[1]}}function lE(e){return e.getRadiusAxis().inverse?0:1}function uE(e){var t=e[0],n=e[e.length-1];t&&n&&Math.abs(Math.abs(t.coord-n.coord)-360)<1e-4&&e.pop()}BA.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,i=n.polar,r=i.getRadiusAxis().getExtent(),o=n.getTicksCoords(),a=n.getMinorTicksCoords(),s=nE.map(n.getViewLabels(),(function(e){return(e=nE.clone(e)).coord=n.dataToCoord(e.tickValue),e}));uE(s),uE(o),nE.each(aE,(function(t){!e.get(t+".show")||n.scale.isBlank()&&"axisLine"!==t||this["_"+t](e,i,o,a,r,s)}),this)}},_axisLine:function(e,t,n,i,r){var o,a=e.getModel("axisLine.lineStyle"),s=lE(t),l=s?0:1;(o=0===r[l]?new iE.Circle({shape:{cx:t.cx,cy:t.cy,r:r[s]},style:a.getLineStyle(),z2:1,silent:!0}):new iE.Ring({shape:{cx:t.cx,cy:t.cy,r:r[s],r0:r[l]},style:a.getLineStyle(),z2:1,silent:!0})).style.fill=null,this.group.add(o)},_axisTick:function(e,t,n,i,r){var o=e.getModel("axisTick"),a=(o.get("inside")?-1:1)*o.get("length"),s=r[lE(t)],l=nE.map(n,(function(e){return new iE.Line({shape:sE(t,[s,s+a],e.coord)})}));this.group.add(iE.mergePath(l,{style:nE.defaults(o.getModel("lineStyle").getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")})}))},_minorTick:function(e,t,n,i,r){if(i.length){for(var o=e.getModel("axisTick"),a=e.getModel("minorTick"),s=(o.get("inside")?-1:1)*a.get("length"),l=r[lE(t)],u=[],c=0;c<i.length;c++)for(var h=0;h<i[c].length;h++)u.push(new iE.Line({shape:sE(t,[l,l+s],i[c][h].coord)}));this.group.add(iE.mergePath(u,{style:nE.defaults(a.getModel("lineStyle").getLineStyle(),nE.defaults(o.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}))}))}},_axisLabel:function(e,t,n,i,r,o){var a=e.getCategories(!0),s=e.getModel("axisLabel"),l=s.get("margin"),u=e.get("triggerEvent");nE.each(o,(function(n,i){var o=s,c=n.tickValue,h=r[lE(t)],d=t.coordToPoint([h+l,n.coord]),f=t.cx,p=t.cy,g=Math.abs(d[0]-f)/h<.3?"center":d[0]>f?"left":"right",m=Math.abs(d[1]-p)/h<.3?"middle":d[1]>p?"top":"bottom";a&&a[c]&&a[c].textStyle&&(o=new rE(a[c].textStyle,s,s.ecModel));var v=new iE.Text({silent:oE.isLabelSilent(e)});this.group.add(v),iE.setTextStyle(v.style,o,{x:d[0],y:d[1],textFill:o.getTextColor()||e.get("axisLine.lineStyle.color"),text:n.formattedLabel,textAlign:g,textVerticalAlign:m}),u&&(v.eventData=oE.makeAxisEventDataBase(e),v.eventData.targetType="axisLabel",v.eventData.value=n.rawLabel)}),this)},_splitLine:function(e,t,n,i,r){var o=e.getModel("splitLine").getModel("lineStyle"),a=o.get("color"),s=0;a=a instanceof Array?a:[a];for(var l=[],u=0;u<n.length;u++){var c=s++%a.length;l[c]=l[c]||[],l[c].push(new iE.Line({shape:sE(t,r,n[u].coord)}))}for(u=0;u<l.length;u++)this.group.add(iE.mergePath(l[u],{style:nE.defaults({stroke:a[u%a.length]},o.getLineStyle()),silent:!0,z:e.get("z")}))},_minorSplitLine:function(e,t,n,i,r){if(i.length){for(var o=e.getModel("minorSplitLine").getModel("lineStyle"),a=[],s=0;s<i.length;s++)for(var l=0;l<i[s].length;l++)a.push(new iE.Line({shape:sE(t,r,i[s][l].coord)}));this.group.add(iE.mergePath(a,{style:o.getLineStyle(),silent:!0,z:e.get("z")}))}},_splitArea:function(e,t,n,i,r){if(n.length){var o=e.getModel("splitArea").getModel("areaStyle"),a=o.get("color"),s=0;a=a instanceof Array?a:[a];for(var l=[],u=Math.PI/180,c=-n[0].coord*u,h=Math.min(r[0],r[1]),d=Math.max(r[0],r[1]),f=e.get("clockwise"),p=1;p<n.length;p++){var g=s++%a.length;l[g]=l[g]||[],l[g].push(new iE.Sector({shape:{cx:t.cx,cy:t.cy,r0:h,r:d,startAngle:c,endAngle:-n[p].coord*u,clockwise:f},silent:!0})),c=-n[p].coord*u}for(p=0;p<l.length;p++)this.group.add(iE.mergePath(l[p],{style:nE.defaults({fill:a[p%a.length]},o.getAreaStyle()),silent:!0}))}}});var cE=g,hE=Ia,dE=SA,fE=["axisLine","axisTickLabel","axisName"],pE=["splitLine","splitArea","minorSplitLine"];BA.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,i=n.polar,r=i.getAngleAxis(),o=n.getTicksCoords(),a=n.getMinorTicksCoords(),s=r.getExtent()[0],l=n.getExtent(),u=function(e,t,n){return{position:[e.cx,e.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}(i,e,s),c=new dE(e,u);cE.each(fE,c.add,c),this.group.add(c.getGroup()),cE.each(pE,(function(t){e.get(t+".show")&&!n.scale.isBlank()&&this["_"+t](e,i,s,l,o,a)}),this)}},_splitLine:function(e,t,n,i,r){var o=e.getModel("splitLine").getModel("lineStyle"),a=o.get("color"),s=0;a=a instanceof Array?a:[a];for(var l=[],u=0;u<r.length;u++){var c=s++%a.length;l[c]=l[c]||[],l[c].push(new hE.Circle({shape:{cx:t.cx,cy:t.cy,r:r[u].coord}}))}for(u=0;u<l.length;u++)this.group.add(hE.mergePath(l[u],{style:cE.defaults({stroke:a[u%a.length],fill:null},o.getLineStyle()),silent:!0}))},_minorSplitLine:function(e,t,n,i,r,o){if(o.length){for(var a=e.getModel("minorSplitLine").getModel("lineStyle"),s=[],l=0;l<o.length;l++)for(var u=0;u<o[l].length;u++)s.push(new hE.Circle({shape:{cx:t.cx,cy:t.cy,r:o[l][u].coord}}));this.group.add(hE.mergePath(s,{style:cE.defaults({fill:null},a.getLineStyle()),silent:!0}))}},_splitArea:function(e,t,n,i,r){if(r.length){var o=e.getModel("splitArea").getModel("areaStyle"),a=o.get("color"),s=0;a=a instanceof Array?a:[a];for(var l=[],u=r[0].coord,c=1;c<r.length;c++){var h=s++%a.length;l[h]=l[h]||[],l[h].push(new hE.Sector({shape:{cx:t.cx,cy:t.cy,r0:u,r:r[c].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),u=r[c].coord}for(c=0;c<l.length;c++)this.group.add(hE.mergePath(l[c],{style:cE.defaults({fill:a[c%a.length]},o.getAreaStyle()),silent:!0}))}}});var gE=Ph,mE=Ia,vE=hN,yE=Fe,_E=SA,xE=BA,bE=cN.extend({makeElOption:function(e,t,n,i,r){var o=n.axis;"angle"===o.dim&&(this.animationThreshold=Math.PI/18);var a,s=o.polar,l=s.getOtherAxis(o).getExtent();a=o["dataTo"+gE.capitalFirst(o.dim)](t);var u=i.get("type");if(u&&"none"!==u){var c=vE.buildElStyle(i),h=wE[u](o,s,a,l,c);h.style=c,e.graphicKey=h.type,e.pointer=h}var d=function(e,t,n,i,r){var o=t.axis,a=o.dataToCoord(e),s=i.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l,u,c,h=i.getRadiusAxis().getExtent();if("radius"===o.dim){var d=yE.create();yE.rotate(d,d,s),yE.translate(d,d,[i.cx,i.cy]),l=mE.applyTransform([a,-r],d);var f=t.getModel("axisLabel").get("rotate")||0,p=_E.innerTextLayout(s,f*Math.PI/180,-1);u=p.textAlign,c=p.textVerticalAlign}else{var g=h[1];l=i.coordToPoint([g+r,a]);var m=i.cx,v=i.cy;u=Math.abs(l[0]-m)/g<.3?"center":l[0]>m?"left":"right",c=Math.abs(l[1]-v)/g<.3?"middle":l[1]>v?"top":"bottom"}return{position:l,align:u,verticalAlign:c}}(t,n,0,s,i.get("label.margin"));vE.buildLabelElOption(e,n,i,r,d)}});var wE={line:function(e,t,n,i,r){return"angle"===e.dim?{type:"Line",shape:vE.makeLineShape(t.coordToPoint([i[0],n]),t.coordToPoint([i[1],n]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(e,t,n,i,r){var o=Math.max(1,e.getBandWidth()),a=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:vE.makeSectorShape(t.cx,t.cy,i[0],i[1],(-n-o/2)*a,(o/2-n)*a)}:{type:"Sector",shape:vE.makeSectorShape(t.cx,t.cy,n-o/2,n+o/2,0,2*Math.PI)}}};xE.registerAxisPointerClass("PolarAxisPointer",bE);var SE=c,ME=g,IE=IR;SE.registerLayout(ME.curry(IE,"bar")),SE.extendComponentView({type:"polar"});var AE=g,TE=na,CE=fd,DE=xh,PE=XC,LE=QL,kE=CE.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(e){CE.prototype.init.apply(this,arguments),TE.defaultEmphasis(e,"label",["show"])},optionUpdated:function(){var e=this.option,t=this;e.regions=LE.getFilledRegions(e.regions,e.map,e.nameMap),this._optionModelMap=AE.reduce(e.regions||[],(function(e,n){return n.name&&e.set(n.name,new DE(n,t)),e}),AE.createHashMap()),this.updateSelectedMap(e.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(e){return this._optionModelMap.get(e)||new DE(null,this,this.ecModel)},getFormattedLabel:function(e,t){t=t||"normal";var n=this.getRegionModel(e).get(("normal"===t?"":t+".")+"label.formatter"),i={name:e};return"function"==typeof n?(i.status=t,n(i)):"string"==typeof n?n.replace("{a}",null!=e?e:""):void 0},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e}});AE.mixin(kE,PE);var OE=mL;c.extendComponentView({type:"geo",init:function(e,t){var n=new OE(t,!0);this._mapDraw=n,this.group.add(n.group)},render:function(e,t,n,i){if(!i||"geoToggleSelect"!==i.type||i.from!==this.uid){var r=this._mapDraw;e.get("show")?r.draw(e,t,n,this,i):this._mapDraw.group.removeAll(),this.group.silent=e.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});var NE=c,RE=g;function EE(e,t){t.update="updateView",NE.registerAction(t,(function(t,n){var i={};return n.eachComponent({mainType:"geo",query:t},(function(n){n[e](t.name);var r=n.coordinateSystem;RE.each(r.regions,(function(e){i[e.name]=n.isSelected(e.name)||!1}))})),{selected:i,name:t.name}}))}EE("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),EE("select",{type:"geoSelect",event:"geoselected"}),EE("unSelect",{type:"geoUnSelect",event:"geounselected"});var zE=g,BE=zE.each;function VE(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var GE=function(e){var t=e&&e.visualMap;zE.isArray(t)||(t=t?[t]:[]),BE(t,(function(e){if(e){VE(e,"splitList")&&!VE(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&zE.isArray(t)&&BE(t,(function(e){zE.isObject(e)&&(VE(e,"start")&&!VE(e,"min")&&(e.min=e.start),VE(e,"end")&&!VE(e,"max")&&(e.max=e.end))}))}}))};fd.registerSubTypeDefaulter("visualMap",(function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"}));var FE={},HE=g,WE=at,UE=Ah.linearMap,jE=HE.each,ZE=HE.isObject,YE=function(e){var t=e.mappingMethod,n=e.type,i=this.option=HE.clone(e);this.type=n,this.mappingMethod=t,this._normalizeData=rz[t];var r=XE[n];this.applyVisual=r.applyVisual,this.getColorMapper=r.getColorMapper,this._doMap=r._doMap[t],"piecewise"===t?(qE(i),function(e){var t=e.pieceList;e.hasSpecialVisual=!1,HE.each(t,(function(t,n){t.originIndex=n,null!=t.visual&&(e.hasSpecialVisual=!0)}))}(i)):"category"===t?i.categories?function(e){var t=e.categories,n=e.visual,i=e.categoryMap={};if(jE(t,(function(e,t){i[e]=t})),!HE.isArray(n)){var r=[];HE.isObject(n)?jE(n,(function(e,t){var n=i[t];r[null!=n?n:-1]=e})):r[-1]=n,n=iz(e,r)}for(var o=t.length-1;o>=0;o--)null==n[o]&&(delete i[t[o]],t.pop())}(i):qE(i,!0):(HE.assert("linear"!==t||i.dataExtent),qE(i))};YE.prototype={constructor:YE,mapValueToVisual:function(e){var t=this._normalizeData(e);return this._doMap(t,e)},getNormalizer:function(){return HE.bind(this._normalizeData,this)}};var XE=YE.visualHandlers={color:{applyVisual:QE("color"),getColorMapper:function(){var e=this.option;return HE.bind("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),$E.call(this,e)}:function(t,n,i){var r=!!i;return!n&&(t=this._normalizeData(t)),i=WE.fastLerp(t,e.parsedVisual,i),r?i:WE.stringify(i,"rgba")},this)},_doMap:{linear:function(e){return WE.stringify(WE.fastLerp(e,this.option.parsedVisual),"rgba")},category:$E,piecewise:function(e,t){var n=nz.call(this,t);return null==n&&(n=WE.stringify(WE.fastLerp(e,this.option.parsedVisual),"rgba")),n},fixed:ez}},colorHue:KE((function(e,t){return WE.modifyHSL(e,t)})),colorSaturation:KE((function(e,t){return WE.modifyHSL(e,null,t)})),colorLightness:KE((function(e,t){return WE.modifyHSL(e,null,null,t)})),colorAlpha:KE((function(e,t){return WE.modifyAlpha(e,t)})),opacity:{applyVisual:QE("opacity"),_doMap:tz([0,1])},liftZ:{applyVisual:QE("liftZ"),_doMap:{linear:ez,category:ez,piecewise:ez,fixed:ez}},symbol:{applyVisual:function(e,t,n){var i=this.mapValueToVisual(e);if(HE.isString(i))n("symbol",i);else if(ZE(i))for(var r in i)i.hasOwnProperty(r)&&n(r,i[r])},_doMap:{linear:JE,category:$E,piecewise:function(e,t){var n=nz.call(this,t);return null==n&&(n=JE.call(this,e)),n},fixed:ez}},symbolSize:{applyVisual:QE("symbolSize"),_doMap:tz([0,1])}};function qE(e,t){var n=e.visual,i=[];HE.isObject(n)?jE(n,(function(e){i.push(e)})):null!=n&&i.push(n);t||1!==i.length||{color:1,symbol:1}.hasOwnProperty(e.type)||(i[1]=i[0]),iz(e,i)}function KE(e){return{applyVisual:function(t,n,i){t=this.mapValueToVisual(t),i("color",e(n("color"),t))},_doMap:tz([0,1])}}function JE(e){var t=this.option.visual;return t[Math.round(UE(e,[0,1],[0,t.length-1],!0))]||{}}function QE(e){return function(t,n,i){i(e,this.mapValueToVisual(t))}}function $E(e){var t=this.option.visual;return t[this.option.loop&&-1!==e?e%t.length:e]}function ez(){return this.option.visual[0]}function tz(e){return{linear:function(t){return UE(t,e,this.option.visual,!0)},category:$E,piecewise:function(t,n){var i=nz.call(this,n);return null==i&&(i=UE(t,e,this.option.visual,!0)),i},fixed:ez}}function nz(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var i=n[YE.findPieceIndex(e,n)];if(i&&i.visual)return i.visual[this.type]}}function iz(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=HE.map(t,(function(e){return WE.parse(e)}))),t}var rz={linear:function(e){return UE(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=YE.findPieceIndex(e,t,!0);if(null!=n)return UE(n,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?-1:t},fixed:HE.noop};function oz(e,t,n){return e?t<=n:t<n}YE.listVisualTypes=function(){var e=[];return HE.each(XE,(function(t,n){e.push(n)})),e},YE.addVisualHandler=function(e,t){XE[e]=t},YE.isValidType=function(e){return XE.hasOwnProperty(e)},YE.eachVisual=function(e,t,n){HE.isObject(e)?HE.each(e,t,n):t.call(n,e)},YE.mapVisual=function(e,t,n){var i,r=HE.isArray(e)?[]:HE.isObject(e)?{}:(i=!0,null);return YE.eachVisual(e,(function(e,o){var a=t.call(n,e,o);i?r=a:r[o]=a})),r},YE.retrieveVisuals=function(e){var t,n={};return e&&jE(XE,(function(i,r){e.hasOwnProperty(r)&&(n[r]=e[r],t=!0)})),t?n:null},YE.prepareVisualTypes=function(e){if(ZE(e)){var t=[];jE(e,(function(e,n){t.push(n)})),e=t}else{if(!HE.isArray(e))return[];e=e.slice()}return e.sort((function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1})),e},YE.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},YE.findPieceIndex=function(e,t,n){for(var i,r=1/0,o=0,a=t.length;o<a;o++){var s=t[o].value;if(null!=s){if(s===e||"string"==typeof s&&s===e+"")return o;n&&h(s,o)}}for(o=0,a=t.length;o<a;o++){var l=t[o],u=l.interval,c=l.close;if(u){if(u[0]===-1/0){if(oz(c[1],e,u[1]))return o}else if(u[1]===1/0){if(oz(c[0],u[0],e))return o}else if(oz(c[0],u[0],e)&&oz(c[1],e,u[1]))return o;n&&h(u[0],o),n&&h(u[1],o)}}if(n)return e===1/0?t.length-1:e===-1/0?0:i;function h(t,n){var o=Math.abs(t-e);o<r&&(r=o,i=n)}};var az=YE,sz=g,lz=az,uz=sz.each;function cz(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}FE.createVisualMappings=function(e,t,n){var i={};return uz(t,(function(t){var r,o=i[t]=((r=function(){}).prototype.__hidden=r.prototype,new r);uz(e[t],(function(e,i){if(lz.isValidType(i)){var r={type:i,visual:e};n&&n(r,t),o[i]=new lz(r),"opacity"===i&&((r=sz.clone(r)).type="colorAlpha",o.__hidden.__alphaForOpacity=new lz(r))}}))})),i},FE.replaceVisualOption=function(e,t,n){var i;sz.each(n,(function(e){t.hasOwnProperty(e)&&cz(t[e])&&(i=!0)})),i&&sz.each(n,(function(n){t.hasOwnProperty(n)&&cz(t[n])?e[n]=sz.clone(t[n]):delete e[n]}))},FE.applyVisual=function(e,t,n,i,r,o){var a,s={};function l(e){return n.getItemVisual(a,e)}function u(e,t){n.setItemVisual(a,e,t)}function c(e,c){a=null==o?e:c;var h=n.getRawDataItem(a);if(!h||!1!==h.visualMap)for(var d=i.call(r,e),f=t[d],p=s[d],g=0,m=p.length;g<m;g++){var v=p[g];f[v]&&f[v].applyVisual(e,l,u)}}sz.each(e,(function(e){var n=lz.prepareVisualTypes(t[e]);s[e]=n})),null==o?n.each(c):n.each([o],c)},FE.incrementalApplyVisual=function(e,t,n,i){var r={};return sz.each(e,(function(e){var n=lz.prepareVisualTypes(t[e]);r[e]=n})),{progress:function(e,o){function a(e){return o.getItemVisual(l,e)}function s(e,t){o.setItemVisual(l,e,t)}var l;for(null!=i&&(i=o.getDimension(i));null!=(l=e.next());){var u=o.getRawDataItem(l);if(!u||!1!==u.visualMap)for(var c=null!=i?o.get(i,l,!0):l,h=n(c),d=t[h],f=r[h],p=0,g=f.length;p<g;p++){var m=f[p];d[m]&&d[m].applyVisual(c,a,s)}}}}};var hz=c,dz=g,fz=FE,pz=az,gz=hz.PRIORITY.VISUAL.COMPONENT;function mz(e,t,n,i){for(var r=t.targetVisuals[i],o=pz.prepareVisualTypes(r),a={color:e.getData().getVisual("color")},s=0,l=o.length;s<l;s++){var u=o[s],c=r["opacity"===u?"__alphaForOpacity":u];c&&c.applyVisual(n,h,d)}return a.color;function h(e){return a[e]}function d(e,t){a[e]=t}}hz.registerVisual(gz,{createOnAllSeries:!0,reset:function(e,t){var n=[];return t.eachComponent("visualMap",(function(t){var i=e.pipelineContext;!t.isTargetSeries(e)||i&&i.large||n.push(fz.incrementalApplyVisual(t.stateList,t.targetVisuals,dz.bind(t.getValueState,t),t.getDataDimension(e.getData())))})),n}}),hz.registerVisual(gz,{createOnAllSeries:!0,reset:function(e,t){var n=e.getData(),i=[];t.eachComponent("visualMap",(function(t){if(t.isTargetSeries(e)){var r=t.getVisualMeta(dz.bind(mz,null,e,t))||{stops:[],outerColors:[]},o=t.getDataDimension(n),a=n.getDimensionInfo(o);null!=a&&(r.dimension=a.index,i.push(r))}})),e.getData().setVisual("visualMeta",i)}});var vz=g,yz={get:function(e,t,n){var i=vz.clone((_z[e]||{})[t]);return n&&vz.isArray(i)?i[i.length-1]:i}},_z={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},xz=yz,bz=c,wz=g,Sz=p,Mz=xz,Iz=az,Az=FE,Tz=na,Cz=Ah,Dz=Iz.mapVisual,Pz=Iz.eachVisual,Lz=wz.isArray,kz=wz.each,Oz=Cz.asc,Nz=Cz.linearMap,Rz=wz.noop,Ez=bz.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(e,t,n){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(e,n)},optionUpdated:function(e,t){var n=this.option;Sz.canvasSupported||(n.realtime=!1),!t&&Az.replaceVisualOption(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(e){var t=this.stateList;e=wz.bind(e,this),this.controllerVisuals=Az.createVisualMappings(this.option.controller,t,e),this.targetVisuals=Az.createVisualMappings(this.option.target,t,e)},getTargetSeriesIndices:function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries((function(e,n){t.push(n)})):t=Tz.normalizeToArray(e),t},eachTargetSeries:function(e,t){wz.each(this.getTargetSeriesIndices(),(function(n){e.call(t,this.ecModel.getSeriesByIndex(n))}),this)},isTargetSeries:function(e){var t=!1;return this.eachTargetSeries((function(n){n===e&&(t=!0)})),t},formatValueText:function(e,t,n){var i,r,o=this.option,a=o.precision,s=this.dataBound,l=o.formatter;return n=n||["<",">"],wz.isArray(e)&&(e=e.slice(),i=!0),r=t?e:i?[u(e[0]),u(e[1])]:u(e),wz.isString(l)?l.replace("{value}",i?r[0]:r).replace("{value2}",i?r[1]:r):wz.isFunction(l)?i?l(e[0],e[1]):l(e):i?e[0]===s[0]?n[0]+" "+r[1]:e[1]===s[1]?n[1]+" "+r[0]:r[0]+" - "+r[1]:r;function u(e){return e===s[0]?"min":e===s[1]?"max":(+e).toFixed(Math.min(a,20))}},resetExtent:function(){var e=this.option,t=Oz([e.min,e.max]);this._dataExtent=t},getDataDimension:function(e){var t=this.option.dimension,n=e.dimensions;if(null!=t||n.length){if(null!=t)return e.getDimension(t);for(var i=e.dimensions,r=i.length-1;r>=0;r--){var o=i[r];if(!e.getDimensionInfo(o).isCalculationCoord)return o}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var e=this.ecModel,t=this.option,n={inRange:t.inRange,outOfRange:t.outOfRange},i=t.target||(t.target={}),r=t.controller||(t.controller={});wz.merge(i,n),wz.merge(r,n);var o=this.isCategory();function a(n){Lz(t.color)&&!n.inRange&&(n.inRange={color:t.color.slice().reverse()}),n.inRange=n.inRange||{color:e.get("gradientColor")},kz(this.stateList,(function(e){var t=n[e];if(wz.isString(t)){var i=Mz.get(t,"active",o);i?(n[e]={},n[e][t]=i):delete n[e]}}),this)}a.call(this,i),a.call(this,r),function(e,t,n){var i=e[t],r=e[n];i&&!r&&(r=e[n]={},kz(i,(function(e,t){if(Iz.isValidType(t)){var n=Mz.get(t,"inactive",o);null!=n&&(r[t]=n,"color"!==t||r.hasOwnProperty("opacity")||r.hasOwnProperty("colorAlpha")||(r.opacity=[0,0]))}})))}.call(this,i,"inRange","outOfRange"),function(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,n=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,i=this.get("inactiveColor");kz(this.stateList,(function(r){var a=this.itemSize,s=e[r];s||(s=e[r]={color:o?i:[i]}),null==s.symbol&&(s.symbol=t&&wz.clone(t)||(o?"roundRect":["roundRect"])),null==s.symbolSize&&(s.symbolSize=n&&wz.clone(n)||(o?a[0]:[a[0],a[0]])),s.symbol=Dz(s.symbol,(function(e){return"none"===e||"square"===e?"roundRect":e}));var l=s.symbolSize;if(null!=l){var u=-1/0;Pz(l,(function(e){e>u&&(u=e)})),s.symbolSize=Dz(l,(function(e){return Nz(e,[0,u],[0,a[0]],!0)}))}}),this)}.call(this,r)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:Rz,getValueState:Rz,getVisualMeta:Rz}),zz=g,Bz=Ez,Vz=Ah,Gz=[20,140],Fz=Bz.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(e,t){Fz.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual((function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()})),this._resetRange()},resetItemSize:function(){Fz.superApply(this,"resetItemSize",arguments);var e=this.itemSize;"horizontal"===this._orient&&e.reverse(),(null==e[0]||isNaN(e[0]))&&(e[0]=Gz[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=Gz[1])},_resetRange:function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):zz.isArray(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},completeVisualOption:function(){Bz.prototype.completeVisualOption.apply(this,arguments),zz.each(this.stateList,(function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=0)}),this)},setSelected:function(e){this.option.range=e.slice(),this._resetRange()},getSelected:function(){var e=this.getExtent(),t=Vz.asc((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},getValueState:function(e){var t=this.option.range,n=this.getExtent();return(t[0]<=n[0]||t[0]<=e)&&(t[1]>=n[1]||e<=t[1])?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries((function(n){var i=[],r=n.getData();r.each(this.getDataDimension(r),(function(t,n){e[0]<=t&&t<=e[1]&&i.push(n)}),this),t.push({seriesId:n.id,dataIndex:i})}),this),t},getVisualMeta:function(e){var t=Hz(this,"outOfRange",this.getExtent()),n=Hz(this,"inRange",this.option.range.slice()),i=[];function r(t,n){i.push({value:t,color:e(t,n)})}for(var o=0,a=0,s=n.length,l=t.length;a<l&&(!n.length||t[a]<=n[0]);a++)t[a]<n[o]&&r(t[a],"outOfRange");for(var u=1;o<s;o++,u=0)u&&i.length&&r(n[o],"outOfRange"),r(n[o],"inRange");for(u=1;a<l;a++)(!n.length||n[n.length-1]<t[a])&&(u&&(i.length&&r(i[i.length-1].value,"outOfRange"),u=0),r(t[a],"outOfRange"));var c=i.length;return{stops:i,outerColors:[c?i[0].color:"transparent",c?i[c-1].color:"transparent"]}}});function Hz(e,t,n){if(n[0]===n[1])return n.slice();for(var i=(n[1]-n[0])/200,r=n[0],o=[],a=0;a<=200&&r<n[1];a++)o.push(r),r+=i;return o.push(n[1]),o}var Wz=g,Uz=Ia,jz=Ph,Zz=Ih,Yz=az,Xz=c.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(e,t){this.ecModel=e,this.api=t,this.visualMapModel},render:function(e,t,n,i){this.visualMapModel=e,!1!==e.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(e){var t=this.visualMapModel,n=jz.normalizeCssArray(t.get("padding")||0),i=e.getBoundingRect();e.add(new Uz.Rect({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},getControllerVisual:function(e,t,n){var i=(n=n||{}).forceState,r=this.visualMapModel,o={};if("symbol"===t&&(o.symbol=r.get("itemSymbol")),"color"===t){var a=r.get("contentColor");o.color=a}function s(e){return o[e]}function l(e,t){o[e]=t}var u=r.controllerVisuals[i||r.getValueState(e)],c=Yz.prepareVisualTypes(u);return Wz.each(c,(function(i){var r=u[i];n.convertOpacityToAlpha&&"opacity"===i&&(i="colorAlpha",r=u.__alphaForOpacity),Yz.dependsOn(i,t)&&r&&r.applyVisual(e,s,l)})),o[t]},positionGroup:function(e){var t=this.visualMapModel,n=this.api;Zz.positionElement(e,t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},doRender:Wz.noop});function qz(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function Kz(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}var Jz=function(e,t,n,i,r,o){e=e||0;var a=n[1]-n[0];if(null!=r&&(r=Kz(r,[0,a])),null!=o&&(o=Math.max(o,null!=r?r:0)),"all"===i){var s=Math.abs(t[1]-t[0]);s=Kz(s,[0,a]),r=o=Kz(s,[r,o]),i=0}t[0]=Kz(t[0],n),t[1]=Kz(t[1],n);var l=qz(t,i);t[i]+=e;var u=r||0,c=n.slice();l.sign<0?c[0]+=u:c[1]-=u,t[i]=Kz(t[i],c);var h=qz(t,i);return null!=r&&(h.sign!==l.sign||h.span<r)&&(t[1-i]=t[i]+l.sign*r),h=qz(t,i),null!=o&&h.span>o&&(t[1-i]=t[i]+h.sign*o),t},Qz={},$z=g,eB=Ih.getLayoutRect;Qz.getItemAlign=function(e,t,n){var i=e.option,r=i.align;if(null!=r&&"auto"!==r)return r;for(var o={width:t.getWidth(),height:t.getHeight()},a="horizontal"===i.orient?1:0,s=[["left","right","width"],["top","bottom","height"]],l=s[a],u=[0,null,10],c={},h=0;h<3;h++)c[s[1-a][h]]=u[h],c[l[h]]=2===h?n[0]:i[l[h]];var d=[["x","width",3],["y","height",0]][a],f=eB(c,o,i.padding);return l[(f.margin[d[2]]||0)+f[d[0]]+.5*f[d[1]]<.5*o[d[1]]?0:1]},Qz.makeHighDownBatch=function(e,t){return $z.each(e||[],(function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")})),e};var tB=g,nB=Nu,iB=ne,rB=Xz,oB=Ia,aB=Jz,sB=Qz,lB=na,uB=Ah.linearMap,cB=tB.each,hB=Math.min,dB=Math.max,fB=rB.extend({type:"visualMap.continuous",init:function(){fB.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(e,t,n,i){i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var n=e.get("text");this._renderEndsText(t,n,0),this._renderEndsText(t,n,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},_renderEndsText:function(e,t,n){if(t){var i=t[1-n];i=null!=i?i+"":"";var r=this.visualMapModel,o=r.get("textGap"),a=r.itemSize,s=this._shapes.barGroup,l=this._applyTransform([a[0]/2,0===n?-o:a[1]+o],s),u=this._applyTransform(0===n?"bottom":"top",s),c=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new oB.Text({style:{x:l[0],y:l[1],textVerticalAlign:"horizontal"===c?"middle":u,textAlign:"horizontal"===c?u:"center",text:i,textFont:h.getFont(),textFill:h.getTextColor()}}))}},_renderBar:function(e){var t=this.visualMapModel,n=this._shapes,i=t.itemSize,r=this._orient,o=this._useHandle,a=sB.getItemAlign(t,this.api,i),s=n.barGroup=this._createBarGroup(a);s.add(n.outOfRange=pB()),s.add(n.inRange=pB(null,o?mB(this._orient):null,tB.bind(this._dragHandle,this,"all",!1),tB.bind(this._dragHandle,this,"all",!0)));var l=t.textStyleModel.getTextRect(""),u=dB(l.width,l.height);o&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(s,0,i,u,r,a),this._createHandle(s,1,i,u,r,a)),this._createIndicator(s,i,u,r),e.add(s)},_createHandle:function(e,t,n,i,r){var o=tB.bind(this._dragHandle,this,t,!1),a=tB.bind(this._dragHandle,this,t,!0),s=pB(function(e,t){return 0===e?[[0,0],[t,0],[t,-t]]:[[0,0],[t,0],[t,t]]}(t,i),mB(this._orient),o,a);s.position[0]=n[0],e.add(s);var l=this.visualMapModel.textStyleModel,u=new oB.Text({draggable:!0,drift:o,onmousemove:function(e){iB.stop(e.event)},ondragend:a,style:{x:0,y:0,text:"",textFont:l.getFont(),textFill:l.getTextColor()}});this.group.add(u);var c=["horizontal"===r?i/2:1.5*i,"horizontal"===r?0===t?-1.5*i:1.5*i:0===t?-i/2:i/2],h=this._shapes;h.handleThumbs[t]=s,h.handleLabelPoints[t]=c,h.handleLabels[t]=u},_createIndicator:function(e,t,n,i){var r=pB([[0,0]],"move");r.position[0]=t[0],r.attr({invisible:!0,silent:!0}),e.add(r);var o=this.visualMapModel.textStyleModel,a=new oB.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:o.getFont(),textFill:o.getTextColor()}});this.group.add(a);var s=["horizontal"===i?n/2:9,0],l=this._shapes;l.indicator=r,l.indicatorLabel=a,l.indicatorLabelPoint=s},_dragHandle:function(e,t,n,i){if(this._useHandle){if(this._dragging=!t,!t){var r=this._applyTransform([n,i],this._shapes.barGroup,!0);this._updateInterval(e,r[1]),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():gB(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},_resetInterval:function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),n=e.getExtent(),i=[0,e.itemSize[1]];this._handleEnds=[uB(t[0],n,i,!0),uB(t[1],n,i,!0)]},_updateInterval:function(e,t){t=t||0;var n=this.visualMapModel,i=this._handleEnds,r=[0,n.itemSize[1]];aB(t,i,r,e,0);var o=n.getExtent();this._dataInterval=[uB(i[0],r,o,!0),uB(i[1],r,o,!0)]},_updateView:function(e){var t=this.visualMapModel,n=t.getExtent(),i=this._shapes,r=[0,t.itemSize[1]],o=e?r:this._handleEnds,a=this._createBarVisual(this._dataInterval,n,o,"inRange"),s=this._createBarVisual(n,n,r,"outOfRange");i.inRange.setStyle({fill:a.barColor,opacity:a.opacity}).setShape("points",a.barPoints),i.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),this._updateHandle(o,a)},_createBarVisual:function(e,t,n,i){var r={forceState:i,convertOpacityToAlpha:!0},o=this._makeColorGradient(e,r),a=[this.getControllerVisual(e[0],"symbolSize",r),this.getControllerVisual(e[1],"symbolSize",r)],s=this._createBarPoints(n,a);return{barColor:new nB(0,0,0,1,o),barPoints:s,handlesColor:[o[0].color,o[o.length-1].color]}},_makeColorGradient:function(e,t){var n=[],i=(e[1]-e[0])/100;n.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var r=1;r<100;r++){var o=e[0]+i*r;if(o>e[1])break;n.push({color:this.getControllerVisual(o,"color",t),offset:r/100})}return n.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),n},_createBarPoints:function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]},_createBarGroup:function(e){var t=this._orient,n=this.visualMapModel.get("inverse");return new oB.Group("horizontal"!==t||n?"horizontal"===t&&n?{scale:"bottom"===e?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==t||n?{scale:"left"===e?[1,1]:[-1,1]}:{scale:"left"===e?[1,-1]:[-1,-1]}:{scale:"bottom"===e?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(e,t){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,r=n.handleThumbs,o=n.handleLabels;cB([0,1],(function(a){var s=r[a];s.setStyle("fill",t.handlesColor[a]),s.position[1]=e[a];var l=oB.applyTransform(n.handleLabelPoints[a],oB.getTransform(s,this.group));o[a].setStyle({x:l[0],y:l[1],text:i.formatValueText(this._dataInterval[a]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===a?"bottom":"top":"left",n.barGroup)})}),this)}},_showIndicator:function(e,t,n,i){var r=this.visualMapModel,o=r.getExtent(),a=r.itemSize,s=[0,a[1]],l=uB(e,o,s,!0),u=this._shapes,c=u.indicator;if(c){c.position[1]=l,c.attr("invisible",!1),c.setShape("points",function(e,t,n,i){return e?[[0,-hB(t,dB(n,0))],[6,0],[0,hB(t,dB(i-n,0))]]:[[0,0],[5,-5],[5,5]]}(!!n,i,l,a[1]));var h=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0});c.setStyle("fill",h);var d=oB.applyTransform(u.indicatorLabelPoint,oB.getTransform(c,this.group)),f=u.indicatorLabel;f.attr("invisible",!1);var p=this._applyTransform("left",u.barGroup),g=this._orient;f.setStyle({text:(n||"")+r.formatValueText(t),textVerticalAlign:"horizontal"===g?p:"middle",textAlign:"horizontal"===g?"center":p,x:d[0],y:d[1]})}},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on("mousemove",(function(t){if(e._hovering=!0,!e._dragging){var n=e.visualMapModel.itemSize,i=e._applyTransform([t.offsetX,t.offsetY],e._shapes.barGroup,!0,!0);i[1]=hB(dB(0,i[1]),n[1]),e._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}})).on("mouseout",(function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()}))},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(e,t){var n=this.visualMapModel,i=n.itemSize;if(n.option.hoverLink){var r=[0,i[1]],o=n.getExtent();e=hB(dB(r[0],e),r[1]);var a=function(e,t,n){var i=6,r=e.get("hoverLinkDataSize");r&&(i=uB(r,t,n,!0)/2);return i}(n,o,r),s=[e-a,e+a],l=uB(e,r,o,!0),u=[uB(s[0],r,o,!0),uB(s[1],r,o,!0)];s[0]<r[0]&&(u[0]=-1/0),s[1]>r[1]&&(u[1]=1/0),t&&(u[0]===-1/0?this._showIndicator(l,u[1],"< ",a):u[1]===1/0?this._showIndicator(l,u[0],"> ",a):this._showIndicator(l,l," ",a));var c=this._hoverLinkDataIndices,h=[];(t||gB(n))&&(h=this._hoverLinkDataIndices=n.findTargetDataIndices(u));var d=lB.compressBatches(c,h);this._dispatchHighDown("downplay",sB.makeHighDownBatch(d[0],n)),this._dispatchHighDown("highlight",sB.makeHighDownBatch(d[1],n))}},_hoverLinkFromSeriesMouseOver:function(e){var t=e.target,n=this.visualMapModel;if(t&&null!=t.dataIndex){var i=this.ecModel.getSeriesByIndex(t.seriesIndex);if(n.isTargetSeries(i)){var r=i.getData(t.dataType),o=r.get(n.getDataDimension(r),t.dataIndex,!0);isNaN(o)||this._showIndicator(o,o)}}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",sB.makeHighDownBatch(e,this.visualMapModel)),e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},_applyTransform:function(e,t,n,i){var r=oB.getTransform(t,i?null:this.group);return oB[tB.isArray(e)?"applyTransform":"transformDirection"](e,r,n)},_dispatchHighDown:function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function pB(e,t,n,i){return new oB.Polygon({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(e){iB.stop(e.event)},ondragend:i})}function gB(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function mB(e){return"vertical"===e?"ns-resize":"ew-resize"}c.registerAction({type:"selectDataRange",event:"dataRangeSelected",update:"update"},(function(e,t){t.eachComponent({mainType:"visualMap",query:e},(function(t){t.setSelected(e.selected)}))}));var vB=GE;c.registerPreprocessor(vB);var yB=g,_B=Ez,xB=az,bB=xz,wB=Ah.reformIntervals,SB=_B.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(e,t){SB.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var n=this._mode=this._determineMode();MB[this._mode].call(this),this._resetSelected(e,t);var i=this.option.categories;this.resetVisual((function(e,t){"categories"===n?(e.mappingMethod="category",e.categories=yB.clone(i)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=yB.map(this._pieceList,(function(e){e=yB.clone(e);return"inRange"!==t&&(e.visual=null),e})))}))},completeVisualOption:function(){var e=this.option,t={},n=xB.listVisualTypes(),i=this.isCategory();function r(e,t,n){return e&&e[t]&&(yB.isObject(e[t])?e[t].hasOwnProperty(n):e[t]===n)}yB.each(e.pieces,(function(e){yB.each(n,(function(n){e.hasOwnProperty(n)&&(t[n]=1)}))})),yB.each(t,(function(t,n){var o=0;yB.each(this.stateList,(function(t){o|=r(e,t,n)||r(e.target,t,n)}),this),!o&&yB.each(this.stateList,(function(t){(e[t]||(e[t]={}))[n]=bB.get(n,"inRange"===t?"active":"inactive",i)}))}),this),_B.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(e,t){var n=this.option,i=this._pieceList,r=(t?n:e).selected||{};if(n.selected=r,yB.each(i,(function(e,t){var n=this.getSelectedMapKey(e);r.hasOwnProperty(n)||(r[n]=!0)}),this),"single"===n.selectedMode){var o=!1;yB.each(i,(function(e,t){var n=this.getSelectedMapKey(e);r[n]&&(o?r[n]=!1:o=!0)}),this)}},getSelectedMapKey:function(e){return"categories"===this._mode?e.value+"":e.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(e){this.option.selected=yB.clone(e)},getValueState:function(e){var t=xB.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries((function(n){var i=[],r=n.getData();r.each(this.getDataDimension(r),(function(t,n){xB.findPieceIndex(t,this._pieceList)===e&&i.push(n)}),this),t.push({seriesId:n.id,dataIndex:i})}),this),t},getRepresentValue:function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var n=e.interval||[];t=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return t},getVisualMeta:function(e){if(!this.isCategory()){var t=[],n=[],i=this,r=this._pieceList.slice();if(r.length){var o=r[0].interval[0];o!==-1/0&&r.unshift({interval:[-1/0,o]}),(o=r[r.length-1].interval[1])!==1/0&&r.push({interval:[o,1/0]})}else r.push({interval:[-1/0,1/0]});var a=-1/0;return yB.each(r,(function(e){var t=e.interval;t&&(t[0]>a&&s([a,t[0]],"outOfRange"),s(t.slice()),a=t[1])}),this),{stops:t,outerColors:n}}function s(r,o){var a=i.getRepresentValue({interval:r});o||(o=i.getValueState(a));var s=e(a,o);r[0]===-1/0?n[0]=s:r[1]===1/0?n[1]=s:t.push({value:r[0],color:s},{value:r[1],color:s})}}}),MB={splitNumber:function(){var e=this.option,t=this._pieceList,n=Math.min(e.precision,20),i=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;for(var o=(i[1]-i[0])/r;+o.toFixed(n)!==o&&n<5;)n++;e.precision=n,o=+o.toFixed(n),e.minOpen&&t.push({interval:[-1/0,i[0]],close:[0,0]});for(var a=0,s=i[0];a<r;s+=o,a++){var l=a===r-1?i[1]:s+o;t.push({interval:[s,l],close:[1,1]})}e.maxOpen&&t.push({interval:[i[1],1/0],close:[0,0]}),wB(t),yB.each(t,(function(e,t){e.index=t,e.text=this.formatValueText(e.interval)}),this)},categories:function(){var e=this.option;yB.each(e.categories,(function(e){this._pieceList.push({text:this.formatValueText(e,!0),value:e})}),this),IB(e,this._pieceList)},pieces:function(){var e=this.option,t=this._pieceList;yB.each(e.pieces,(function(e,n){yB.isObject(e)||(e={value:e});var i={text:"",index:n};if(null!=e.label&&(i.text=e.label),e.hasOwnProperty("value")){var r=i.value=e.value;i.interval=[r,r],i.close=[1,1]}else{for(var o=i.interval=[],a=i.close=[0,0],s=[1,0,1],l=[-1/0,1/0],u=[],c=0;c<2;c++){for(var h=[["gte","gt","min"],["lte","lt","max"]][c],d=0;d<3&&null==o[c];d++)o[c]=e[h[d]],a[c]=s[d],u[c]=2===d;null==o[c]&&(o[c]=l[c])}u[0]&&o[1]===1/0&&(a[0]=0),u[1]&&o[0]===-1/0&&(a[1]=0),o[0]===o[1]&&a[0]&&a[1]&&(i.value=o[0])}i.visual=xB.retrieveVisuals(e),t.push(i)}),this),IB(e,t),wB(t),yB.each(t,(function(e){var t=e.close,n=[["<",""][t[1]],[">",""][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,n)}),this)}};function IB(e,t){var n=e.inverse;("vertical"===e.orient?!n:n)&&t.reverse()}var AB=g,TB=Xz,CB=Ia,DB=Tb.createSymbol,PB=Ih,LB=Qz;TB.extend({type:"visualMap.piecewise",doRender:function(){var e=this.group;e.removeAll();var t=this.visualMapModel,n=t.get("textGap"),i=t.textStyleModel,r=i.getFont(),o=i.getTextColor(),a=this._getItemAlign(),s=t.itemSize,l=this._getViewData(),u=l.endsText,c=AB.retrieve(t.get("showLabel",!0),!u);u&&this._renderEndsText(e,u[0],s,c,a),AB.each(l.viewPieceList,(function(i){var l=i.piece,u=new CB.Group;u.onclick=AB.bind(this._onItemClick,this,l),this._enableHoverLink(u,i.indexInModelPieceList);var h=t.getRepresentValue(l);if(this._createItemSymbol(u,h,[0,0,s[0],s[1]]),c){var d=this.visualMapModel.getValueState(h);u.add(new CB.Text({style:{x:"right"===a?-n:s[0]+n,y:s[1]/2,text:l.text,textVerticalAlign:"middle",textAlign:a,textFont:r,textFill:o,opacity:"outOfRange"===d?.5:1}}))}e.add(u)}),this),u&&this._renderEndsText(e,u[1],s,c,a),PB.box(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},_enableHoverLink:function(e,t){function n(e){var n=this.visualMapModel;n.option.hoverLink&&this.api.dispatchAction({type:e,batch:LB.makeHighDownBatch(n.findTargetDataIndices(t),n)})}e.on("mouseover",AB.bind(n,this,"highlight")).on("mouseout",AB.bind(n,this,"downplay"))},_getItemAlign:function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return LB.getItemAlign(e,this.api,e.itemSize);var n=t.align;return n&&"auto"!==n||(n="left"),n},_renderEndsText:function(e,t,n,i,r){if(t){var o=new CB.Group,a=this.visualMapModel.textStyleModel;o.add(new CB.Text({style:{x:i?"right"===r?n[0]:0:n[0]/2,y:n[1]/2,textVerticalAlign:"middle",textAlign:i?r:"center",text:t,textFont:a.getFont(),textFill:a.getTextColor()}})),e.add(o)}},_getViewData:function(){var e=this.visualMapModel,t=AB.map(e.getPieceList(),(function(e,t){return{piece:e,indexInModelPieceList:t}})),n=e.get("text"),i=e.get("orient"),r=e.get("inverse");return("horizontal"===i?r:!r)?t.reverse():n&&(n=n.slice().reverse()),{viewPieceList:t,endsText:n}},_createItemSymbol:function(e,t,n){e.add(DB(this.getControllerVisual(t,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(t,"color")))},_onItemClick:function(e){var t=this.visualMapModel,n=t.option,i=AB.clone(n.selected),r=t.getSelectedMapKey(e);"single"===n.selectedMode?(i[r]=!0,AB.each(i,(function(e,t){i[t]=t===r}))):i[r]=!i[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}});var kB=GE;c.registerPreprocessor(kB);var OB={},NB=g,RB=NB.each,EB="\0__link_datas",zB="\0__link_mainData";function BB(e,t){if((i=this)[zB]===i){var n=NB.extend({},this[EB]);n[this.dataType]=t,HB(t,n,e)}else WB(t,this.dataType,this[zB],e);var i;return t}function VB(e,t){return e.struct&&e.struct.update(this),t}function GB(e,t){return RB(t[EB],(function(n,i){n!==t&&WB(n.cloneShallow(),i,t,e)})),t}function FB(e){var t=this[zB];return null==e||null==t?t:t[EB][e]}function HB(e,t,n){e[EB]={},RB(t,(function(t,i){WB(t,i,e,n)}))}function WB(e,t,n,i){n[EB][t]=e,e[zB]=n,e.dataType=t,i.struct&&(e[i.structAttr]=i.struct,i.struct[i.datasAttr[t]]=e),e.getLinkedData=FB}var UB=function(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,HB(t,n,e),RB(n,(function(n){RB(t.TRANSFERABLE_METHODS,(function(t){n.wrapMethod(t,NB.curry(BB,e))}))})),t.wrapMethod("cloneShallow",NB.curry(GB,e)),RB(t.CHANGABLE_METHODS,(function(n){t.wrapMethod(n,NB.curry(VB,e))})),NB.assert(n[t.dataType]===t)},jB=g,ZB=UB,YB=t_,XB=x_,qB=function(e,t){this.name=e||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=t};function KB(e){this.root,this.data,this._nodes=[],this.hostModel=e}qB.prototype={constructor:qB,isRemoved:function(){return this.dataIndex<0},eachNode:function(e,t,n){"function"==typeof e&&(n=t,t=e,e=null),e=e||{},jB.isString(e)&&(e={order:e});var i,r=e.order||"preorder",o=this[e.attr||"children"];"preorder"===r&&(i=t.call(n,this));for(var a=0;!i&&a<o.length;a++)o[a].eachNode(e,t,n);"postorder"===r&&t.call(n,this)},updateDepthAndHeight:function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(e+1),i.height>t&&(t=i.height)}this.height=t+1},getNodeById:function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,i=n.length;t<i;t++){var r=n[t].getNodeById(e);if(r)return r}},contains:function(e){if(e===this)return!0;for(var t=0,n=this.children,i=n.length;t<i;t++){var r=n[t].contains(e);if(r)return r}},getAncestors:function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},getValue:function(e){var t=this.hostTree.data;return t.get(t.getDimension(e||"value"),this.dataIndex)},setLayout:function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(e){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(e)},setVisual:function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},getVisual:function(e,t){return this.hostTree.data.getItemVisual(this.dataIndex,e,t)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},isDescendantOf:function(e){return e!==this&&e.isAncestorOf(this)}},KB.prototype={constructor:KB,type:"tree",eachNode:function(e,t,n){this.root.eachNode(e,t,n)},getNodeByDataIndex:function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},getNodeByName:function(e){return this.root.getNodeByName(e)},update:function(){for(var e=this.data,t=this._nodes,n=0,i=t.length;n<i;n++)t[n].dataIndex=-1;for(n=0,i=e.count();n<i;n++)t[e.getRawIndex(n)].dataIndex=n},clearLayouts:function(){this.data.clearItemLayouts()}},KB.createTree=function(e,t,n){var i=new KB(t),r=[],o=1;!function e(t,n){var a=t.value;o=Math.max(o,jB.isArray(a)?a.length:1),r.push(t);var s=new qB(t.name,i);n?function(e,t){var n=t.children;if(e.parentNode===t)return;n.push(e),e.parentNode=t}(s,n):i.root=s,i._nodes.push(s);var l=t.children;if(l)for(var u=0;u<l.length;u++)e(l[u],s)}(e),i.root.updateDepthAndHeight(0);var a=XB(r,{coordDimensions:["value"],dimensionsCount:o}),s=new YB(a,t);return s.initData(r),n&&n(s),ZB({mainData:s,struct:i,structAttr:"tree"}),i.update(),i};var JB=KB,QB=Hg,$B=JB,eV=Ph.encodeHTML,tV=xh;QB.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(e){var t={name:e.name,children:e.data},n=e.leaves||{},i=new tV(n,this,this.ecModel),r=$B.createTree(t,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var n=r.getNodeByDataIndex(t);return n.children.length&&n.isExpand||(e.parentModel=i),e}))}));var o=0;r.eachNode("preorder",(function(e){e.depth>o&&(o=e.depth)}));var a=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:o;return r.root.eachNode("preorder",(function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=a})),r.data},getOrient:function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},formatTooltip:function(e){for(var t=this.getData().tree,n=t.root.children[0],i=t.getNodeByDataIndex(e),r=i.getValue(),o=i.name;i&&i!==n;)o=i.parentNode.name+"."+o,i=i.parentNode;return eV(o+(isNaN(r)||null==r?"":" : "+r))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});var nV={},iV=Ih;function rV(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function oV(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function aV(e,t,n){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:n}function sV(e,t,n){var i=n/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=i,t.hierNode.shift+=n,t.hierNode.modifier+=n,t.hierNode.prelim+=n,e.hierNode.change+=i}function lV(e,t){return e.parentNode===t.parentNode?1:2}nV.init=function(e){e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t,n,i=[e];t=i.pop();)if(n=t.children,t.isExpand&&n.length)for(var r=n.length-1;r>=0;r--){var o=n[r];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:r,thread:null},i.push(o)}},nV.firstWalk=function(e,t){var n=e.isExpand?e.children:[],i=e.parentNode.children,r=e.hierNode.i?i[e.hierNode.i-1]:null;if(n.length){!function(e){var t=e.children,n=t.length,i=0,r=0;for(;--n>=0;){var o=t[n];o.hierNode.prelim+=i,o.hierNode.modifier+=i,r+=o.hierNode.change,i+=o.hierNode.shift+r}}(e);var o=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;r?(e.hierNode.prelim=r.hierNode.prelim+t(e,r),e.hierNode.modifier=e.hierNode.prelim-o):e.hierNode.prelim=o}else r&&(e.hierNode.prelim=r.hierNode.prelim+t(e,r));e.parentNode.hierNode.defaultAncestor=function(e,t,n,i){if(t){for(var r=e,o=e,a=o.parentNode.children[0],s=t,l=r.hierNode.modifier,u=o.hierNode.modifier,c=a.hierNode.modifier,h=s.hierNode.modifier;s=rV(s),o=oV(o),s&&o;){r=rV(r),a=oV(a),r.hierNode.ancestor=e;var d=s.hierNode.prelim+h-o.hierNode.prelim-u+i(s,o);d>0&&(sV(aV(s,e,n),e,d),u+=d,l+=d),h+=s.hierNode.modifier,u+=o.hierNode.modifier,l+=r.hierNode.modifier,c+=a.hierNode.modifier}s&&!rV(r)&&(r.hierNode.thread=s,r.hierNode.modifier+=h-l),o&&!oV(a)&&(a.hierNode.thread=o,a.hierNode.modifier+=u-c,n=e)}return n}(e,r,e.parentNode.hierNode.defaultAncestor||i[0],t)},nV.secondWalk=function(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier},nV.separation=function(e){return arguments.length?e:lV},nV.radialCoordinate=function(e,t){var n={};return e-=Math.PI/2,n.x=t*Math.cos(e),n.y=t*Math.sin(e),n},nV.getViewRect=function(e,t){return iV.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})};var uV=g,cV=Ia,hV=IT,dV=nV.radialCoordinate,fV=c,pV=Ha,gV=RL,mV=nL,vV=tL,yV=iL.onIrrelevantElement,_V=Ah.parsePercent,xV=cV.extendShape({shape:{parentPoint:[],childPoints:[],orient:"",forkPosition:""},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.childPoints,i=n.length,r=t.parentPoint,o=n[0],a=n[i-1];if(1===i)return e.moveTo(r[0],r[1]),void e.lineTo(o[0],o[1]);var s=t.orient,l="TB"===s||"BT"===s?0:1,u=1-l,c=_V(t.forkPosition,1),h=[];h[l]=r[l],h[u]=r[u]+(a[u]-r[u])*c,e.moveTo(r[0],r[1]),e.lineTo(h[0],h[1]),e.moveTo(o[0],o[1]),h[l]=o[l],e.lineTo(h[0],h[1]),h[l]=a[l],e.lineTo(h[0],h[1]),e.lineTo(a[0],a[1]);for(var d=1;d<i-1;d++){var f=n[d];e.moveTo(f[0],f[1]),h[l]=f[l],e.lineTo(h[0],h[1])}}});function bV(e,t){var n=e.getItemLayout(t);return n&&!isNaN(n.x)&&!isNaN(n.y)&&"none"!==e.getItemVisual(t,"symbol")}function wV(e,t,n){return n.itemModel=t,n.itemStyle=t.getModel("itemStyle").getItemStyle(),n.hoverItemStyle=t.getModel("emphasis.itemStyle").getItemStyle(),n.lineStyle=t.getModel("lineStyle").getLineStyle(),n.labelModel=t.getModel("label"),n.hoverLabelModel=t.getModel("emphasis.label"),!1===e.isExpand&&0!==e.children.length?n.symbolInnerColor=n.itemStyle.fill:n.symbolInnerColor="#fff",n}function SV(e,t,n,i,r,o){var a=!n,s=e.tree.getNodeByDataIndex(t),l=s.getModel(),u=(o=wV(s,l,o),e.tree.root),c=s.parentNode===u?s:s.parentNode||s,h=e.getItemGraphicEl(c.dataIndex),d=c.getLayout(),f=h?{x:h.position[0],y:h.position[1],rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:d,p=s.getLayout();a?(n=new hV(e,t,o)).attr("position",[f.x,f.y]):n.updateData(e,t,o),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=p.rawX,n.__radialRawY=p.rawY,i.add(n),e.setItemGraphicEl(t,n),cV.updateProps(n,{position:[p.x,p.y]},r);var g=n.getSymbolPath();if("radial"===o.layout){var m,v,y=u.children[0],_=y.getLayout(),x=y.children.length;if(p.x===_.x&&!0===s.isExpand){var b={};b.x=(y.children[0].getLayout().x+y.children[x-1].getLayout().x)/2,b.y=(y.children[0].getLayout().y+y.children[x-1].getLayout().y)/2,(m=Math.atan2(b.y-_.y,b.x-_.x))<0&&(m=2*Math.PI+m),(v=b.x<_.x)&&(m-=Math.PI)}else(m=Math.atan2(p.y-_.y,p.x-_.x))<0&&(m=2*Math.PI+m),0===s.children.length||0!==s.children.length&&!1===s.isExpand?(v=p.x<_.x)&&(m-=Math.PI):(v=p.x>_.x)||(m-=Math.PI);var w=v?"left":"right",S=o.labelModel.get("rotate"),M=S*(Math.PI/180);g.setStyle({textPosition:o.labelModel.get("position")||w,textRotation:null==S?-m:M,textOrigin:"center",verticalAlign:"middle"})}!function(e,t,n,i,r,o,a,s,l){var u=l.edgeShape,c=i.__edge;if("curve"===u)t.parentNode&&t.parentNode!==n&&(c||(c=i.__edge=new cV.BezierCurve({shape:IV(l,r,r),style:uV.defaults({opacity:0,strokeNoScale:!0},l.lineStyle)})),cV.updateProps(c,{shape:IV(l,o,a),style:uV.defaults({opacity:1},l.lineStyle)},e));else if("polyline"===u&&"orthogonal"===l.layout&&t!==n&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var h=t.children,d=[],f=0;f<h.length;f++){var p=h[f].getLayout();d.push([p.x,p.y])}c||(c=i.__edge=new xV({shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]],orient:l.orient,forkPosition:l.edgeForkPosition},style:uV.defaults({opacity:0,strokeNoScale:!0},l.lineStyle)})),cV.updateProps(c,{shape:{parentPoint:[a.x,a.y],childPoints:d},style:uV.defaults({opacity:1},l.lineStyle)},e)}s.add(c)}(r,s,u,n,f,d,p,i,o)}function MV(e,t,n,i,r,o){for(var a,s=e.tree.getNodeByDataIndex(t),l=e.tree.root,u=s.getModel(),c=(o=wV(s,u,o),s.parentNode===l?s:s.parentNode||s),h=o.edgeShape;null==(a=c.getLayout());)c=c.parentNode===l?c:c.parentNode||c;cV.updateProps(n,{position:[a.x+1,a.y+1]},r,(function(){i.remove(n),e.setItemGraphicEl(t,null)})),n.fadeOut(null,{keepLabel:!0});var d=e.getItemGraphicEl(c.dataIndex).__edge,f=n.__edge||(!1===c.isExpand||1===c.children.length?d:void 0);h=o.edgeShape;f&&("curve"===h?cV.updateProps(f,{shape:IV(o,a,a),style:{opacity:0}},r,(function(){i.remove(f)})):"polyline"===h&&"orthogonal"===o.layout&&cV.updateProps(f,{shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]]},style:{opacity:0}},r,(function(){i.remove(f)})))}function IV(e,t,n){var i,r,o,a,s,l,u,c,h=e.orient;if("radial"===e.layout){s=t.rawX,u=t.rawY,l=n.rawX,c=n.rawY;var d=dV(s,u),f=dV(s,u+(c-u)*e.curvature),p=dV(l,c+(u-c)*e.curvature),g=dV(l,c);return{x1:d.x,y1:d.y,x2:g.x,y2:g.y,cpx1:f.x,cpy1:f.y,cpx2:p.x,cpy2:p.y}}return s=t.x,u=t.y,l=n.x,c=n.y,"LR"!==h&&"RL"!==h||(i=s+(l-s)*e.curvature,r=u,o=l+(s-l)*e.curvature,a=c),"TB"!==h&&"BT"!==h||(i=s,r=u+(c-u)*e.curvature,o=l,a=c+(u-c)*e.curvature),{x1:s,y1:u,x2:l,y2:c,cpx1:i,cpy1:r,cpx2:o,cpy2:a}}fV.extendChartView({type:"tree",init:function(e,t){this._oldTree,this._mainGroup=new cV.Group,this._controller=new vV(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(e,t,n,i){var r=e.getData(),o=e.layoutInfo,a=this._mainGroup,s=e.get("layout");"radial"===s?a.attr("position",[o.x+o.width/2,o.y+o.height/2]):a.attr("position",[o.x,o.y]),this._updateViewCoordSys(e,o,s),this._updateController(e,t,n);var l=this._data,u={expandAndCollapse:e.get("expandAndCollapse"),layout:s,edgeShape:e.get("edgeShape"),edgeForkPosition:e.get("edgeForkPosition"),orient:e.getOrient(),curvature:e.get("lineStyle.curveness"),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};r.diff(l).add((function(t){bV(r,t)&&SV(r,t,null,a,e,u)})).update((function(t,n){var i=l.getItemGraphicEl(n);bV(r,t)?SV(r,t,i,a,e,u):i&&MV(l,n,i,a,e,u)})).remove((function(t){var n=l.getItemGraphicEl(t);n&&MV(l,t,n,a,e,u)})).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===u.expandAndCollapse&&r.eachItemGraphicEl((function(t,i){t.off("click").on("click",(function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:i})}))})),this._data=r},_updateViewCoordSys:function(e){var t=e.getData(),n=[];t.each((function(e){var i=t.getItemLayout(e);!i||isNaN(i.x)||isNaN(i.y)||n.push([+i.x,+i.y])}));var i=[],r=[];pV.fromPoints(n,i,r);var o=this._min,a=this._max;r[0]-i[0]==0&&(i[0]=o?o[0]:i[0]-1,r[0]=a?a[0]:r[0]+1),r[1]-i[1]==0&&(i[1]=o?o[1]:i[1]-1,r[1]=a?a[1]:r[1]+1);var s=e.coordinateSystem=new gV;s.zoomLimit=e.get("scaleLimit"),s.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1]),s.setCenter(e.get("center")),s.setZoom(e.get("zoom")),this.group.attr({position:s.position,scale:s.scale}),this._viewCoordSys=s,this._min=i,this._max=r},_updateController:function(e,t,n){var i=this._controller,r=this._controllerHost,o=this.group;i.setPointerChecker((function(t,i,r){var a=o.getBoundingRect();return a.applyTransform(o.transform),a.contain(i,r)&&!yV(t,n,e)})),i.enable(e.get("roam")),r.zoomLimit=e.get("scaleLimit"),r.zoom=e.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",(function(t){mV.updateViewOnPan(r,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:"treeRoam",dx:t.dx,dy:t.dy})}),this).on("zoom",(function(t){mV.updateViewOnZoom(r,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),this._updateNodeAndLinkScale(e)}),this)},_updateNodeAndLinkScale:function(e){var t=e.getData(),n=this._getNodeGlobalScale(e),i=[n,n];t.eachItemGraphicEl((function(e,t){e.attr("scale",i)}))},_getNodeGlobalScale:function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=this._nodeScaleRatio,i=t.scale,r=i&&i[0]||1;return((t.getZoom()-1)*n+1)/r},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}});var AV=c,TV=wL.updateCenterAndZoom;AV.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var n=e.dataIndex,i=t.getData().tree.getNodeByDataIndex(n);i.isExpand=!i.isExpand}))})),AV.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var n=t.coordinateSystem,i=TV(n,e);t.setCenter&&t.setCenter(i.center),t.setZoom&&t.setZoom(i.zoom)}))}));var CV={};CV.eachAfter=function(e,t,n){for(var i,r=[e],o=[];i=r.pop();)if(o.push(i),i.isExpand){var a=i.children;if(a.length)for(var s=0;s<a.length;s++)r.push(a[s])}for(;i=o.pop();)t(i,n)},CV.eachBefore=function(e,t){for(var n,i=[e];n=i.pop();)if(t(n),n.isExpand){var r=n.children;if(r.length)for(var o=r.length-1;o>=0;o--)i.push(r[o])}};var DV=CV,PV=DV.eachAfter,LV=DV.eachBefore,kV=nV,OV=kV.init,NV=kV.firstWalk,RV=kV.secondWalk,EV=kV.separation,zV=kV.radialCoordinate,BV=kV.getViewRect;var VV=c,GV=PC,FV=function(e,t){e.eachSeriesByType("tree",(function(e){!function(e,t){var n=BV(e,t);e.layoutInfo=n;var i=e.get("layout"),r=0,o=0,a=null;"radial"===i?(r=2*Math.PI,o=Math.min(n.height,n.width)/2,a=EV((function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth}))):(r=n.width,o=n.height,a=EV());var s=e.getData().tree.root,l=s.children[0];if(l){OV(s),PV(l,NV,a),s.hierNode.modifier=-l.hierNode.prelim,LV(l,RV);var u=l,c=l,h=l;LV(l,(function(e){var t=e.getLayout().x;t<u.getLayout().x&&(u=e),t>c.getLayout().x&&(c=e),e.depth>h.depth&&(h=e)}));var d=u===c?1:a(u,c)/2,f=d-u.getLayout().x,p=0,g=0,m=0,v=0;if("radial"===i)p=r/(c.getLayout().x+d+f),g=o/(h.depth-1||1),LV(l,(function(e){m=(e.getLayout().x+f)*p,v=(e.depth-1)*g;var t=zV(m,v);e.setLayout({x:t.x,y:t.y,rawX:m,rawY:v},!0)}));else{var y=e.getOrient();"RL"===y||"LR"===y?(g=o/(c.getLayout().x+d+f),p=r/(h.depth-1||1),LV(l,(function(e){v=(e.getLayout().x+f)*g,m="LR"===y?(e.depth-1)*p:r-(e.depth-1)*p,e.setLayout({x:m,y:v},!0)}))):"TB"!==y&&"BT"!==y||(p=r/(c.getLayout().x+d+f),g=o/(h.depth-1||1),LV(l,(function(e){m=(e.getLayout().x+f)*p,v="TB"===y?(e.depth-1)*g:o-(e.depth-1)*g,e.setLayout({x:m,y:v},!0)})))}}}(e,t)}))};VV.registerVisual(GV("tree","circle")),VV.registerLayout(FV);var HV={},WV=g;function UV(e){for(var t=[];e;)(e=e.parentNode)&&t.push(e);return t.reverse()}HV.retrieveTargetInfo=function(e,t,n){if(e&&WV.indexOf(t,e.type)>=0){var i=n.getData().tree.root,r=e.targetNode;if("string"==typeof r&&(r=i.getNodeById(r)),r&&i.contains(r))return{node:r};var o=e.targetNodeId;if(null!=o&&(r=i.getNodeById(o)))return{node:r}}},HV.getPathToRoot=UV,HV.aboveViewRoot=function(e,t){var n=UV(e);return WV.indexOf(n,t)>=0},HV.wrapTreePathInfo=function(e,t){for(var n=[];e;){var i=e.dataIndex;n.push({name:e.name,dataIndex:i,value:t.getRawValue(i)}),e=e.parentNode}return n.reverse(),n};var jV=g,ZV=Hg,YV=JB,XV=xh,qV=Ph,KV=qV.encodeHTML,JV=qV.addCommas,QV=HV.wrapTreePathInfo;function $V(e){var t=0;jV.each(e.children,(function(e){$V(e);var n=e.value;jV.isArray(n)&&(n=n[0]),t+=n}));var n=e.value;jV.isArray(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),jV.isArray(e.value)?e.value[0]=n:e.value=n}ZV.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],preventUsingHoverLayer:!0,_viewRoot:null,defaultOption:{progressive:0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(e,t){var n={name:e.name,children:e.data};$V(n);var i=e.levels||[],r=this.designatedVisualItemStyle={},o=new XV({itemStyle:r},this,t);i=e.levels=function(e,t){var n,i=t.get("color");if(!i)return;if(e=e||[],jV.each(e,(function(e){var t=new XV(e),i=t.get("color");(t.get("itemStyle.color")||i&&"none"!==i)&&(n=!0)})),!n){(e[0]||(e[0]={})).color=i.slice()}return e}(i,t);var a=jV.map(i||[],(function(e){return new XV(e,o,t)}),this),s=YV.createTree(n,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var n=s.getNodeByDataIndex(t),i=a[n.depth];return e.parentModel=i||o,e}))}));return s.data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(e){var t=this.getData(),n=this.getRawValue(e),i=jV.isArray(n)?JV(n[0]):JV(n),r=t.getName(e);return KV(r+": "+i)},getDataParams:function(e){var t=ZV.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=QV(n,this),t},setLayoutInfo:function(e){this.layoutInfo=this.layoutInfo||{},jV.extend(this.layoutInfo,e)},mapIdToIndex:function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=jV.createHashMap(),this._idIndexMapCount=0);var n=t.get(e);return null==n&&t.set(e,n=this._idIndexMapCount++),n},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});var eG=Ia,tG=Ih,nG=g,iG=HV.wrapTreePathInfo;function rG(e){this.group=new eG.Group,e.add(this.group)}function oG(e,t,n,i,r,o){var a=[[r?e:e-5,t],[e+n,t],[e+n,t+i],[r?e:e-5,t+i]];return!o&&a.splice(2,0,[e+n+5,t+i/2]),!r&&a.push([e,t+i/2]),a}function aG(e,t,n){e.eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.componentIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&iG(n,t)}}rG.prototype={constructor:rG,render:function(e,t,n,i){var r=e.getModel("breadcrumb"),o=this.group;if(o.removeAll(),r.get("show")&&n){var a=r.getModel("itemStyle"),s=a.getModel("textStyle"),l={pos:{left:r.get("left"),right:r.get("right"),top:r.get("top"),bottom:r.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:r.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,l,s),this._renderContent(e,l,a,s,i),tG.positionElement(o,l.pos,l.box)}},_prepare:function(e,t,n){for(var i=e;i;i=i.parentNode){var r=i.getModel().get("name"),o=n.getTextRect(r),a=Math.max(o.width+16,t.emptyItemWidth);t.totalWidth+=a+8,t.renderList.push({node:i,text:r,width:a})}},_renderContent:function(e,t,n,i,r){for(var o=0,a=t.emptyItemWidth,s=e.get("breadcrumb.height"),l=tG.getAvailableSize(t.pos,t.box),u=t.totalWidth,c=t.renderList,h=c.length-1;h>=0;h--){var d=c[h],f=d.node,p=d.width,g=d.text;u>l.width&&(u-=p-a,p=a,g=null);var m=new eG.Polygon({shape:{points:oG(o,0,p,s,h===c.length-1,0===h)},style:nG.defaults(n.getItemStyle(),{lineJoin:"bevel",text:g,textFill:i.getTextColor(),textFont:i.getFont()}),z:10,onclick:nG.curry(r,f)});this.group.add(m),aG(m,e,f),o+=p+8}},remove:function(){this.group.removeAll()}};var sG=rG,lG={},uG=g;lG.createWrap=function(){var e,t=[],n={};return{add:function(e,i,r,o,a){return uG.isString(o)&&(a=o,o=0),!n[e.id]&&(n[e.id]=1,t.push({el:e,target:i,time:r,delay:o,easing:a}),!0)},done:function(t){return e=t,this},start:function(){for(var i=t.length,r=0,o=t.length;r<o;r++){var a=t[r];a.el.animateTo(a.target,a.time,a.delay,a.easing,s)}return this;function s(){--i||(t.length=0,n={},e&&e())}}}};var cG=c,hG=g,dG=Ia,fG=gy,pG=HV,gG=sG,mG=tL,vG=Pn,yG=Fe,_G=lG,xG=xa,bG=Ph.windowOpen,wG=hG.bind,SG=dG.Group,MG=dG.Rect,IG=hG.each,AG=["label"],TG=["emphasis","label"],CG=["upperLabel"],DG=["emphasis","upperLabel"],PG=xG([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),LG=function(e){var t=PG(e);return t.stroke=t.fill=t.lineWidth=null,t};function kG(e,t,n,i,r,o,a,s,l,u){if(a){var c=a.getLayout(),h=e.getData();if(h.setItemGraphicEl(a.dataIndex,null),c&&c.isInView){var d=c.width,f=c.height,p=c.borderWidth,g=c.invisible,m=a.getRawIndex(),v=s&&s.getRawIndex(),y=a.viewChildren,_=c.upperHeight,x=y&&y.length,b=a.getModel("itemStyle"),w=a.getModel("emphasis.itemStyle"),S=P("nodeGroup",SG);if(S){if(l.add(S),S.attr("position",[c.x||0,c.y||0]),S.__tmNodeWidth=d,S.__tmNodeHeight=f,c.isAboveViewRoot)return S;var M=a.getModel(),I=P("background",MG,u,1);if(I&&function(t,n,i){if(n.dataIndex=a.dataIndex,n.seriesIndex=e.seriesIndex,n.setShape({x:0,y:0,width:d,height:f}),g)T(n);else{n.invisible=!1;var r=a.getVisual("borderColor",!0),o=w.get("borderColor"),s=LG(b);s.fill=r;var l=PG(w);if(l.fill=o,i){var u=d-2*p;C(s,l,r,u,_,{x:p,y:0,width:u,height:_})}else s.text=l.text=null;n.setStyle(s),dG.setElementHoverStyle(n,l)}t.add(n)}(S,I,x&&c.upperLabelHeight),x)dG.isHighDownDispatcher(S)&&dG.setAsHighDownDispatcher(S,!1),I&&(dG.setAsHighDownDispatcher(I,!0),h.setItemGraphicEl(a.dataIndex,I));else{var A=P("content",MG,u,2);A&&function(t,n){n.dataIndex=a.dataIndex,n.seriesIndex=e.seriesIndex;var i=Math.max(d-2*p,0),r=Math.max(f-2*p,0);if(n.culling=!0,n.setShape({x:p,y:p,width:i,height:r}),g)T(n);else{n.invisible=!1;var o=a.getVisual("color",!0),s=LG(b);s.fill=o;var l=PG(w);C(s,l,o,i,r),n.setStyle(s),dG.setElementHoverStyle(n,l)}t.add(n)}(S,A),I&&dG.isHighDownDispatcher(I)&&dG.setAsHighDownDispatcher(I,!1),dG.setAsHighDownDispatcher(S,!0),h.setItemGraphicEl(a.dataIndex,S)}return S}}}function T(e){!e.invisible&&o.push(e)}function C(t,n,i,r,o,s){var l=M.get("name"),u=M.getModel(s?CG:AG),h=M.getModel(s?DG:TG),d=u.getShallow("show");dG.setLabelStyle(t,n,u,h,{defaultText:d?l:null,autoColor:i,isRectText:!0,labelFetcher:e,labelDataIndex:a.dataIndex,labelProp:s?"upperLabel":"label"}),D(t,s,c),D(n,s,c),s&&(t.textRect=hG.clone(s)),t.truncate=d&&u.get("ellipsis")?{outerWidth:r,outerHeight:o,minChar:2}:null}function D(t,n,i){var r=t.text;if(!n&&i.isLeafRoot&&null!=r){var o=e.get("drillDownIcon",!0);t.text=o?o+" "+r:r}}function P(e,o,s,l){var u=null!=v&&n[e][v],c=r[e];return u?(n[e][v]=null,function(e,t,n){(e[m]={}).old="nodeGroup"===n?t.position.slice():hG.extend({},t.shape)}(c,u,e)):g||((u=new o({z:OG(s,l)})).__tmDepth=s,u.__tmStorageName=e,function(e,t,n){var o=e[m]={},s=a.parentNode;if(s&&(!i||"drillDown"===i.direction)){var l=0,u=0,c=r.background[s.getRawIndex()];!i&&c&&c.old&&(l=c.old.width,u=c.old.height),o.old="nodeGroup"===n?[0,u]:{x:l,y:u,width:0,height:0}}o.fadein="nodeGroup"!==n}(c,0,e)),t[e][m]=u}}function OG(e,t){var n=10*e+t;return(n-1)/n}cG.extendChartView({type:"treemap",init:function(e,t){this._containerGroup,this._storage={nodeGroup:[],background:[],content:[]},this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(e,t,n,i){var r=t.findComponents({mainType:"series",subType:"treemap",query:i});if(!(hG.indexOf(r,e)<0)){this.seriesModel=e,this.api=n,this.ecModel=t;var o=pG.retrieveTargetInfo(i,["treemapZoomToNode","treemapRootToNode"],e),a=i&&i.type,s=e.layoutInfo,l=!this._oldTree,u=this._storage,c="treemapRootToNode"===a&&o&&u?{rootNodeGroup:u.nodeGroup[o.node.getRawIndex()],direction:i.direction}:null,h=this._giveContainerGroup(s),d=this._doRender(h,e,c);l||a&&"treemapZoomToNode"!==a&&"treemapRootToNode"!==a?d.renderFinally():this._doAnimation(h,d,e,c),this._resetController(n),this._renderBreadcrumb(e,n,o)}},_giveContainerGroup:function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new SG,this._initEvents(t),this.group.add(t)),t.attr("position",[e.x,e.y]),t},_doRender:function(e,t,n){var i=t.getData().tree,r=this._oldTree,o={nodeGroup:[],background:[],content:[]},a={nodeGroup:[],background:[],content:[]},s=this._storage,l=[],u=hG.curry(kG,t,a,s,n,o,l);!function e(t,n,i,r,o){r?(n=t,IG(t,(function(e,t){!e.isRemoved()&&s(t,t)}))):new fG(n,t,a,a).add(s).update(s).remove(hG.curry(s,null)).execute();function a(e){return e.getId()}function s(a,s){var l=null!=a?t[a]:null,c=null!=s?n[s]:null,h=u(l,c,i,o);h&&e(l&&l.viewChildren||[],c&&c.viewChildren||[],h,r,o+1)}}(i.root?[i.root]:[],r&&r.root?[r.root]:[],e,i===r||!r,0);var c,h,d=(h={nodeGroup:[],background:[],content:[]},(c=s)&&IG(c,(function(e,t){var n=h[t];IG(e,(function(e){e&&(n.push(e),e.__tmWillDelete=1)}))})),h);return this._oldTree=i,this._storage=a,{lastsForAnimation:o,willDeleteEls:d,renderFinally:function(){IG(d,(function(e){IG(e,(function(e){e.parent&&e.parent.remove(e)}))})),IG(l,(function(e){e.invisible=!0,e.dirty()}))}}},_doAnimation:function(e,t,n,i){if(n.get("animation")){var r=n.get("animationDurationUpdate"),o=n.get("animationEasing"),a=_G.createWrap();IG(t.willDeleteEls,(function(e,t){IG(e,(function(e,n){if(!e.invisible){var s,l=e.parent;if(i&&"drillDown"===i.direction)s=l===i.rootNodeGroup?{shape:{x:0,y:0,width:l.__tmNodeWidth,height:l.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var u=0,c=0;l.__tmWillDelete||(u=l.__tmNodeWidth/2,c=l.__tmNodeHeight/2),s="nodeGroup"===t?{position:[u,c],style:{opacity:0}}:{shape:{x:u,y:c,width:0,height:0},style:{opacity:0}}}s&&a.add(e,s,r,o)}}))})),IG(this._storage,(function(e,n){IG(e,(function(e,i){var s=t.lastsForAnimation[n][i],l={};s&&("nodeGroup"===n?s.old&&(l.position=e.position.slice(),e.attr("position",s.old)):(s.old&&(l.shape=hG.extend({},e.shape),e.setShape(s.old)),s.fadein?(e.setStyle("opacity",0),l.style={opacity:1}):1!==e.style.opacity&&(l.style={opacity:1})),a.add(e,l,r,o))}))}),this),this._state="animating",a.done(wG((function(){this._state="ready",t.renderFinally()}),this)).start()}},_resetController:function(e){var t=this._controller;t||((t=this._controller=new mG(e.getZr())).enable(this.seriesModel.get("roam")),t.on("pan",wG(this._onPan,this)),t.on("zoom",wG(this._onZoom,this)));var n=new vG(0,0,e.getWidth(),e.getHeight());t.setPointerChecker((function(e,t,i){return n.contain(t,i)}))},_clearController:function(){var e=this._controller;e&&(e.dispose(),e=null)},_onPan:function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var t=this.seriesModel.getData().tree.root;if(!t)return;var n=t.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+e.dx,y:n.y+e.dy,width:n.width,height:n.height}})}},_onZoom:function(e){var t=e.originX,n=e.originY;if("animating"!==this._state){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;var o=new vG(r.x,r.y,r.width,r.height),a=this.seriesModel.layoutInfo;t-=a.x,n-=a.y;var s=yG.create();yG.translate(s,s,[-t,-n]),yG.scale(s,s,[e.scale,e.scale]),yG.translate(s,s,[t,n]),o.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x,y:o.y,width:o.width,height:o.height}})}},_initEvents:function(e){e.on("click",(function(e){if("ready"===this._state){var t=this.seriesModel.get("nodeClick",!0);if(t){var n=this.findTarget(e.offsetX,e.offsetY);if(n){var i=n.node;if(i.getLayout().isLeafRoot)this._rootToNode(n);else if("zoomToNode"===t)this._zoomToNode(n);else if("link"===t){var r=i.hostTree.data.getItemModel(i.dataIndex),o=r.get("link",!0),a=r.get("target",!0)||"blank";o&&bG(o,a)}}}}}),this)},_renderBreadcrumb:function(e,t,n){n||(n=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(n={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new gG(this.group))).render(e,t,n.node,wG((function(t){"animating"!==this._state&&(pG.aboveViewRoot(e.getViewRoot(),t)?this._rootToNode({node:t}):this._zoomToNode({node:t}))}),this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},_rootToNode:function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},findTarget:function(e,t){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(i){var r=this._storage.background[i.getRawIndex()];if(r){var o=r.transformCoordToLocal(e,t),a=r.shape;if(!(a.x<=o[0]&&o[0]<=a.x+a.width&&a.y<=o[1]&&o[1]<=a.y+a.height))return!1;n={node:i,offsetX:o[0],offsetY:o[1]}}}),this),n}});for(var NG=c,RG=HV,EG=function(){},zG=["treemapZoomToNode","treemapRender","treemapMove"],BG=0;BG<zG.length;BG++)NG.registerAction({type:zG[BG],update:"updateView"},EG);NG.registerAction({type:"treemapRootToNode",update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},(function(t,n){var i=RG.retrieveTargetInfo(e,["treemapZoomToNode","treemapRootToNode"],t);if(i){var r=t.getViewRoot();r&&(e.direction=RG.aboveViewRoot(r,i.node)?"rollUp":"drillDown"),t.resetViewRoot(i.node)}}))}));var VG=az,GG=at,FG=g,HG=FG.isArray;function WG(e,t,n,i){var r=e.getModel(),o=e.getLayout();if(o&&!o.invisible&&o.isInView){var a,s=e.getModel("itemStyle"),l=function(e,t,n){var i=FG.extend({},t),r=n.designatedVisualItemStyle;return FG.each(["color","colorAlpha","colorSaturation"],(function(n){r[n]=t[n];var o=e.get(n);r[n]=null,null!=o&&(i[n]=o)})),i}(s,t,i),u=s.get("borderColor"),c=s.get("borderColorSaturation");null!=c&&(u=function(e,t){return null!=t?GG.modifyHSL(t,null,null,e):null}(c,a=UG(l))),e.setVisual("borderColor",u);var h=e.viewChildren;if(h&&h.length){var d=function(e,t,n,i,r,o){if(!o||!o.length)return;var a=ZG(t,"color")||null!=r.color&&"none"!==r.color&&(ZG(t,"colorAlpha")||ZG(t,"colorSaturation"));if(!a)return;var s=t.get("visualMin"),l=t.get("visualMax"),u=n.dataExtent.slice();null!=s&&s<u[0]&&(u[0]=s),null!=l&&l>u[1]&&(u[1]=l);var c=t.get("colorMappingBy"),h={type:a.name,dataExtent:u,visual:a.range};"color"!==h.type||"index"!==c&&"id"!==c?h.mappingMethod="linear":(h.mappingMethod="category",h.loop=!0);var d=new VG(h);return d.__drColorMappingBy=c,d}(0,r,o,0,l,h);FG.each(h,(function(e,t){if(e.depth>=n.length||e===n[e.depth]){var o=function(e,t,n,i,r,o){var a=FG.extend({},t);if(r){var s=r.type,l="color"===s&&r.__drColorMappingBy,u="index"===l?i:"id"===l?o.mapIdToIndex(n.getId()):n.getValue(e.get("visualDimension"));a[s]=r.mapValueToVisual(u)}return a}(r,l,e,t,d,i);WG(e,o,n,i)}}))}else a=UG(l),e.setVisual("color",a)}}function UG(e){var t=jG(e,"color");if(t){var n=jG(e,"colorAlpha"),i=jG(e,"colorSaturation");return i&&(t=GG.modifyHSL(t,null,null,i)),n&&(t=GG.modifyAlpha(t,n)),t}}function jG(e,t){var n=e[t];if(null!=n&&"none"!==n)return n}function ZG(e,t){var n=e.get(t);return HG(n)&&n.length?{name:t,range:n}:null}var YG={seriesType:"treemap",reset:function(e,t,n,i){var r=e.getData().tree.root;r.isRemoved()||WG(r,{},e.getViewRoot().getAncestors(),e)}},XG=g,qG=Pn,KG=Ah,JG=KG.parsePercent,QG=KG.MAX_SAFE_INTEGER,$G=Ih,eF=HV,tF=Math.max,nF=Math.min,iF=XG.retrieve,rF=XG.each,oF=["itemStyle","borderWidth"],aF=["itemStyle","gapWidth"],sF=["upperLabel","show"],lF=["upperLabel","height"];function uF(e,t,n,i){var r,o;if(!e.isRemoved()){var a=e.getLayout();r=a.width,o=a.height;var s=(f=e.getModel()).get(oF),l=f.get(aF)/2,u=fF(f),c=Math.max(s,u),h=s-l,d=c-l,f=e.getModel();e.setLayout({borderWidth:s,upperHeight:c,upperLabelHeight:u},!0);var p=(r=tF(r-2*h,0))*(o=tF(o-h-d,0)),g=function(e,t,n,i,r,o){var a=e.children||[],s=i.sort;"asc"!==s&&"desc"!==s&&(s=null);var l=null!=i.leafDepth&&i.leafDepth<=o;if(r&&!l)return e.viewChildren=[];!function(e,t){t&&e.sort((function(e,n){var i="asc"===t?e.getValue()-n.getValue():n.getValue()-e.getValue();return 0===i?"asc"===t?e.dataIndex-n.dataIndex:n.dataIndex-e.dataIndex:i}))}(a=XG.filter(a,(function(e){return!e.isRemoved()})),s);var u=function(e,t,n){for(var i=0,r=0,o=t.length;r<o;r++)i+=t[r].getValue();var a=e.get("visualDimension");if(t&&t.length)if("value"===a&&n)s=[t[t.length-1].getValue(),t[0].getValue()],"asc"===n&&s.reverse();else{var s=[1/0,-1/0];rF(t,(function(e){var t=e.getValue(a);t<s[0]&&(s[0]=t),t>s[1]&&(s[1]=t)}))}else s=[NaN,NaN];return{sum:i,dataExtent:s}}(t,a,s);if(0===u.sum)return e.viewChildren=[];if(u.sum=function(e,t,n,i,r){if(!i)return n;for(var o=e.get("visibleMin"),a=r.length,s=a,l=a-1;l>=0;l--){var u=r["asc"===i?a-l-1:l].getValue();u/n*t<o&&(s=l,n-=u)}return"asc"===i?r.splice(0,a-s):r.splice(s,a-s),n}(t,n,u.sum,s,a),0===u.sum)return e.viewChildren=[];for(var c=0,h=a.length;c<h;c++){var d=a[c].getValue()/u.sum*n;a[c].setLayout({area:d})}l&&(a.length&&e.setLayout({isLeafRoot:!0},!0),a.length=0);return e.viewChildren=a,e.setLayout({dataExtent:u.dataExtent},!0),a}(e,f,p,t,n,i);if(g.length){var m={x:h,y:d,width:r,height:o},v=nF(r,o),y=1/0,_=[];_.area=0;for(var x=0,b=g.length;x<b;){var w=g[x];_.push(w),_.area+=w.getLayout().area;var S=cF(_,v,t.squareRatio);S<=y?(x++,y=S):(_.area-=_.pop().getLayout().area,hF(_,v,m,l,!1),v=nF(m.width,m.height),_.length=_.area=0,y=1/0)}if(_.length&&hF(_,v,m,l,!0),!n){var M=f.get("childrenVisibleMin");null!=M&&p<M&&(n=!0)}for(x=0,b=g.length;x<b;x++)uF(g[x],t,n,i+1)}}}function cF(e,t,n){for(var i,r=0,o=1/0,a=0,s=e.length;a<s;a++)(i=e[a].getLayout().area)&&(i<o&&(o=i),i>r&&(r=i));var l=e.area*e.area,u=t*t*n;return l?tF(u*r/l,l/(u*o)):1/0}function hF(e,t,n,i,r){var o=t===n.width?0:1,a=1-o,s=["x","y"],l=["width","height"],u=n[s[o]],c=t?e.area/t:0;(r||c>n[l[a]])&&(c=n[l[a]]);for(var h=0,d=e.length;h<d;h++){var f=e[h],p={},g=c?f.getLayout().area/c:0,m=p[l[a]]=tF(c-2*i,0),v=n[s[o]]+n[l[o]]-u,y=h===d-1||v<g?v:g,_=p[l[o]]=tF(y-2*i,0);p[s[a]]=n[s[a]]+nF(i,m/2),p[s[o]]=u+nF(i,_/2),u+=y,f.setLayout(p,!0)}n[s[a]]+=c,n[l[a]]-=c}function dF(e,t,n,i,r){var o=e.getLayout(),a=n[r],s=a&&a===e;if(!(a&&!s||r===n.length&&e!==i)){e.setLayout({isInView:!0,invisible:!s&&!t.intersect(o),isAboveViewRoot:s},!0);var l=new qG(t.x-o.x,t.y-o.y,t.width,t.height);rF(e.viewChildren||[],(function(e){dF(e,l,n,i,r+1)}))}}function fF(e){return e.get(sF)?e.get(lF):0}var pF=c,gF=YG,mF={seriesType:"treemap",reset:function(e,t,n,i){var r=n.getWidth(),o=n.getHeight(),a=e.option,s=$G.getLayoutRect(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),l=a.size||[],u=JG(iF(s.width,l[0]),r),c=JG(iF(s.height,l[1]),o),h=i&&i.type,d=eF.retrieveTargetInfo(i,["treemapZoomToNode","treemapRootToNode"],e),f="treemapRender"===h||"treemapMove"===h?i.rootRect:null,p=e.getViewRoot(),g=eF.getPathToRoot(p);if("treemapMove"!==h){var m="treemapZoomToNode"===h?function(e,t,n,i,r){var o,a=(t||{}).node,s=[i,r];if(!a||a===n)return s;var l=i*r,u=l*e.option.zoomToNodeRatio;for(;o=a.parentNode;){for(var c=0,h=o.children,d=0,f=h.length;d<f;d++)c+=h[d].getValue();var p=a.getValue();if(0===p)return s;u*=c/p;var g=o.getModel(),m=g.get(oF);(u+=4*m*m+(3*m+Math.max(m,fF(g)))*Math.pow(u,.5))>QG&&(u=QG),a=o}u<l&&(u=l);var v=Math.pow(u/l,.5);return[i*v,r*v]}(e,d,p,u,c):f?[f.width,f.height]:[u,c],v=a.sort;v&&"asc"!==v&&"desc"!==v&&(v="desc");var y={squareRatio:a.squareRatio,sort:v,leafDepth:a.leafDepth};p.hostTree.clearLayouts();var _={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};p.setLayout(_),uF(p,y,!1,0);_=p.getLayout();rF(g,(function(e,t){var n=(g[t+1]||p).getValue();e.setLayout(XG.extend({dataExtent:[n,n],borderWidth:0,upperHeight:0},_))}))}var x=e.getData().tree.root;x.setLayout(function(e,t,n){if(t)return{x:t.x,y:t.y};var i={x:0,y:0};if(!n)return i;var r=n.node,o=r.getLayout();if(!o)return i;var a=[o.width/2,o.height/2],s=r;for(;s;){var l=s.getLayout();a[0]+=l.x,a[1]+=l.y,s=s.parentNode}return{x:e.width/2-a[0],y:e.height/2-a[1]}}(s,f,d),!0),e.setLayoutInfo(s),dF(x,new qG(-s.x,-s.y,r,o),g,p,0)}};pF.registerVisual(gF),pF.registerLayout(mF);var vF=g,yF=da.enableClassCheck;function _F(e){return"_EC_"+e}var xF=function(e){this._directed=e||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},bF=xF.prototype;function wF(e,t){this.id=null==e?"":e,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==t?-1:t}function SF(e,t,n){this.node1=e,this.node2=t,this.dataIndex=null==n?-1:n}bF.type="graph",bF.isDirected=function(){return this._directed},bF.addNode=function(e,t){e=null==e?""+t:""+e;var n=this._nodesMap;if(!n[_F(e)]){var i=new wF(e,t);return i.hostGraph=this,this.nodes.push(i),n[_F(e)]=i,i}},bF.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},bF.getNodeById=function(e){return this._nodesMap[_F(e)]},bF.addEdge=function(e,t,n){var i=this._nodesMap,r=this._edgesMap;if("number"==typeof e&&(e=this.nodes[e]),"number"==typeof t&&(t=this.nodes[t]),wF.isInstance(e)||(e=i[_F(e)]),wF.isInstance(t)||(t=i[_F(t)]),e&&t){var o=e.id+"-"+t.id,a=new SF(e,t,n);return a.hostGraph=this,this._directed&&(e.outEdges.push(a),t.inEdges.push(a)),e.edges.push(a),e!==t&&t.edges.push(a),this.edges.push(a),r[o]=a,a}},bF.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},bF.getEdge=function(e,t){wF.isInstance(e)&&(e=e.id),wF.isInstance(t)&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},bF.eachNode=function(e,t){for(var n=this.nodes,i=n.length,r=0;r<i;r++)n[r].dataIndex>=0&&e.call(t,n[r],r)},bF.eachEdge=function(e,t){for(var n=this.edges,i=n.length,r=0;r<i;r++)n[r].dataIndex>=0&&n[r].node1.dataIndex>=0&&n[r].node2.dataIndex>=0&&e.call(t,n[r],r)},bF.breadthFirstTraverse=function(e,t,n,i){if(wF.isInstance(t)||(t=this._nodesMap[_F(t)]),t){for(var r="out"===n?"outEdges":"in"===n?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!e.call(i,t,null))for(var a=[t];a.length;){var s=a.shift(),l=s[r];for(o=0;o<l.length;o++){var u=l[o],c=u.node1===s?u.node2:u.node1;if(!c.__visited){if(e.call(i,c,s))return;a.push(c),c.__visited=!0}}}}},bF.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,i=this.edges,r=0,o=n.length;r<o;r++)n[r].dataIndex=-1;for(r=0,o=e.count();r<o;r++)n[e.getRawIndex(r)].dataIndex=r;t.filterSelf((function(e){var n=i[t.getRawIndex(e)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0}));for(r=0,o=i.length;r<o;r++)i[r].dataIndex=-1;for(r=0,o=t.count();r<o;r++)i[t.getRawIndex(r)].dataIndex=r},bF.clone=function(){for(var e=new xF(this._directed),t=this.nodes,n=this.edges,i=0;i<t.length;i++)e.addNode(t[i].id,t[i].dataIndex);for(i=0;i<n.length;i++){var r=n[i];e.addEdge(r.node1.id,r.node2.id,r.dataIndex)}return e},wF.prototype={constructor:wF,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)}},SF.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)};var MF=function(e,t){return{getValue:function(n){var i=this[e][t];return i.get(i.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,i){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,n,i)},getVisual:function(n,i){return this[e][t].getItemVisual(this.dataIndex,n,i)},setLayout:function(n,i){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,n,i)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}};vF.mixin(wF,MF("hostGraph","data")),vF.mixin(SF,MF("hostGraph","edgeData")),xF.Node=wF,xF.Edge=SF,yF(wF),yF(SF);var IF=g,AF=t_,TF=xF,CF=UB,DF=x_,PF=Ff,LF=U_;var kF=function(e,t,n,i,r){for(var o=new TF(i),a=0;a<e.length;a++)o.addNode(IF.retrieve(e[a].id,e[a].name,a),a);var s=[],l=[],u=0;for(a=0;a<t.length;a++){var c=t[a],h=c.source,d=c.target;o.addEdge(h,d,u)&&(l.push(c),s.push(IF.retrieve(c.id,h+" > "+d)),u++)}var f,p=n.get("coordinateSystem");if("cartesian2d"===p||"polar"===p)f=LF(e,n);else{var g=PF.get(p),m=g&&"view"!==g.type&&g.dimensions||[];IF.indexOf(m,"value")<0&&m.concat(["value"]);var v=DF(e,{coordDimensions:m});(f=new AF(v,n)).initData(e)}var y=new AF(["value"],n);return y.initData(l,s),r&&r(f,y),CF({mainData:f,struct:o,structAttr:"graph",datas:{node:f,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o},OF={},NF=g,RF=function(e){return e.get("autoCurveness")||null},EF=function(e,t){var n=RF(e),i=20,r=[];if("number"==typeof n)i=n;else if(NF.isArray(n))return void(e.__curvenessList=n);t>i&&(i=t);var o=i%2?i+2:i+3;r=[];for(var a=0;a<o;a++)r.push((a%2?a+1:a)/10*(a%2?-1:1));e.__curvenessList=r},zF=function(e,t,n){var i=[e.id,e.dataIndex].join("."),r=[t.id,t.dataIndex].join(".");return[n.uid,i,r].join("--\x3e")},BF=function(e){var t=e.split("--\x3e");return[t[0],t[2],t[1]].join("--\x3e")},VF=function(e,t){var n=t.__edgeMap;return n[e]?n[e].length:0};OF.initCurvenessList=function(e){RF(e)&&(e.__curvenessList=[],e.__edgeMap={},EF(e))},OF.createEdgeMapForCurveness=function(e,t,n,i){if(RF(n)){var r=zF(e,t,n),o=n.__edgeMap,a=o[BF(r)];o[r]&&!a?o[r].isForward=!0:a&&o[r]&&(a.isForward=!0,o[r].isForward=!1),o[r]=o[r]||[],o[r].push(i)}},OF.getCurvenessForEdge=function(e,t,n,i){var r=RF(t),o=NF.isArray(r);if(!r)return null;var a=function(e,t){var n=zF(e.node1,e.node2,t);return t.__edgeMap[n]}(e,t);if(!a)return null;for(var s=-1,l=0;l<a.length;l++)if(a[l]===n){s=l;break}var u=function(e,t){return VF(zF(e.node1,e.node2,t),t)+VF(zF(e.node2,e.node1,t),t)}(e,t);EF(t,u),e.lineStyle=e.lineStyle||{};var c=zF(e.node1,e.node2,t),h=t.__curvenessList,d=o||u%2?0:1;if(a.isForward)return h[d+s];var f=BF(c),p=VF(f,t),g=h[s+p+d];return i?o?r&&0===r[0]?(p+d)%2?g:-g:((p%2?0:1)+d)%2?g:-g:(p+d)%2?g:-g:h[s+p+d]};var GF=c,FF=t_,HF=g,WF=na.defaultEmphasis,UF=xh,jF=Ph.encodeHTML,ZF=kF,YF=qC,XF=OF,qF=XF.initCurvenessList,KF=XF.createEdgeMapForCurveness,JF=GF.extendSeriesModel({type:"series.graph",init:function(e){JF.superApply(this,"init",arguments);var t=this;function n(){return t._categoriesData}this.legendVisualProvider=new YF(n,n),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeOption:function(e){JF.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(e){JF.superApply(this,"mergeDefaultAndTheme",arguments),WF(e,["edgeLabel"],["show"])},getInitialData:function(e,t){var n=e.edges||e.links||[],i=e.data||e.nodes||[],r=this;if(i&&n){qF(this);var o=ZF(i,n,this,!0,(function(e,n){e.wrapMethod("getItemModel",(function(e){var t=r._categoriesModels[e.getShallow("category")];return t&&(t.parentModel=e.parentModel,e.parentModel=t),e}));var i=r.getModel("edgeLabel"),o=new UF({label:i.option},i.parentModel,t),a=r.getModel("emphasis.edgeLabel"),s=new UF({emphasis:{label:a.option}},a.parentModel,t);function l(e){return(e=this.parsePath(e))&&"label"===e[0]?o:e&&"emphasis"===e[0]&&"label"===e[1]?s:this.parentModel}n.wrapMethod("getItemModel",(function(e){return e.customizeGetParent(l),e}))}));return HF.each(o.edges,(function(e){KF(e.node1,e.node2,this,e.dataIndex)}),this),o.data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,t,n){if("edge"===n){var i=this.getData(),r=this.getDataParams(e,n),o=i.graph.getEdgeByIndex(e),a=i.getName(o.node1.dataIndex),s=i.getName(o.node2.dataIndex),l=[];return null!=a&&l.push(a),null!=s&&l.push(s),l=jF(l.join(" > ")),r.value&&(l+=" : "+jF(r.value)),l}return JF.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var e=HF.map(this.option.categories||[],(function(e){return null!=e.value?e:HF.extend({value:0},e)})),t=new FF(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray((function(e){return t.getItemModel(e,!0)}))},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},isAnimationEnabled:function(){return JF.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}}}}),QF=Ia,$F=V,eH=QF.Line.prototype,tH=QF.BezierCurve.prototype;function nH(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var iH=QF.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(e,t){this[nH(t)?"_buildPathLine":"_buildPathCurve"](e,t)},_buildPathLine:eH.buildPath,_buildPathCurve:tH.buildPath,pointAt:function(e){return this[nH(this.shape)?"_pointAtLine":"_pointAtCurve"](e)},_pointAtLine:eH.pointAt,_pointAtCurve:tH.pointAt,tangentAt:function(e){var t=this.shape,n=nH(t)?[t.x2-t.x1,t.y2-t.y1]:this._tangentAtCurve(e);return $F.normalize(n,n)},_tangentAtCurve:tH.tangentAt}),rH=g,oH=V,aH=Tb,sH=iH,lH=Ia,uH=Ah.round,cH=["fromSymbol","toSymbol"];function hH(e){return"_"+e+"Type"}function dH(e,t,n){var i=t.getItemVisual(n,e);if(i&&"none"!==i){var r=t.getItemVisual(n,"color"),o=t.getItemVisual(n,e+"Size"),a=t.getItemVisual(n,e+"Rotate");rH.isArray(o)||(o=[o,o]);var s=aH.createSymbol(i,-o[0]/2,-o[1]/2,o[0],o[1],r);return s.__specifiedRotation=null==a||isNaN(a)?void 0:+a*Math.PI/180||0,s.name=e,s}}function fH(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var n=t[2];n?(e.cpx1=n[0],e.cpy1=n[1]):(e.cpx1=NaN,e.cpy1=NaN)}function pH(e,t,n){lH.Group.call(this),this._createLine(e,t,n)}var gH=pH.prototype;gH.beforeUpdate=function(){var e=this,t=e.childOfName("fromSymbol"),n=e.childOfName("toSymbol"),i=e.childOfName("label");if(t||n||!i.ignore){for(var r=1,o=this.parent;o;)o.scale&&(r/=o.scale[0]),o=o.parent;var a=e.childOfName("line");if(this.__dirty||a.__dirty){var s=a.shape.percent,l=a.pointAt(0),u=a.pointAt(s),c=oH.sub([],u,l);if(oH.normalize(c,c),t){if(t.attr("position",l),null==(d=t.__specifiedRotation)){var h=a.tangentAt(0);t.attr("rotation",Math.PI/2-Math.atan2(h[1],h[0]))}else t.attr("rotation",d);t.attr("scale",[r*s,r*s])}if(n){var d;if(n.attr("position",u),null==(d=n.__specifiedRotation)){h=a.tangentAt(1);n.attr("rotation",-Math.PI/2-Math.atan2(h[1],h[0]))}else n.attr("rotation",d);n.attr("scale",[r*s,r*s])}if(!i.ignore){var f,p,g,m;i.attr("position",u);var v=i.__labelDistance,y=v[0]*r,_=v[1]*r,x=s/2,b=[(h=a.tangentAt(x))[1],-h[0]],w=a.pointAt(x);b[1]>0&&(b[0]=-b[0],b[1]=-b[1]);var S,M=h[0]<0?-1:1;if("start"!==i.__position&&"end"!==i.__position){var I=-Math.atan2(h[1],h[0]);u[0]<l[0]&&(I=Math.PI+I),i.attr("rotation",I)}switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":S=-_,g="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":S=_,g="top";break;default:S=0,g="middle"}switch(i.__position){case"end":f=[c[0]*y+u[0],c[1]*_+u[1]],p=c[0]>.8?"left":c[0]<-.8?"right":"center",g=c[1]>.8?"top":c[1]<-.8?"bottom":"middle";break;case"start":f=[-c[0]*y+l[0],-c[1]*_+l[1]],p=c[0]>.8?"right":c[0]<-.8?"left":"center",g=c[1]>.8?"bottom":c[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":f=[y*M+l[0],l[1]+S],p=h[0]<0?"right":"left",m=[-y*M,-S];break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":f=[w[0],w[1]+S],p="center",m=[0,-S];break;case"insideEndTop":case"insideEnd":case"insideEndBottom":f=[-y*M+u[0],u[1]+S],p=h[0]>=0?"right":"left",m=[y*M,-S]}i.attr({style:{textVerticalAlign:i.__verticalAlign||g,textAlign:i.__textAlign||p},position:f,scale:[r,r],origin:m})}}}},gH._createLine=function(e,t,n){var i=e.hostModel,r=function(e){var t=new sH({name:"line",subPixelOptimize:!0});return fH(t.shape,e),t}(e.getItemLayout(t));r.shape.percent=0,lH.initProps(r,{shape:{percent:1}},i,t),this.add(r);var o=new lH.Text({name:"label",lineLabelOriginalOpacity:1});this.add(o),rH.each(cH,(function(n){var i=dH(n,e,t);this.add(i),this[hH(n)]=e.getItemVisual(t,n)}),this),this._updateCommonStl(e,t,n)},gH.updateData=function(e,t,n){var i=e.hostModel,r=this.childOfName("line"),o=e.getItemLayout(t),a={shape:{}};fH(a.shape,o),lH.updateProps(r,a,i,t),rH.each(cH,(function(n){var i=e.getItemVisual(t,n),r=hH(n);if(this[r]!==i){this.remove(this.childOfName(n));var o=dH(n,e,t);this.add(o)}this[r]=i}),this),this._updateCommonStl(e,t,n)},gH._updateCommonStl=function(e,t,n){var i=e.hostModel,r=this.childOfName("line"),o=n&&n.lineStyle,a=n&&n.hoverLineStyle,s=n&&n.labelModel,l=n&&n.hoverLabelModel;if(!n||e.hasItemOption){var u=e.getItemModel(t);o=u.getModel("lineStyle").getLineStyle(),a=u.getModel("emphasis.lineStyle").getLineStyle(),s=u.getModel("label"),l=u.getModel("emphasis.label")}var c=e.getItemVisual(t,"color"),h=rH.retrieve3(e.getItemVisual(t,"opacity"),o.opacity,1);r.useStyle(rH.defaults({strokeNoScale:!0,fill:"none",stroke:c,opacity:h},o)),r.hoverStyle=a,rH.each(cH,(function(e){var t=this.childOfName(e);t&&(t.setColor(c),t.setStyle({opacity:h}))}),this);var d,f,p=s.getShallow("show"),g=l.getShallow("show"),m=this.childOfName("label");if((p||g)&&(d=c||"#000",null==(f=i.getFormattedLabel(t,"normal",e.dataType)))){var v=i.getRawValue(t);f=null==v?e.getName(t):isFinite(v)?uH(v):v}var y=p?f:null,_=g?rH.retrieve2(i.getFormattedLabel(t,"emphasis",e.dataType),f):null,x=m.style;if(null!=y||null!=_){lH.setTextStyle(m.style,s,{text:y},{autoColor:d}),m.__textAlign=x.textAlign,m.__verticalAlign=x.textVerticalAlign,m.__position=s.get("position")||"middle";var b=s.get("distance");rH.isArray(b)||(b=[b,b]),m.__labelDistance=b}m.hoverStyle=null!=_?{text:_,textFill:l.getTextColor(!0),fontStyle:l.getShallow("fontStyle"),fontWeight:l.getShallow("fontWeight"),fontSize:l.getShallow("fontSize"),fontFamily:l.getShallow("fontFamily")}:{text:null},m.ignore=!p&&!g,lH.setHoverStyle(this)},gH.highlight=function(){this.trigger("emphasis")},gH.downplay=function(){this.trigger("normal")},gH.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},gH.setLinePoints=function(e){var t=this.childOfName("line");fH(t.shape,e),t.dirty()},rH.inherits(pH,lH.Group);var mH=pH,vH=Ia,yH=mH;function _H(e){this._ctor=e||yH,this.group=new vH.Group}var xH=_H.prototype;function bH(e){var t=e.hostModel;return{lineStyle:t.getModel("lineStyle").getLineStyle(),hoverLineStyle:t.getModel("emphasis.lineStyle").getLineStyle(),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label")}}function wH(e){return isNaN(e[0])||isNaN(e[1])}function SH(e){return!wH(e[0])&&!wH(e[1])}xH.isPersistent=function(){return!0},xH.updateData=function(e){var t=this,n=t.group,i=t._lineData;t._lineData=e,i||n.removeAll();var r=bH(e);e.diff(i).add((function(n){!function(e,t,n,i){if(!SH(t.getItemLayout(n)))return;var r=new e._ctor(t,n,i);t.setItemGraphicEl(n,r),e.group.add(r)}(t,e,n,r)})).update((function(n,o){!function(e,t,n,i,r,o){var a=t.getItemGraphicEl(i);if(!SH(n.getItemLayout(r)))return void e.group.remove(a);a?a.updateData(n,r,o):a=new e._ctor(n,r,o);n.setItemGraphicEl(r,a),e.group.add(a)}(t,i,e,o,n,r)})).remove((function(e){n.remove(i.getItemGraphicEl(e))})).execute()},xH.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl((function(t,n){t.updateLayout(e,n)}),this)},xH.incrementalPrepareUpdate=function(e){this._seriesScope=bH(e),this._lineData=null,this.group.removeAll()},xH.incrementalUpdate=function(e,t){function n(e){e.isGroup||function(e){return e.animators&&e.animators.length>0}(e)||(e.incremental=e.useHoverLayer=!0)}for(var i=e.start;i<e.end;i++){if(SH(t.getItemLayout(i))){var r=new this._ctor(t,i,this._seriesScope);r.traverse(n),this.group.add(r),t.setItemGraphicEl(i,r)}}},xH.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},xH._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var MH=_H,IH={};IH.getNodeGlobalScale=function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=e.option.nodeScaleRatio,i=t.scale,r=i&&i[0]||1;return((t.getZoom()-1)*n+1)/r},IH.getSymbolSize=function(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t};var AH=Ta,TH=V,CH=IH.getSymbolSize,DH=[],PH=[],LH=[],kH=AH.quadraticAt,OH=TH.distSquare,NH=Math.abs;function RH(e,t,n){for(var i,r=e[0],o=e[1],a=e[2],s=1/0,l=n*n,u=.1,c=.1;c<=.9;c+=.1){DH[0]=kH(r[0],o[0],a[0],c),DH[1]=kH(r[1],o[1],a[1],c),(f=NH(OH(DH,t)-l))<s&&(s=f,i=c)}for(var h=0;h<32;h++){var d=i+u;PH[0]=kH(r[0],o[0],a[0],i),PH[1]=kH(r[1],o[1],a[1],i),LH[0]=kH(r[0],o[0],a[0],d),LH[1]=kH(r[1],o[1],a[1],d);var f=OH(PH,t)-l;if(NH(f)<.01)break;var p=OH(LH,t)-l;u/=2,f<0?p>=0?i+=u:i-=u:p>=0?i-=u:i+=u}return i}var EH=function(e,t){var n=[],i=AH.quadraticSubdivide,r=[[],[],[]],o=[[],[]],a=[];t/=2,e.eachEdge((function(e,s){var l=e.getLayout(),u=e.getVisual("fromSymbol"),c=e.getVisual("toSymbol");l.__original||(l.__original=[TH.clone(l[0]),TH.clone(l[1])],l[2]&&l.__original.push(TH.clone(l[2])));var h=l.__original;if(null!=l[2]){if(TH.copy(r[0],h[0]),TH.copy(r[1],h[2]),TH.copy(r[2],h[1]),u&&"none"!==u){var d=CH(e.node1),f=RH(r,h[0],d*t);i(r[0][0],r[1][0],r[2][0],f,n),r[0][0]=n[3],r[1][0]=n[4],i(r[0][1],r[1][1],r[2][1],f,n),r[0][1]=n[3],r[1][1]=n[4]}if(c&&"none"!==c){d=CH(e.node2),f=RH(r,h[1],d*t);i(r[0][0],r[1][0],r[2][0],f,n),r[1][0]=n[1],r[2][0]=n[2],i(r[0][1],r[1][1],r[2][1],f,n),r[1][1]=n[1],r[2][1]=n[2]}TH.copy(l[0],r[0]),TH.copy(l[1],r[2]),TH.copy(l[2],r[1])}else{if(TH.copy(o[0],h[0]),TH.copy(o[1],h[1]),TH.sub(a,o[1],o[0]),TH.normalize(a,a),u&&"none"!==u){d=CH(e.node1);TH.scaleAndAdd(o[0],o[0],a,d*t)}if(c&&"none"!==c){d=CH(e.node2);TH.scaleAndAdd(o[1],o[1],a,-d*t)}TH.copy(l[0],o[0]),TH.copy(l[1],o[1])}}))},zH=c,BH=g,VH=NT,GH=MH,FH=tL,HH=nL,WH=iL.onIrrelevantElement,UH=Ia,jH=EH,ZH=IH.getNodeGlobalScale,YH="__focusNodeAdjacency",XH=["itemStyle","opacity"],qH=["lineStyle","opacity"];function KH(e,t){var n=e.getVisual("opacity");return null!=n?n:e.getModel().get(t)}function JH(e,t,n){var i=e.getGraphicEl(),r=KH(e,t);null!=n&&(null==r&&(r=1),r*=n),i.downplay&&i.downplay(),i.traverse((function(e){if(!e.isGroup){var t=e.lineLabelOriginalOpacity;null!=t&&null==n||(t=r),e.setStyle("opacity",t)}}))}function QH(e,t){var n=KH(e,t),i=e.getGraphicEl();i.traverse((function(e){!e.isGroup&&e.setStyle("opacity",n)})),i.highlight&&i.highlight()}zH.extendChartView({type:"graph",init:function(e,t){var n=new VH,i=new GH,r=this.group;this._controller=new FH(t.getZr()),this._controllerHost={target:r},r.add(n.group),r.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},render:function(e,t,n){var i=this,r=e.coordinateSystem;this._model=e;var o=this._symbolDraw,a=this._lineDraw,s=this.group;if("view"===r.type){var l={position:r.position,scale:r.scale};this._firstRender?s.attr(l):UH.updateProps(s,l,e)}jH(e.getGraph(),ZH(e));var u=e.getData();o.updateData(u);var c=e.getEdgeData();a.updateData(c),this._updateNodeAndLinkScale(),this._updateController(e,t,n),clearTimeout(this._layoutTimeout);var h=e.forceLayout,d=e.get("force.layoutAnimation");h&&this._startForceLayoutIteration(h,d),u.eachItemGraphicEl((function(t,r){var o=u.getItemModel(r);t.off("drag").off("dragend");var a=o.get("draggable");a&&t.on("drag",(function(){h&&(h.warmUp(),!this._layouting&&this._startForceLayoutIteration(h,d),h.setFixed(r),u.setItemLayout(r,t.position))}),this).on("dragend",(function(){h&&h.setUnfixed(r)}),this),t.setDraggable(a&&h),t[YH]&&t.off("mouseover",t[YH]),t.__unfocusNodeAdjacency&&t.off("mouseout",t.__unfocusNodeAdjacency),o.get("focusNodeAdjacency")&&(t.on("mouseover",t[YH]=function(){i._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,dataIndex:t.dataIndex})}),t.on("mouseout",t.__unfocusNodeAdjacency=function(){i._dispatchUnfocus(n)}))}),this),u.graph.eachEdge((function(t){var r=t.getGraphicEl();r[YH]&&r.off("mouseover",r[YH]),r.__unfocusNodeAdjacency&&r.off("mouseout",r.__unfocusNodeAdjacency),t.getModel().get("focusNodeAdjacency")&&(r.on("mouseover",r[YH]=function(){i._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,edgeDataIndex:t.dataIndex})}),r.on("mouseout",r.__unfocusNodeAdjacency=function(){i._dispatchUnfocus(n)}))}));var f="circular"===e.get("layout")&&e.get("circular.rotateLabel"),p=u.getLayout("cx"),g=u.getLayout("cy");u.eachItemGraphicEl((function(e,t){var n=u.getItemModel(t).get("label.rotate")||0,i=e.getSymbolPath();if(f){var r=u.getItemLayout(t),o=Math.atan2(r[1]-g,r[0]-p);o<0&&(o=2*Math.PI+o);var a=r[0]<p;a&&(o-=Math.PI);var s=a?"left":"right";UH.modifyLabelStyle(i,{textRotation:-o,textPosition:s,textOrigin:"center"},{textPosition:s})}else UH.modifyLabelStyle(i,{textRotation:n*=Math.PI/180})})),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={},this._clearTimer()},_dispatchUnfocus:function(e,t){var n=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout((function(){n._unfocusDelayTimer=null,e.dispatchAction({type:"unfocusNodeAdjacency",seriesId:n._model.id})}),500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(e,t,n,i){var r=e.getData().graph,o=i.dataIndex,a=i.edgeDataIndex,s=r.getNodeByIndex(o),l=r.getEdgeByIndex(a);(s||l)&&(r.eachNode((function(e){JH(e,XH,.1)})),r.eachEdge((function(e){JH(e,qH,.1)})),s&&(QH(s,XH),BH.each(s.edges,(function(e){e.dataIndex<0||(QH(e,qH),QH(e.node1,XH),QH(e.node2,XH))}))),l&&(QH(l,qH),QH(l.node1,XH),QH(l.node2,XH)))},unfocusNodeAdjacency:function(e,t,n,i){var r=e.getData().graph;r.eachNode((function(e){JH(e,XH)})),r.eachEdge((function(e){JH(e,qH)}))},_startForceLayoutIteration:function(e,t){var n=this;!function i(){e.step((function(e){n.updateLayout(n._model),(n._layouting=!e)&&(t?n._layoutTimeout=setTimeout(i,16):i())}))}()},_updateController:function(e,t,n){var i=this._controller,r=this._controllerHost,o=this.group;i.setPointerChecker((function(t,i,r){var a=o.getBoundingRect();return a.applyTransform(o.transform),a.contain(i,r)&&!WH(t,n,e)})),"view"===e.coordinateSystem.type?(i.enable(e.get("roam")),r.zoomLimit=e.get("scaleLimit"),r.zoom=e.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",(function(t){HH.updateViewOnPan(r,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:"graphRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){HH.updateViewOnZoom(r,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),this._updateNodeAndLinkScale(),jH(e.getGraph(),ZH(e)),this._lineDraw.updateLayout()}),this)):i.disable()},_updateNodeAndLinkScale:function(){var e=this._model,t=e.getData(),n=ZH(e),i=[n,n];t.eachItemGraphicEl((function(e,t){e.attr("scale",i)}))},updateLayout:function(e){jH(e.getGraph(),ZH(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});var $H=c;$H.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},(function(){})),$H.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},(function(){}));var eW=c,tW=wL.updateCenterAndZoom;eW.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},(function(e,t){t.eachComponent({mainType:"series",query:e},(function(t){var n=t.coordinateSystem,i=tW(n,e);t.setCenter&&t.setCenter(i.center),t.setZoom&&t.setZoom(i.zoom)}))}));var nW=function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",(function(e){var n=e.getCategoriesData(),i=e.getGraph().data,r=n.mapArray(n.getName);i.filterSelf((function(e){var n=i.getItemModel(e).getShallow("category");if(null!=n){"number"==typeof n&&(n=r[n]);for(var o=0;o<t.length;o++)if(!t[o].isSelected(n))return!1}return!0}))}),this)};var iW=function(e){var t={};e.eachSeriesByType("graph",(function(e){var n=e.getCategoriesData(),i=e.getData(),r={};n.each((function(i){var o=n.getName(i);r["ec-"+o]=i;var a=n.getItemModel(i),s=a.get("itemStyle.color")||e.getColorFromPalette(o,t);n.setItemVisual(i,"color",s);for(var l=["opacity","symbol","symbolSize","symbolKeepAspect"],u=0;u<l.length;u++){var c=a.getShallow(l[u],!0);null!=c&&n.setItemVisual(i,l[u],c)}})),n.count()&&i.each((function(e){var t=i.getItemModel(e).getShallow("category");if(null!=t){"string"==typeof t&&(t=r["ec-"+t]);for(var o=["color","opacity","symbol","symbolSize","symbolKeepAspect"],a=0;a<o.length;a++)null==i.getItemVisual(e,o[a],!0)&&i.setItemVisual(e,o[a],n.getItemVisual(t,o[a]))}}))}))};function rW(e){return e instanceof Array||(e=[e,e]),e}var oW=function(e){e.eachSeriesByType("graph",(function(e){var t=e.getGraph(),n=e.getEdgeData(),i=rW(e.get("edgeSymbol")),r=rW(e.get("edgeSymbolSize")),o="lineStyle.color".split("."),a="lineStyle.opacity".split(".");n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",r&&r[0]),n.setVisual("toSymbolSize",r&&r[1]),n.setVisual("color",e.get(o)),n.setVisual("opacity",e.get(a)),n.each((function(e){var i=n.getItemModel(e),r=t.getEdgeByIndex(e),s=rW(i.getShallow("symbol",!0)),l=rW(i.getShallow("symbolSize",!0)),u=i.get(o),c=i.get(a);switch(u){case"source":u=r.node1.getVisual("color");break;case"target":u=r.node2.getVisual("color")}s[0]&&r.setVisual("fromSymbol",s[0]),s[1]&&r.setVisual("toSymbol",s[1]),l[0]&&r.setVisual("fromSymbolSize",l[0]),l[1]&&r.setVisual("toSymbolSize",l[1]),r.setVisual("color",u),r.setVisual("opacity",c)}))}))},aW={},sW=V,lW=g,uW=OF.getCurvenessForEdge;function cW(e,t){e.eachEdge((function(e,n){var i=lW.retrieve3(e.getModel().get("lineStyle.curveness"),-uW(e,t,n,!0),0),r=sW.clone(e.node1.getLayout()),o=sW.clone(e.node2.getLayout()),a=[r,o];+i&&a.push([(r[0]+o[0])/2-(r[1]-o[1])*i,(r[1]+o[1])/2-(o[0]-r[0])*i]),e.setLayout(a)}))}aW.simpleLayout=function(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var n=e.getGraph();n.eachNode((function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])})),cW(n,e)}},aW.simpleLayoutEdge=cW;var hW=g.each,dW=aW,fW=dW.simpleLayout,pW=dW.simpleLayoutEdge;var gW=function(e,t){e.eachSeriesByType("graph",(function(e){var t=e.get("layout"),n=e.coordinateSystem;if(n&&"view"!==n.type){var i=e.getData(),r=[];hW(n.dimensions,(function(e){r=r.concat(i.mapDimension(e,!0))}));for(var o=0;o<i.count();o++){for(var a=[],s=!1,l=0;l<r.length;l++){var u=i.get(r[l],o);isNaN(u)||(s=!0),a.push(u)}s?i.setItemLayout(o,n.dataToPoint(a)):i.setItemLayout(o,[NaN,NaN])}pW(i.graph,e)}else t&&"none"!==t||fW(e)}))},mW={},vW=V,yW=IH,_W=yW.getSymbolSize,xW=yW.getNodeGlobalScale,bW=g,wW=OF.getCurvenessForEdge,SW=Math.PI,MW=[];var IW={value:function(e,t,n,i,r,o,a,s){var l=0,u=i.getSum("value"),c=2*Math.PI/(u||s);n.eachNode((function(e){var t=e.getValue("value"),n=c*(u?t:1)/2;l+=n,e.setLayout([r*Math.cos(l)+o,r*Math.sin(l)+a]),l+=n}))},symbolSize:function(e,t,n,i,r,o,a,s){var l=0;MW.length=s;var u=xW(e);n.eachNode((function(e){var t=_W(e);isNaN(t)&&(t=2),t<0&&(t=0),t*=u;var n=Math.asin(t/2/r);isNaN(n)&&(n=SW/2),MW[e.dataIndex]=n,l+=2*n}));var c=(2*SW-l)/s/2,h=0;n.eachNode((function(e){var t=c+MW[e.dataIndex];h+=t,e.setLayout([r*Math.cos(h)+o,r*Math.sin(h)+a]),h+=t}))}};mW.circularLayout=function(e,t){var n=e.coordinateSystem;if(!n||"view"===n.type){var i=n.getBoundingRect(),r=e.getData(),o=r.graph,a=i.width/2+i.x,s=i.height/2+i.y,l=Math.min(i.width,i.height)/2,u=r.count();r.setLayout({cx:a,cy:s}),u&&(IW[t](e,n,o,r,l,a,s,u),o.eachEdge((function(t,n){var i,r=bW.retrieve3(t.getModel().get("lineStyle.curveness"),wW(t,e,n),0),o=vW.clone(t.node1.getLayout()),l=vW.clone(t.node2.getLayout()),u=(o[0]+l[0])/2,c=(o[1]+l[1])/2;+r&&(i=[a*(r*=3)+u*(1-r),s*r+c*(1-r)]),t.setLayout([o,l,i])})))}};var AW=mW.circularLayout;var TW=function(e){e.eachSeriesByType("graph",(function(e){"circular"===e.get("layout")&&AW(e,"symbolSize")}))},CW={},DW=V,PW=DW.scaleAndAdd;CW.forceLayout=function(e,t,n){for(var i=n.rect,r=i.width,o=i.height,a=[i.x+r/2,i.y+o/2],s=null==n.gravity?.1:n.gravity,l=0;l<e.length;l++){var u=e[l];u.p||(u.p=DW.create(r*(Math.random()-.5)+a[0],o*(Math.random()-.5)+a[1])),u.pp=DW.clone(u.p),u.edges=null}var c=null==n.friction?.6:n.friction,h=c;return{warmUp:function(){h=.8*c},setFixed:function(t){e[t].fixed=!0},setUnfixed:function(t){e[t].fixed=!1},step:function(n){for(var i=[],r=e.length,o=0;o<t.length;o++){var l=t[o];if(!l.ignoreForceLayout){var u=l.n1,c=l.n2;DW.sub(i,c.p,u.p);var d=DW.len(i)-l.d,f=c.w/(u.w+c.w);isNaN(f)&&(f=0),DW.normalize(i,i),!u.fixed&&PW(u.p,u.p,i,f*d*h),!c.fixed&&PW(c.p,c.p,i,-(1-f)*d*h)}}for(o=0;o<r;o++){(v=e[o]).fixed||(DW.sub(i,a,v.p),PW(v.p,v.p,i,s*h))}for(o=0;o<r;o++){u=e[o];for(var p=o+1;p<r;p++){c=e[p];DW.sub(i,c.p,u.p),0===(d=DW.len(i))&&(DW.set(i,Math.random()-.5,Math.random()-.5),d=1);var g=(u.rep+c.rep)/d/d;!u.fixed&&PW(u.pp,u.pp,i,g),!c.fixed&&PW(c.pp,c.pp,i,-g)}}var m=[];for(o=0;o<r;o++){var v;(v=e[o]).fixed||(DW.sub(m,v.p,v.pp),PW(v.p,v.p,m,h),DW.copy(v.pp,v.p))}h*=.992,n&&n(e,t,h<.01)}}};var LW=CW.forceLayout,kW=aW.simpleLayout,OW=mW.circularLayout,NW=Ah.linearMap,RW=V,EW=g,zW=OF.getCurvenessForEdge;var BW=function(e){e.eachSeriesByType("graph",(function(e){if(!(h=e.coordinateSystem)||"view"===h.type)if("force"===e.get("layout")){var t=e.preservedPoints||{},n=e.getGraph(),i=n.data,r=n.edgeData,o=e.getModel("force"),a=o.get("initLayout");e.preservedPoints?i.each((function(e){var n=i.getId(e);i.setItemLayout(e,t[n]||[NaN,NaN])})):a&&"none"!==a?"circular"===a&&OW(e,"value"):kW(e);var s=i.getDataExtent("value"),l=r.getDataExtent("value"),u=o.get("repulsion"),c=o.get("edgeLength");EW.isArray(u)||(u=[u,u]),EW.isArray(c)||(c=[c,c]),c=[c[1],c[0]];var h,d=i.mapArray("value",(function(e,t){var n=i.getItemLayout(t),r=NW(e,s,u);return isNaN(r)&&(r=(u[0]+u[1])/2),{w:r,rep:r,fixed:i.getItemModel(t).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}})),f=r.mapArray("value",(function(t,i){var r=n.getEdgeByIndex(i),o=NW(t,l,c);isNaN(o)&&(o=(c[0]+c[1])/2);var a=r.getModel(),s=EW.retrieve3(a.get("lineStyle.curveness"),-zW(r,e,i,!0),0);return{n1:d[r.node1.dataIndex],n2:d[r.node2.dataIndex],d:o,curveness:s,ignoreForceLayout:a.get("ignoreForceLayout")}})),p=(h=e.coordinateSystem).getBoundingRect(),g=LW(d,f,{rect:p,gravity:o.get("gravity"),friction:o.get("friction")}),m=g.step;g.step=function(e){for(var r=0,o=d.length;r<o;r++)d[r].fixed&&RW.copy(d[r].p,n.getNodeByIndex(r).getLayout());m((function(r,o,a){for(var s=0,l=r.length;s<l;s++)r[s].fixed||n.getNodeByIndex(s).setLayout(r[s].p),t[i.getId(s)]=r[s].p;for(s=0,l=o.length;s<l;s++){var u=o[s],c=n.getEdgeByIndex(s),h=u.n1.p,d=u.n2.p,f=c.getLayout();(f=f?f.slice():[])[0]=f[0]||[],f[1]=f[1]||[],RW.copy(f[0],h),RW.copy(f[1],d),+u.curveness&&(f[2]=[(h[0]+d[0])/2-(h[1]-d[1])*u.curveness,(h[1]+d[1])/2-(d[0]-h[0])*u.curveness]),c.setLayout(f)}e&&e(a)}))},e.forceLayout=g,e.preservedPoints=t,g.step()}else e.forceLayout=null}))},VW=RL,GW=Ih.getLayoutRect,FW=Ha;var HW=c,WW=nW,UW=PC,jW=iW,ZW=oW,YW=gW,XW=TW,qW=BW,KW=function(e,t){var n=[];return e.eachSeriesByType("graph",(function(e){var i=e.get("coordinateSystem");if(!i||"view"===i){var r=e.getData(),o=r.mapArray((function(e){var t=r.getItemModel(e);return[+t.get("x"),+t.get("y")]})),a=[],s=[];FW.fromPoints(o,a,s),s[0]-a[0]==0&&(s[0]+=1,a[0]-=1),s[1]-a[1]==0&&(s[1]+=1,a[1]-=1);var l=(s[0]-a[0])/(s[1]-a[1]),u=function(e,t,n){var i=e.getBoxLayoutParams();return i.aspect=n,GW(i,{width:t.getWidth(),height:t.getHeight()})}(e,t,l);isNaN(l)&&(a=[u.x,u.y],s=[u.x+u.width,u.y+u.height]);var c=s[0]-a[0],h=s[1]-a[1],d=u.width,f=u.height,p=e.coordinateSystem=new VW;p.zoomLimit=e.get("scaleLimit"),p.setBoundingRect(a[0],a[1],c,h),p.setViewRect(u.x,u.y,d,f),p.setCenter(e.get("center")),p.setZoom(e.get("zoom")),n.push(p)}})),n};HW.registerProcessor(WW),HW.registerVisual(UW("graph","circle",null)),HW.registerVisual(jW),HW.registerVisual(ZW),HW.registerLayout(YW),HW.registerLayout(HW.PRIORITY.VISUAL.POST_CHART_LAYOUT,XW),HW.registerLayout(qW),HW.registerCoordinateSystem("graphView",{create:KW});var JW=ZC;Hg.extend({type:"series.gauge",getInitialData:function(e,t){return JW(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});var QW=nl.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(e,t){var n=Math.cos,i=Math.sin,r=t.r,o=t.width,a=t.angle,s=t.x-n(a)*o*(o>=r/3?1:2),l=t.y-i(a)*o*(o>=r/3?1:2);a=t.angle-Math.PI/2,e.moveTo(s,l),e.lineTo(t.x+n(a)*o,t.y+i(a)*o),e.lineTo(t.x+n(t.angle)*r,t.y+i(t.angle)*r),e.lineTo(t.x-n(a)*o,t.y-i(a)*o),e.lineTo(s,l)}}),$W=Ia,eU=pm,tU=Ah,nU=tU.parsePercent,iU=tU.round,rU=tU.linearMap;function oU(e,t){return t&&("string"==typeof t?e=t.replace("{value}",null!=e?e:""):"function"==typeof t&&(e=t(e))),e}var aU=2*Math.PI;eU.extend({type:"gauge",render:function(e,t,n){this.group.removeAll();var i=e.get("axisLine.lineStyle.color"),r=function(e,t){var n=e.get("center"),i=t.getWidth(),r=t.getHeight(),o=Math.min(i,r);return{cx:nU(n[0],t.getWidth()),cy:nU(n[1],t.getHeight()),r:nU(e.get("radius"),o/2)}}(e,n);this._renderMain(e,t,n,i,r)},dispose:function(){},_renderMain:function(e,t,n,i,r){for(var o=this.group,a=e.getModel("axisLine"),s=a.getModel("lineStyle"),l=e.get("clockwise"),u=-e.get("startAngle")/180*Math.PI,c=((g=-e.get("endAngle")/180*Math.PI)-u)%aU,h=u,d=s.get("width"),f=a.get("show"),p=0;f&&p<i.length;p++){var g=u+c*Math.min(Math.max(i[p][0],0),1),m=new $W.Sector({shape:{startAngle:h,endAngle:g,cx:r.cx,cy:r.cy,clockwise:l,r0:r.r-d,r:r.r},silent:!0});m.setStyle({fill:i[p][1]}),m.setStyle(s.getLineStyle(["color","borderWidth","borderColor"])),o.add(m),h=g}var v=function(e){if(e<=0)return i[0][1];for(var t=0;t<i.length;t++)if(i[t][0]>=e&&(0===t?0:i[t-1][0])<e)return i[t][1];return i[t-1][1]};if(!l){var y=u;u=g,g=y}this._renderTicks(e,t,n,v,r,u,g,l),this._renderPointer(e,t,n,v,r,u,g,l),this._renderTitle(e,t,n,v,r),this._renderDetail(e,t,n,v,r)},_renderTicks:function(e,t,n,i,r,o,a,s){for(var l=this.group,u=r.cx,c=r.cy,h=r.r,d=+e.get("min"),f=+e.get("max"),p=e.getModel("splitLine"),g=e.getModel("axisTick"),m=e.getModel("axisLabel"),v=e.get("splitNumber"),y=g.get("splitNumber"),_=nU(p.get("length"),h),x=nU(g.get("length"),h),b=o,w=(a-o)/v,S=w/y,M=p.getModel("lineStyle").getLineStyle(),I=g.getModel("lineStyle").getLineStyle(),A=0;A<=v;A++){var T=Math.cos(b),C=Math.sin(b);if(p.get("show")){var D=new $W.Line({shape:{x1:T*h+u,y1:C*h+c,x2:T*(h-_)+u,y2:C*(h-_)+c},style:M,silent:!0});"auto"===M.stroke&&D.setStyle({stroke:i(A/v)}),l.add(D)}if(m.get("show")){var P=oU(iU(A/v*(f-d)+d),m.get("formatter")),L=m.get("distance"),k=i(A/v);l.add(new $W.Text({style:$W.setTextStyle({},m,{text:P,x:T*(h-_-L)+u,y:C*(h-_-L)+c,textVerticalAlign:C<-.4?"top":C>.4?"bottom":"middle",textAlign:T<-.4?"left":T>.4?"right":"center"},{autoColor:k}),silent:!0}))}if(g.get("show")&&A!==v){for(var O=0;O<=y;O++){T=Math.cos(b),C=Math.sin(b);var N=new $W.Line({shape:{x1:T*h+u,y1:C*h+c,x2:T*(h-x)+u,y2:C*(h-x)+c},silent:!0,style:I});"auto"===I.stroke&&N.setStyle({stroke:i((A+O/y)/v)}),l.add(N),b+=S}b-=S}else b+=w}},_renderPointer:function(e,t,n,i,r,o,a,s){var l=this.group,u=this._data;if(e.get("pointer.show")){var c=[+e.get("min"),+e.get("max")],h=[o,a],d=e.getData(),f=d.mapDimension("value");d.diff(u).add((function(t){var n=new QW({shape:{angle:o}});$W.initProps(n,{shape:{angle:rU(d.get(f,t),c,h,!0)}},e),l.add(n),d.setItemGraphicEl(t,n)})).update((function(t,n){var i=u.getItemGraphicEl(n);$W.updateProps(i,{shape:{angle:rU(d.get(f,t),c,h,!0)}},e),l.add(i),d.setItemGraphicEl(t,i)})).remove((function(e){var t=u.getItemGraphicEl(e);l.remove(t)})).execute(),d.eachItemGraphicEl((function(e,t){var n=d.getItemModel(t),o=n.getModel("pointer");e.setShape({x:r.cx,y:r.cy,width:nU(o.get("width"),r.r),r:nU(o.get("length"),r.r)}),e.useStyle(n.getModel("itemStyle").getItemStyle()),"auto"===e.style.fill&&e.setStyle("fill",i(rU(d.get(f,t),c,[0,1],!0))),$W.setHoverStyle(e,n.getModel("emphasis.itemStyle").getItemStyle())})),this._data=d}else u&&u.eachItemGraphicEl((function(e){l.remove(e)}))},_renderTitle:function(e,t,n,i,r){var o=e.getData(),a=o.mapDimension("value"),s=e.getModel("title");if(s.get("show")){var l=s.get("offsetCenter"),u=r.cx+nU(l[0],r.r),c=r.cy+nU(l[1],r.r),h=+e.get("min"),d=+e.get("max"),f=e.getData().get(a,0),p=i(rU(f,[h,d],[0,1],!0));this.group.add(new $W.Text({silent:!0,style:$W.setTextStyle({},s,{x:u,y:c,text:o.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:p,forceRich:!0})}))}},_renderDetail:function(e,t,n,i,r){var o=e.getModel("detail"),a=+e.get("min"),s=+e.get("max");if(o.get("show")){var l=o.get("offsetCenter"),u=r.cx+nU(l[0],r.r),c=r.cy+nU(l[1],r.r),h=nU(o.get("width"),r.r),d=nU(o.get("height"),r.r),f=e.getData(),p=f.get(f.mapDimension("value"),0),g=i(rU(p,[a,s],[0,1],!0));this.group.add(new $W.Text({silent:!0,style:$W.setTextStyle({},o,{x:u,y:c,text:oU(p,o.get("formatter")),textWidth:isNaN(h)?null:h,textHeight:isNaN(d)?null:d,textAlign:"center",textVerticalAlign:"middle"},{autoColor:g,forceRich:!0})}))}}});var sU=c,lU=g,uU=ZC,cU=na.defaultEmphasis,hU=bd.makeSeriesEncodeForNameBased,dU=qC,fU=sU.extendSeriesModel({type:"series.funnel",init:function(e){fU.superApply(this,"init",arguments),this.legendVisualProvider=new dU(lU.bind(this.getData,this),lU.bind(this.getRawData,this)),this._defaultLabelLine(e)},getInitialData:function(e,t){return uU(this,{coordDimensions:["value"],encodeDefaulter:lU.curry(hU,this)})},_defaultLabelLine:function(e){cU(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},getDataParams:function(e){var t=this.getData(),n=fU.superCall(this,"getDataParams",e),i=t.mapDimension("value"),r=t.getSum(i);return n.percent=r?+(t.get(i,e)/r*100).toFixed(2):0,n.$vars.push("percent"),n},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}),pU=Ia,gU=g,mU=pm;function vU(e,t){pU.Group.call(this);var n=new pU.Polygon,i=new pU.Polyline,r=new pU.Text;this.add(n),this.add(i),this.add(r),this.highDownOnUpdate=function(e,t){"emphasis"===t?(i.ignore=i.hoverIgnore,r.ignore=r.hoverIgnore):(i.ignore=i.normalIgnore,r.ignore=r.normalIgnore)},this.updateData(e,t,!0)}var yU=vU.prototype,_U=["itemStyle","opacity"];yU.updateData=function(e,t,n){var i=this.childAt(0),r=e.hostModel,o=e.getItemModel(t),a=e.getItemLayout(t),s=e.getItemModel(t).get(_U);s=null==s?1:s,i.useStyle({}),n?(i.setShape({points:a.points}),i.setStyle({opacity:0}),pU.initProps(i,{style:{opacity:s}},r,t)):pU.updateProps(i,{style:{opacity:s},shape:{points:a.points}},r,t);var l=o.getModel("itemStyle"),u=e.getItemVisual(t,"color");i.setStyle(gU.defaults({lineJoin:"round",fill:u},l.getItemStyle(["opacity"]))),i.hoverStyle=l.getModel("emphasis").getItemStyle(),this._updateLabel(e,t),pU.setHoverStyle(this)},yU._updateLabel=function(e,t){var n=this.childAt(1),i=this.childAt(2),r=e.hostModel,o=e.getItemModel(t),a=e.getItemLayout(t).label,s=e.getItemVisual(t,"color");pU.updateProps(n,{shape:{points:a.linePoints||a.linePoints}},r,t),pU.updateProps(i,{style:{x:a.x,y:a.y}},r,t),i.attr({rotation:a.rotation,origin:[a.x,a.y],z2:10});var l=o.getModel("label"),u=o.getModel("emphasis.label"),c=o.getModel("labelLine"),h=o.getModel("emphasis.labelLine");s=e.getItemVisual(t,"color");pU.setLabelStyle(i.style,i.hoverStyle={},l,u,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:e.getName(t),autoColor:s,useInsideStyle:!!a.inside},{textAlign:a.textAlign,textVerticalAlign:a.verticalAlign}),i.ignore=i.normalIgnore=!l.get("show"),i.hoverIgnore=!u.get("show"),n.ignore=n.normalIgnore=!c.get("show"),n.hoverIgnore=!h.get("show"),n.setStyle({stroke:s}),n.setStyle(c.getModel("lineStyle").getLineStyle()),n.hoverStyle=h.getModel("lineStyle").getLineStyle()},gU.inherits(vU,pU.Group),mU.extend({type:"funnel",render:function(e,t,n){var i=e.getData(),r=this._data,o=this.group;i.diff(r).add((function(e){var t=new vU(i,e);i.setItemGraphicEl(e,t),o.add(t)})).update((function(e,t){var n=r.getItemGraphicEl(t);n.updateData(i,e),o.add(n),i.setItemGraphicEl(e,n)})).remove((function(e){var t=r.getItemGraphicEl(e);o.remove(t)})).execute(),this._data=i},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});var xU=Ih,bU=Ah,wU=bU.parsePercent,SU=bU.linearMap;var MU=c,IU=vD,AU=function(e,t,n){e.eachSeriesByType("funnel",(function(e){var n=e.getData(),i=n.mapDimension("value"),r=e.get("sort"),o=function(e,t){return xU.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t),a=function(e,t){for(var n=e.mapDimension("value"),i=e.mapArray(n,(function(e){return e})),r=[],o="ascending"===t,a=0,s=e.count();a<s;a++)r[a]=a;return"function"==typeof t?r.sort(t):"none"!==t&&r.sort((function(e,t){return o?i[e]-i[t]:i[t]-i[e]})),r}(n,r),s=e.get("orient"),l=o.width,u=o.height,c=o.x,h=o.y,d="horizontal"===s?[wU(e.get("minSize"),u),wU(e.get("maxSize"),u)]:[wU(e.get("minSize"),l),wU(e.get("maxSize"),l)],f=n.getDataExtent(i),p=e.get("min"),g=e.get("max");null==p&&(p=Math.min(f[0],0)),null==g&&(g=f[1]);var m=e.get("funnelAlign"),v=e.get("gap"),y=(("horizontal"===s?l:u)-v*(n.count()-1))/n.count(),_=function(e,t){if("horizontal"===s){var r,o=n.get(i,e)||0,a=SU(o,[p,g],d,!0);switch(m){case"top":r=h;break;case"center":r=h+(u-a)/2;break;case"bottom":r=h+(u-a)}return[[t,r],[t,r+a]]}o=n.get(i,e)||0;var f,v=SU(o,[p,g],d,!0);switch(m){case"left":f=c;break;case"center":f=c+(l-v)/2;break;case"right":f=c+l-v}return[[f,t],[f+v,t]]};"ascending"===r&&(y=-y,v=-v,"horizontal"===s?c+=l:h+=u,a=a.reverse());for(var x=0;x<a.length;x++){var b=a[x],w=a[x+1],S=n.getItemModel(b);if("horizontal"===s){var M=S.get("itemStyle.width");null==M?M=y:(M=wU(M,l),"ascending"===r&&(M=-M));var I=_(b,c),A=_(w,c+M);c+=M+v,n.setItemLayout(b,{points:I.concat(A.slice().reverse())})}else{var T=S.get("itemStyle.height");null==T?T=y:(T=wU(T,u),"ascending"===r&&(T=-T));I=_(b,"horizontal"===s?c:h),A=_(w,"horizontal"===s?c+M:h+T);h+=T+v,n.setItemLayout(b,{points:I.concat(A.slice().reverse())})}}!function(e){e.each((function(t){var n,i,r,o,a=e.getItemModel(t),s=a.getModel("label").get("position"),l=a.get("orient"),u=a.getModel("labelLine"),c=e.getItemLayout(t),h=c.points,d="inner"===s||"inside"===s||"center"===s||"insideLeft"===s||"insideRight"===s;if(d)"insideLeft"===s?(i=(h[0][0]+h[3][0])/2+5,r=(h[0][1]+h[3][1])/2,n="left"):"insideRight"===s?(i=(h[1][0]+h[2][0])/2-5,r=(h[1][1]+h[2][1])/2,n="right"):(i=(h[0][0]+h[1][0]+h[2][0]+h[3][0])/4,r=(h[0][1]+h[1][1]+h[2][1]+h[3][1])/4,n="center"),o=[[i,r],[i,r]];else{var f,p,g,m,v=u.get("length");"left"===s?(f=(h[3][0]+h[0][0])/2,p=(h[3][1]+h[0][1])/2,i=(g=f-v)-5,n="right"):"right"===s?(f=(h[1][0]+h[2][0])/2,p=(h[1][1]+h[2][1])/2,i=(g=f+v)+5,n="left"):"top"===s?(f=(h[3][0]+h[0][0])/2,r=(m=(p=(h[3][1]+h[0][1])/2)-v)-5,n="center"):"bottom"===s?(f=(h[1][0]+h[2][0])/2,r=(m=(p=(h[1][1]+h[2][1])/2)+v)+5,n="center"):"rightTop"===s?(f="horizontal"===l?h[3][0]:h[1][0],p="horizontal"===l?h[3][1]:h[1][1],"horizontal"===l?(r=(m=p-v)-5,n="center"):(i=(g=f+v)+5,n="top")):"rightBottom"===s?(f=h[2][0],p=h[2][1],"horizontal"===l?(r=(m=p+v)+5,n="center"):(i=(g=f+v)+5,n="bottom")):"leftTop"===s?(f=h[0][0],p="horizontal"===l?h[0][1]:h[1][1],"horizontal"===l?(r=(m=p-v)-5,n="center"):(i=(g=f-v)-5,n="right")):"leftBottom"===s?(f="horizontal"===l?h[1][0]:h[3][0],p="horizontal"===l?h[1][1]:h[2][1],"horizontal"===l?(r=(m=p+v)+5,n="center"):(i=(g=f-v)-5,n="right")):(f=(h[1][0]+h[2][0])/2,p=(h[1][1]+h[2][1])/2,"horizontal"===l?(r=(m=p+v)+5,n="center"):(i=(g=f+v)+5,n="left")),"horizontal"===l?i=g=f:r=m=p,o=[[f,p],[g,m]]}c.label={linePoints:o,x:i,y:r,verticalAlign:"middle",textAlign:n,inside:d}}))}(n)}))},TU=kD;MU.registerVisual(IU("funnel")),MU.registerLayout(AU),MU.registerProcessor(TU("funnel"));var CU=g,DU=na;var PU=function(e){!function(e){if(e.parallel)return;var t=!1;CU.each(e.series,(function(e){e&&"parallel"===e.type&&(t=!0)})),t&&(e.parallel=[{}])}(e),function(e){var t=DU.normalizeToArray(e.parallelAxis);CU.each(t,(function(t){if(CU.isObject(t)){var n=t.parallelIndex||0,i=DU.normalizeToArray(e.parallel)[n];i&&i.parallelAxisDefault&&CU.merge(t,i.parallelAxisDefault,!1)}}))}(e)},LU=g,kU=Ww,OU=function(e,t,n,i,r){kU.call(this,e,t,n),this.type=i||"value",this.axisIndex=r};OU.prototype={constructor:OU,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},LU.inherits(OU,kU);var NU=g,RU=Fe,EU=Ih,zU=j_,BU=OU,VU=Ia,GU=Ah,FU=Jz,HU=NU.each,WU=Math.min,UU=Math.max,jU=Math.floor,ZU=Math.ceil,YU=GU.round,XU=Math.PI;function qU(e,t,n){this._axesMap=NU.createHashMap(),this._axesLayout={},this.dimensions=e.dimensions,this._rect,this._model=e,this._init(e,t,n)}function KU(e,t){return WU(UU(e,t[0]),t[1])}function JU(e,t){var n=t.layoutLength/(t.axisCount-1);return{position:n*e,axisNameAvailableWidth:n,axisLabelShow:!0}}function QU(e,t){var n,i,r=t.layoutLength,o=t.axisExpandWidth,a=t.axisCount,s=t.axisCollapseWidth,l=t.winInnerIndices,u=s,c=!1;return e<l[0]?(n=e*s,i=s):e<=l[1]?(n=t.axisExpandWindow0Pos+e*o-t.axisExpandWindow[0],u=o,c=!0):(n=r-(a-1-e)*s,i=s),{position:n,axisNameAvailableWidth:u,axisLabelShow:c,nameTruncateMaxWidth:i}}qU.prototype={type:"parallel",constructor:qU,_init:function(e,t,n){var i=e.dimensions,r=e.parallelAxisIndex;HU(i,(function(e,n){var i=r[n],o=t.getComponent("parallelAxis",i),a=this._axesMap.set(e,new BU(e,zU.createScaleByModel(o),[0,0],o.get("type"),i)),s="category"===a.type;a.onBand=s&&o.get("boundaryGap"),a.inverse=o.get("inverse"),o.axis=a,a.model=o,a.coordinateSystem=o.coordinateSystem=this}),this)},update:function(e,t){this._updateAxesFromSeries(this._model,e)},containPoint:function(e){var t=this._makeLayoutInfo(),n=t.axisBase,i=t.layoutBase,r=t.pixelDimIndex,o=e[1-r],a=e[r];return o>=n&&o<=n+t.axisLength&&a>=i&&a<=i+t.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(e,t){t.eachSeries((function(n){if(e.contains(n,t)){var i=n.getData();HU(this.dimensions,(function(e){var t=this._axesMap.get(e);t.scale.unionExtentFromData(i,i.mapDimension(e)),zU.niceScaleExtent(t.scale,t.model)}),this)}}),this)},resize:function(e,t){this._rect=EU.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var e,t=this._model,n=this._rect,i=["x","y"],r=["width","height"],o=t.get("layout"),a="horizontal"===o?0:1,s=n[r[a]],l=[0,s],u=this.dimensions.length,c=KU(t.get("axisExpandWidth"),l),h=KU(t.get("axisExpandCount")||0,[0,u]),d=t.get("axisExpandable")&&u>3&&u>h&&h>1&&c>0&&s>0,f=t.get("axisExpandWindow");f?(e=KU(f[1]-f[0],l),f[1]=f[0]+e):(e=KU(c*(h-1),l),(f=[c*(t.get("axisExpandCenter")||jU(u/2))-e/2])[1]=f[0]+e);var p=(s-e)/(u-h);p<3&&(p=0);var g=[jU(YU(f[0]/c,1))+1,ZU(YU(f[1]/c,1))-1],m=p/c*f[0];return{layout:o,pixelDimIndex:a,layoutBase:n[i[a]],layoutLength:s,axisBase:n[i[1-a]],axisLength:n[r[1-a]],axisExpandable:d,axisExpandWidth:c,axisCollapseWidth:p,axisExpandWindow:f,axisCount:u,winInnerIndices:g,axisExpandWindow0Pos:m}},_layoutAxes:function(){var e=this._rect,t=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),r=i.layout;t.each((function(e){var t=[0,i.axisLength],n=e.inverse?1:0;e.setExtent(t[n],t[1-n])})),HU(n,(function(t,n){var o=(i.axisExpandable?QU:JU)(n,i),a={horizontal:{x:o.position,y:i.axisLength},vertical:{x:0,y:o.position}},s={horizontal:XU/2,vertical:0},l=[a[r].x+e.x,a[r].y+e.y],u=s[r],c=RU.create();RU.rotate(c,c,u),RU.translate(c,c,l),this._axesLayout[t]={position:l,rotation:u,transform:c,axisNameAvailableWidth:o.axisNameAvailableWidth,axisLabelShow:o.axisLabelShow,nameTruncateMaxWidth:o.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)},getAxis:function(e){return this._axesMap.get(e)},dataToPoint:function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},eachActiveState:function(e,t,n,i){null==n&&(n=0),null==i&&(i=e.count());var r=this._axesMap,o=this.dimensions,a=[],s=[];NU.each(o,(function(t){a.push(e.mapDimension(t)),s.push(r.get(t).model)}));for(var l=this.hasAxisBrushed(),u=n;u<i;u++){var c;if(l){c="active";for(var h=e.getValues(a,u),d=0,f=o.length;d<f;d++){if("inactive"===s[d].getActiveState(h[d])){c="inactive";break}}}else c="normal";t(c,u)}},hasAxisBrushed:function(){for(var e=this.dimensions,t=this._axesMap,n=!1,i=0,r=e.length;i<r;i++)"normal"!==t.get(e[i]).model.getActiveState()&&(n=!0);return n},axisCoordToPoint:function(e,t){var n=this._axesLayout[t];return VU.applyTransform([e,0],n.transform)},getAxisLayout:function(e){return NU.clone(this._axesLayout[e])},getSlidedAxisExpandWindow:function(e){var t=this._makeLayoutInfo(),n=t.pixelDimIndex,i=t.axisExpandWindow.slice(),r=i[1]-i[0],o=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:i};var a,s=e[n]-t.layoutBase-t.axisExpandWindow0Pos,l="slide",u=t.axisCollapseWidth,c=this._model.get("axisExpandSlideTriggerArea"),h=null!=c[0];if(u)h&&u&&s<r*c[0]?(l="jump",a=s-r*c[2]):h&&u&&s>r*(1-c[0])?(l="jump",a=s-r*(1-c[2])):(a=s-r*c[1])>=0&&(a=s-r*(1-c[1]))<=0&&(a=0),(a*=t.axisExpandWidth/u)?FU(a,i,o,"all"):l="none";else{r=i[1]-i[0];(i=[UU(0,o[1]*s/r-r/2)])[1]=WU(o[1],i[0]+r),i[0]=i[1]-r}return{axisExpandWindow:i,behavior:l}}};var $U=qU;Ff.register("parallel",{create:function(e,t){var n=[];return e.eachComponent("parallel",(function(i,r){var o=new $U(i,e,t);o.name="parallel_"+r,o.resize(i,t),i.coordinateSystem=o,o.model=i,n.push(o)})),e.eachSeries((function(t){if("parallel"===t.get("coordinateSystem")){var n=e.queryComponents({mainType:"parallel",index:t.get("parallelIndex"),id:t.get("parallelId")})[0];t.coordinateSystem=n.coordinateSystem}})),n}});var ej=g,tj=xa,nj=NM,ij=Ah,rj=Ab,oj=fd.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return tj([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(e){var t=this.activeIntervals=ej.clone(e);if(t)for(var n=t.length-1;n>=0;n--)ij.asc(t[n])},getActiveState:function(e){var t=this.activeIntervals;if(!t.length)return"normal";if(null==e||isNaN(e))return"inactive";if(1===t.length){var n=t[0];if(n[0]<=e&&e<=n[1])return"active"}else for(var i=0,r=t.length;i<r;i++)if(t[i][0]<=e&&e<=t[i][1])return"active";return"inactive"}});ej.merge(oj.prototype,rj),nj("parallel",oj,(function(e,t){return t.type||(t.data?"category":"value")}),{type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10});var aj=g,sj=fd;sj.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){sj.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(e){var t=this.option;e&&aj.merge(t,e,!0),this._initDimensions()},contains:function(e,t){var n=e.get("parallelIndex");return null!=n&&t.getComponent("parallel",n)===this},setAxisExpand:function(e){aj.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(t){e.hasOwnProperty(t)&&(this.option[t]=e[t])}),this)},_initDimensions:function(){var e=this.dimensions=[],t=this.parallelAxisIndex=[],n=aj.filter(this.dependentModels.parallelAxis,(function(e){return(e.get("parallelIndex")||0)===this.componentIndex}),this);aj.each(n,(function(n){e.push("dim"+n.get("dim")),t.push(n.componentIndex)}))}});var lj=c;lj.registerAction({type:"axisAreaSelect",event:"axisAreaSelected"},(function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},(function(t){t.axis.model.setActiveIntervals(e.intervals)}))})),lj.registerAction("parallelAxisExpand",(function(e,t){t.eachComponent({mainType:"parallel",query:e},(function(t){t.setAxisExpand(e)}))}));var uj=g,cj=te,hj=Ia,dj=VP,fj=gy,pj=uj.curry,gj=uj.each,mj=uj.map,vj=Math.min,yj=Math.max,_j=Math.pow,xj={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},bj={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},wj={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},Sj=0;function Mj(e){cj.call(this),this._zr=e,this.group=new hj.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+Sj++,this._handlers={},gj(Jj,(function(e,t){this._handlers[t]=uj.bind(e,this)}),this)}function Ij(e,t){var n=$j[t.brushType].createCover(e,t);return n.__brushOption=t,Cj(n,t),e.group.add(n),n}function Aj(e,t){var n=Pj(t);return n.endCreating&&(n.endCreating(e,t),Cj(t,t.__brushOption)),t}function Tj(e,t){var n=t.__brushOption;Pj(t).updateCoverShape(e,t,n.range,n)}function Cj(e,t){var n=t.z;null==n&&(n=1e4),e.traverse((function(e){e.z=n,e.z2=n}))}function Dj(e,t){Pj(t).updateCommon(e,t),Tj(e,t)}function Pj(e){return $j[e.__brushOption.brushType]}function Lj(e,t,n){var i,r=e._panels;if(!r)return!0;var o=e._transform;return gj(r,(function(e){e.isTargetByCursor(t,n,o)&&(i=e)})),i}function kj(e,t){var n=e._panels;if(!n)return!0;var i=t.__brushOption.panelId;return null==i||n[i]}function Oj(e){var t=e._covers,n=t.length;return gj(t,(function(t){e.group.remove(t)}),e),t.length=0,!!n}function Nj(e,t){var n=mj(e._covers,(function(e){var t=e.__brushOption,n=uj.clone(t.range);return{brushType:t.brushType,panelId:t.panelId,range:n}}));e.trigger("brush",n,{isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function Rj(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function Ej(e,t,n,i){var r=new hj.Group;return r.add(new hj.Rect({name:"main",style:Gj(n),silent:!0,draggable:!0,cursor:"move",drift:pj(e,t,r,"nswe"),ondragend:pj(Nj,t,{isEnd:!0})})),gj(i,(function(n){r.add(new hj.Rect({name:n,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:pj(e,t,r,n),ondragend:pj(Nj,t,{isEnd:!0})}))})),r}function zj(e,t,n,i){var r=i.brushStyle.lineWidth||0,o=yj(r,6),a=n[0][0],s=n[1][0],l=a-r/2,u=s-r/2,c=n[0][1],h=n[1][1],d=c-o+r/2,f=h-o+r/2,p=c-a,g=h-s,m=p+r,v=g+r;Vj(e,t,"main",a,s,p,g),i.transformable&&(Vj(e,t,"w",l,u,o,v),Vj(e,t,"e",d,u,o,v),Vj(e,t,"n",l,u,m,o),Vj(e,t,"s",l,f,m,o),Vj(e,t,"nw",l,u,o,o),Vj(e,t,"ne",d,u,o,o),Vj(e,t,"sw",l,f,o,o),Vj(e,t,"se",d,f,o,o))}function Bj(e,t){var n=t.__brushOption,i=n.transformable,r=t.childAt(0);r.useStyle(Gj(n)),r.attr({silent:!i,cursor:i?"move":"default"}),gj(["w","e","n","s","se","sw","ne","nw"],(function(n){var r=t.childOfName(n),o=Hj(e,n);r&&r.attr({silent:!i,invisible:!i,cursor:i?bj[o]+"-resize":null})}))}function Vj(e,t,n,i,r,o,a){var s=t.childOfName(n);s&&s.setShape(function(e){var t=vj(e[0][0],e[1][0]),n=vj(e[0][1],e[1][1]),i=yj(e[0][0],e[1][0]),r=yj(e[0][1],e[1][1]);return{x:t,y:n,width:i-t,height:r-n}}(Zj(e,t,[[i,r],[i+o,r+a]])))}function Gj(e){return uj.defaults({strokeNoScale:!0},e.brushStyle)}function Fj(e,t,n,i){var r=[vj(e,n),vj(t,i)],o=[yj(e,n),yj(t,i)];return[[r[0],o[0]],[r[1],o[1]]]}function Hj(e,t){if(t.length>1)return("e"===(n=[Hj(e,(t=t.split(""))[0]),Hj(e,t[1])])[0]||"w"===n[0])&&n.reverse(),n.join("");var n;return{left:"w",right:"e",top:"n",bottom:"s"}[n=hj.transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[t],function(e){return hj.getTransform(e.group)}(e))]}function Wj(e,t,n,i,r,o,a,s){var l=i.__brushOption,u=e(l.range),c=jj(n,o,a);gj(r.split(""),(function(e){var t=xj[e];u[t[0]][t[1]]+=c[t[0]]})),l.range=t(Fj(u[0][0],u[1][0],u[0][1],u[1][1])),Dj(n,i),Nj(n,{isEnd:!1})}function Uj(e,t,n,i,r){var o=t.__brushOption.range,a=jj(e,n,i);gj(o,(function(e){e[0]+=a[0],e[1]+=a[1]})),Dj(e,t),Nj(e,{isEnd:!1})}function jj(e,t,n){var i=e.group,r=i.transformCoordToLocal(t,n),o=i.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function Zj(e,t,n){var i=kj(e,t);return i&&!0!==i?i.clipPath(n,e._transform):uj.clone(n)}function Yj(e){var t=e.event;t.preventDefault&&t.preventDefault()}function Xj(e,t,n){return e.childOfName("main").contain(t,n)}function qj(e,t,n,i){var r,o=e._creatingCover,a=e._creatingPanel,s=e._brushOption;if(e._track.push(n.slice()),function(e){var t=e._track;if(!t.length)return!1;var n=t[t.length-1],i=t[0],r=n[0]-i[0],o=n[1]-i[1];return _j(r*r+o*o,.5)>6}(e)||o){if(a&&!o){"single"===s.brushMode&&Oj(e);var l=uj.clone(s);l.brushType=Kj(l.brushType,a),l.panelId=!0===a?null:a.panelId,o=e._creatingCover=Ij(e,l),e._covers.push(o)}if(o){var u=$j[Kj(e._brushType,a)];o.__brushOption.range=u.getCreatingRange(Zj(e,o,e._track)),i&&(Aj(e,o),u.updateCommon(e,o)),Tj(e,o),r={isEnd:i}}}else i&&"single"===s.brushMode&&s.removeOnClick&&Lj(e,t,n)&&Oj(e)&&(r={isEnd:i,removeOnClick:!0});return r}function Kj(e,t){return"auto"===e?t.defaultBrushType:e}Mj.prototype={constructor:Mj,enableBrush:function(e){var t,n;return this._brushType&&(n=(t=this)._zr,dj.release(n,"globalPan",t._uid),function(e,t){gj(t,(function(t,n){e.off(n,t)}))}(n,t._handlers),t._brushType=t._brushOption=null),e.brushType&&function(e,t){var n=e._zr;e._enableGlobalPan||dj.take(n,"globalPan",e._uid);(function(e,t){gj(t,(function(t,n){e.on(n,t)}))})(n,e._handlers),e._brushType=t.brushType,e._brushOption=uj.merge(uj.clone(wj),t,!0)}(this,e),this},setPanels:function(e){if(e&&e.length){var t=this._panels={};uj.each(e,(function(e){t[e.panelId]=uj.clone(e)}))}else this._panels=null;return this},mount:function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({position:e.position||[0,0],rotation:e.rotation||0,scale:e.scale||[1,1]}),this._transform=t.getLocalTransform(),this},eachCover:function(e,t){gj(this._covers,e,t)},updateCovers:function(e){e=uj.map(e,(function(e){return uj.merge(uj.clone(wj),e,!0)}));var t=this._covers,n=this._covers=[],i=this,r=this._creatingCover;return new fj(t,e,(function(e,t){return o(e.__brushOption,t)}),o).add(a).update(a).remove((function(e){t[e]!==r&&i.group.remove(t[e])})).execute(),this;function o(e,t){return(null!=e.id?e.id:"\0-brush-index-"+t)+"-"+e.brushType}function a(o,a){var s=e[o];if(null!=a&&t[a]===r)n[o]=t[a];else{var l=n[o]=null!=a?(t[a].__brushOption=s,t[a]):Aj(i,Ij(i,s));Dj(i,l)}}},unmount:function(){return this.enableBrush(!1),Oj(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},uj.mixin(Mj,cj);var Jj={mousedown:function(e){if(this._dragging)Qj(this,e);else if(!e.target||!e.target.draggable){Yj(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null,(this._creatingPanel=Lj(this,e,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=e.offsetX,n=e.offsetY,i=this.group.transformCoordToLocal(t,n);if(function(e,t,n){if(e._brushType&&!function(e,t,n){var i=e._zr;return t<0||t>i.getWidth()||n<0||n>i.getHeight()}(e,t)){var i=e._zr,r=e._covers,o=Lj(e,t,n);if(!e._dragging)for(var a=0;a<r.length;a++){var s=r[a].__brushOption;if(o&&(!0===o||s.panelId===o.panelId)&&$j[s.brushType].contain(r[a],n[0],n[1]))return}o&&i.setCursorStyle("crosshair")}}(this,e,i),this._dragging){Yj(e);var r=qj(this,e,i,!1);r&&Nj(this,r)}},mouseup:function(e){Qj(this,e)}};function Qj(e,t){if(e._dragging){Yj(t);var n=t.offsetX,i=t.offsetY,r=e.group.transformCoordToLocal(n,i),o=qj(e,t,r,!0);e._dragging=!1,e._track=[],e._creatingCover=null,o&&Nj(e,o)}}var $j={lineX:eZ(0),lineY:eZ(1),rect:{createCover:function(e,t){return Ej(pj(Wj,(function(e){return e}),(function(e){return e})),e,t,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(e){var t=Rj(e);return Fj(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,i){zj(e,t,n,i)},updateCommon:Bj,contain:Xj},polygon:{createCover:function(e,t){var n=new hj.Group;return n.add(new hj.Polyline({name:"main",style:Gj(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new hj.Polygon({name:"main",draggable:!0,drift:pj(Uj,e,t),ondragend:pj(Nj,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n,i){t.childAt(0).setShape({points:Zj(e,t,n)})},updateCommon:Bj,contain:Xj}};function eZ(e){return{createCover:function(t,n){return Ej(pj(Wj,(function(t){var n=[t,[0,100]];return e&&n.reverse(),n}),(function(t){return t[e]})),t,n,[["w","e"],["n","s"]][e])},getCreatingRange:function(t){var n=Rj(t);return[vj(n[0][e],n[1][e]),yj(n[0][e],n[1][e])]},updateCoverShape:function(t,n,i,r){var o,a=kj(t,n);if(!0!==a&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(e,t._transform);else{var s=t._zr;o=[0,[s.getWidth(),s.getHeight()][1-e]]}var l=[i,o];e&&l.reverse(),zj(t,n,l,r)},updateCommon:Bj,contain:Xj}}var tZ=Mj,nZ={},iZ=Pn,rZ=iL.onIrrelevantElement,oZ=Ia;function aZ(e){return iZ.create(e)}nZ.makeRectPanelClipPath=function(e){return e=aZ(e),function(t,n){return oZ.clipPointsByRect(t,e)}},nZ.makeLinearBrushOtherExtent=function(e,t){return e=aZ(e),function(n){var i=null!=t?t:n,r=i?e.width:e.height,o=i?e.x:e.y;return[o,o+(r||0)]}},nZ.makeRectIsTargetByCursor=function(e,t,n){return e=aZ(e),function(i,r,o){return e.contain(r[0],r[1])&&!rZ(i,t,n)}};var sZ=g,lZ=SA,uZ=tZ,cZ=nZ,hZ=Ia,dZ=["axisLine","axisTickLabel","axisName"],fZ=c.extendComponentView({type:"parallelAxis",init:function(e,t){fZ.superApply(this,"init",arguments),(this._brushController=new uZ(t.getZr())).on("brush",sZ.bind(this._onBrush,this))},render:function(e,t,n,i){if(!function(e,t,n){return n&&"axisAreaSelect"===n.type&&t.findComponents({mainType:"parallelAxis",query:n})[0]===e}(e,t,i)){this.axisModel=e,this.api=n,this.group.removeAll();var r=this._axisGroup;if(this._axisGroup=new hZ.Group,this.group.add(this._axisGroup),e.get("show")){var o=function(e,t){return t.getComponent("parallel",e.get("parallelIndex"))}(e,t),a=o.coordinateSystem,s=e.getAreaSelectStyle(),l=s.width,u=e.axis.dim,c=a.getAxisLayout(u),h=sZ.extend({strokeContainThreshold:l},c),d=new lZ(e,h);sZ.each(dZ,d.add,d),this._axisGroup.add(d.getGroup()),this._refreshBrushController(h,s,e,o,l,n);var f=i&&!1===i.animation?null:e;hZ.groupTransition(r,this._axisGroup,f)}}},_refreshBrushController:function(e,t,n,i,r,o){var a=n.axis.getExtent(),s=a[1]-a[0],l=Math.min(30,.1*Math.abs(s)),u=hZ.BoundingRect.create({x:a[0],y:-r/2,width:s,height:r});u.x-=l,u.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,position:e.position}).setPanels([{panelId:"pl",clipPath:cZ.makeRectPanelClipPath(u),isTargetByCursor:cZ.makeRectIsTargetByCursor(u,o,i),getLinearBrushOtherExtent:cZ.makeLinearBrushOtherExtent(u,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers(function(e){var t=e.axis;return sZ.map(e.activeIntervals,(function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}}))}(n))},_onBrush:function(e,t){var n=this.axisModel,i=n.axis,r=sZ.map(e,(function(e){return[i.coordToData(e.range[0],!0),i.coordToData(e.range[1],!0)]}));(!n.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:r})},dispose:function(){this._brushController.dispose()}});var pZ=c,gZ=g,mZ=gm,vZ=PU;pZ.extendComponentView({type:"parallel",render:function(e,t,n){this._model=e,this._api=n,this._handlers||(this._handlers={},gZ.each(yZ,(function(e,t){n.getZr().on(t,this._handlers[t]=gZ.bind(e,this))}),this)),mZ.createOrUpdate(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},dispose:function(e,t){gZ.each(this._handlers,(function(e,n){t.getZr().off(n,e)})),this._handlers=null},_throttledDispatchExpand:function(e){this._dispatchExpand(e)},_dispatchExpand:function(e){e&&this._api.dispatchAction(gZ.extend({type:"parallelAxisExpand"},e))}});var yZ={mousedown:function(e){_Z(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(_Z(this,"click")&&t){var n=[e.offsetX,e.offsetY];if(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2)>5)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);"none"!==i.behavior&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!this._mouseDownPoint&&_Z(this,"mousemove")){var t=this._model,n=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),i=n.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===i&&null})}}};function _Z(e,t){var n=e._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===t}pZ.registerPreprocessor(vZ);var xZ=g,bZ=xZ.each,wZ=xZ.createHashMap,SZ=U_;Hg.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(e,t){var n=this.getSource();return function(e,t){if(e.encodeDefine)return;var n=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(!n)return;var i=e.encodeDefine=wZ();bZ(n.dimensions,(function(e){var t=+e.replace("dim","");i.set(e,t)}))}(n,this),SZ(n,this)},getRawIndicesByActiveState:function(e){var t=this.coordinateSystem,n=this.getData(),i=[];return t.eachActiveState(n,(function(t,r){e===t&&i.push(n.getRawIndex(r))})),i},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}});var MZ=Ia;function IZ(e,t,n,i){for(var r,o=[],a=0;a<n.length;a++){var s=n[a],l=e.get(e.mapDimension(s),t);r=l,("category"===i.getAxis(s).type?null==r:null==r||isNaN(r))||o.push(i.dataToPoint(l,s))}return o}function AZ(e,t,n,i,r){var o=IZ(e,n,i,r),a=new MZ.Polyline({shape:{points:o},silent:!0,z2:10});return t.add(a),e.setItemGraphicEl(n,a),a}function TZ(e){var t=e.get("smooth",!0);return!0===t&&(t=.3),{lineStyle:e.getModel("lineStyle").getLineStyle(),smooth:null!=t?t:.3}}function CZ(e,t,n,i){var r=i.lineStyle;t.hasItemOption&&(r=t.getItemModel(n).getModel("lineStyle").getLineStyle());e.useStyle(r);var o=e.style;o.fill=null,o.stroke=t.getItemVisual(n,"color"),o.opacity=t.getItemVisual(n,"opacity"),i.smooth&&(e.shape.smooth=i.smooth)}pm.extend({type:"parallel",init:function(){this._dataGroup=new MZ.Group,this.group.add(this._dataGroup),this._data,this._initialized},render:function(e,t,n,i){var r=this._dataGroup,o=e.getData(),a=this._data,s=e.coordinateSystem,l=s.dimensions,u=TZ(e);if(o.diff(a).add((function(e){CZ(AZ(o,r,e,l,s),o,e,u)})).update((function(t,n){var r=a.getItemGraphicEl(n),c=IZ(o,t,l,s);o.setItemGraphicEl(t,r);var h=i&&!1===i.animation?null:e;MZ.updateProps(r,{shape:{points:c}},h,t),CZ(r,o,t,u)})).remove((function(e){var t=a.getItemGraphicEl(e);r.remove(t)})).execute(),!this._initialized){this._initialized=!0;var c=function(e,t,n){var i=e.model,r=e.getRect(),o=new MZ.Rect({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),a="horizontal"===i.get("layout")?"width":"height";return o.setShape(a,0),MZ.initProps(o,{shape:{width:r.width,height:r.height}},t,n),o}(s,e,(function(){setTimeout((function(){r.removeClipPath()}))}));r.setClipPath(c)}this._data=o},incrementalPrepareRender:function(e,t,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(e,t,n){for(var i=t.getData(),r=t.coordinateSystem,o=r.dimensions,a=TZ(t),s=e.start;s<e.end;s++){var l=AZ(i,this._dataGroup,s,o,r);l.incremental=!0,CZ(l,i,s,a)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});var DZ=["lineStyle","normal","opacity"],PZ={seriesType:"parallel",reset:function(e,t,n){var i=e.getModel("itemStyle"),r=e.getModel("lineStyle"),o=t.get("color"),a=r.get("color")||i.get("color")||o[e.seriesIndex%o.length],s=e.get("inactiveOpacity"),l=e.get("activeOpacity"),u=e.getModel("lineStyle").getLineStyle(),c=e.coordinateSystem,h=e.getData(),d={normal:u.opacity,active:l,inactive:s};return h.setVisual("color",a),{progress:function(e,t){c.eachActiveState(t,(function(e,n){var i=d[e];if("normal"===e&&t.hasItemOption){var r=t.getItemModel(n).get(DZ,!0);null!=r&&(i=r)}t.setItemVisual(n,"opacity",i)}),e.start,e.end)}}}};c.registerVisual(PZ);var LZ=Hg,kZ=kF,OZ=Ph.encodeHTML,NZ=xh,RZ=LZ.extend({type:"series.sankey",layoutInfo:null,levelModels:null,getInitialData:function(e,t){for(var n=e.edges||e.links,i=e.data||e.nodes,r=e.levels,o=this.levelModels={},a=0;a<r.length;a++)null!=r[a].depth&&r[a].depth>=0&&(o[r[a].depth]=new NZ(r[a],this,t));if(i&&n)return kZ(i,n,this,!0,(function(e,t){e.wrapMethod("getItemModel",(function(e,t){return e.customizeGetParent((function(e){var n=this.parentModel,i=n.getData().getItemLayout(t).depth;return n.levelModels[i]||this.parentModel})),e})),t.wrapMethod("getItemModel",(function(e,t){return e.customizeGetParent((function(e){var n=this.parentModel,i=n.getGraph().getEdgeByIndex(t).node1.getLayout().depth;return n.levelModels[i]||this.parentModel})),e}))})).data},setNodePosition:function(e,t){var n=this.option.data[e];n.localX=t[0],n.localY=t[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(e,t,n){if("edge"===n){var i=this.getDataParams(e,n),r=i.data,o=r.source+" -- "+r.target;return i.value&&(o+=" : "+i.value),OZ(o)}if("node"===n){var a=this.getGraph().getNodeByIndex(e).getLayout().value,s=this.getDataParams(e,n).data.name;if(a)o=s+" : "+a;return OZ(o)}return RZ.superCall(this,"formatTooltip",e,t)},optionUpdated:function(){var e=this.option;!0===e.focusNodeAdjacency&&(e.focusNodeAdjacency="allEdges")},getDataParams:function(e,t){var n=RZ.superCall(this,"getDataParams",e,t);if(null==n.value&&"node"===t){var i=this.getGraph().getNodeByIndex(e).getLayout().value;n.value=i}return n},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},levels:[],nodeAlign:"justify",itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},animationEasing:"linear",animationDuration:1e3}}),EZ=Ia,zZ=c,BZ=g,VZ=["itemStyle","opacity"],GZ=["emphasis","itemStyle","opacity"],FZ=["lineStyle","opacity"],HZ=["emphasis","lineStyle","opacity"];function WZ(e,t){return e.getVisual("opacity")||e.getModel().get(t)}function UZ(e,t,n){var i=e.getGraphicEl(),r=WZ(e,t);null!=n&&(null==r&&(r=1),r*=n),i.downplay&&i.downplay(),i.traverse((function(e){"group"!==e.type&&e.setStyle("opacity",r)}))}function jZ(e,t){var n=WZ(e,t),i=e.getGraphicEl();i.traverse((function(e){"group"!==e.type&&e.setStyle("opacity",n)})),i.highlight&&i.highlight()}var ZZ=EZ.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(e,t){var n=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),"vertical"===t.orient?(e.lineTo(t.x2+n,t.y2),e.bezierCurveTo(t.cpx2+n,t.cpy2,t.cpx1+n,t.cpy1,t.x1+n,t.y1)):(e.lineTo(t.x2,t.y2+n),e.bezierCurveTo(t.cpx2,t.cpy2+n,t.cpx1,t.cpy1+n,t.x1,t.y1+n)),e.closePath()},highlight:function(){this.trigger("emphasis")},downplay:function(){this.trigger("normal")}});zZ.extendChartView({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(e,t,n){var i=this,r=e.getGraph(),o=this.group,a=e.layoutInfo,s=a.width,l=a.height,u=e.getData(),c=e.getData("edge"),h=e.get("orient");this._model=e,o.removeAll(),o.attr("position",[a.x,a.y]),r.eachEdge((function(t){var n=new ZZ;n.dataIndex=t.dataIndex,n.seriesIndex=e.seriesIndex,n.dataType="edge";var i,r,a,u,d,f,p,g,m=t.getModel("lineStyle"),v=m.get("curveness"),y=t.node1.getLayout(),_=t.node1.getModel(),x=_.get("localX"),b=_.get("localY"),w=t.node2.getLayout(),S=t.node2.getModel(),M=S.get("localX"),I=S.get("localY"),A=t.getLayout();switch(n.shape.extent=Math.max(1,A.dy),n.shape.orient=h,"vertical"===h?(i=(null!=x?x*s:y.x)+A.sy,r=(null!=b?b*l:y.y)+y.dy,a=(null!=M?M*s:w.x)+A.ty,d=i,f=r*(1-v)+(u=null!=I?I*l:w.y)*v,p=a,g=r*v+u*(1-v)):(i=(null!=x?x*s:y.x)+y.dx,r=(null!=b?b*l:y.y)+A.sy,d=i*(1-v)+(a=null!=M?M*s:w.x)*v,f=r,p=i*v+a*(1-v),g=u=(null!=I?I*l:w.y)+A.ty),n.setShape({x1:i,y1:r,x2:a,y2:u,cpx1:d,cpy1:f,cpx2:p,cpy2:g}),n.setStyle(m.getItemStyle()),n.style.fill){case"source":n.style.fill=t.node1.getVisual("color");break;case"target":n.style.fill=t.node2.getVisual("color")}EZ.setHoverStyle(n,t.getModel("emphasis.lineStyle").getItemStyle()),o.add(n),c.setItemGraphicEl(t.dataIndex,n)})),r.eachNode((function(t){var n=t.getLayout(),i=t.getModel(),r=i.get("localX"),a=i.get("localY"),c=i.getModel("label"),h=i.getModel("emphasis.label"),d=new EZ.Rect({shape:{x:null!=r?r*s:n.x,y:null!=a?a*l:n.y,width:n.dx,height:n.dy},style:i.getModel("itemStyle").getItemStyle()}),f=t.getModel("emphasis.itemStyle").getItemStyle();EZ.setLabelStyle(d.style,f,c,h,{labelFetcher:e,labelDataIndex:t.dataIndex,defaultText:t.id,isRectText:!0}),d.setStyle("fill",t.getVisual("color")),EZ.setHoverStyle(d,f),o.add(d),u.setItemGraphicEl(t.dataIndex,d),d.dataType="node"})),u.eachItemGraphicEl((function(t,r){var o=u.getItemModel(r);o.get("draggable")&&(t.drift=function(t,o){i._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=o,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:u.getRawIndex(r),localX:this.shape.x/s,localY:this.shape.y/l})},t.ondragend=function(){i._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move"),t.highlight=function(){this.trigger("emphasis")},t.downplay=function(){this.trigger("normal")},t.focusNodeAdjHandler&&t.off("mouseover",t.focusNodeAdjHandler),t.unfocusNodeAdjHandler&&t.off("mouseout",t.unfocusNodeAdjHandler),o.get("focusNodeAdjacency")&&(t.on("mouseover",t.focusNodeAdjHandler=function(){i._focusAdjacencyDisabled||(i._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,dataIndex:t.dataIndex}))}),t.on("mouseout",t.unfocusNodeAdjHandler=function(){i._focusAdjacencyDisabled||i._dispatchUnfocus(n)}))})),c.eachItemGraphicEl((function(t,r){var o=c.getItemModel(r);t.focusNodeAdjHandler&&t.off("mouseover",t.focusNodeAdjHandler),t.unfocusNodeAdjHandler&&t.off("mouseout",t.unfocusNodeAdjHandler),o.get("focusNodeAdjacency")&&(t.on("mouseover",t.focusNodeAdjHandler=function(){i._focusAdjacencyDisabled||(i._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,edgeDataIndex:t.dataIndex}))}),t.on("mouseout",t.unfocusNodeAdjHandler=function(){i._focusAdjacencyDisabled||i._dispatchUnfocus(n)}))})),!this._data&&e.get("animation")&&o.setClipPath(function(e,t,n){var i=new EZ.Rect({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return EZ.initProps(i,{shape:{width:e.width+20}},t,n),i}(o.getBoundingRect(),e,(function(){o.removeClipPath()}))),this._data=e.getData()},dispose:function(){this._clearTimer()},_dispatchUnfocus:function(e){var t=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout((function(){t._unfocusDelayTimer=null,e.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t._model.id})}),500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(e,t,n,i){var r=e.getData(),o=r.graph,a=i.dataIndex,s=r.getItemModel(a),l=i.edgeDataIndex;if(null!=a||null!=l){var u=o.getNodeByIndex(a),c=o.getEdgeByIndex(l);if(o.eachNode((function(e){UZ(e,VZ,.1)})),o.eachEdge((function(e){UZ(e,FZ,.1)})),u){jZ(u,GZ);var h=s.get("focusNodeAdjacency");"outEdges"===h?BZ.each(u.outEdges,(function(e){e.dataIndex<0||(jZ(e,HZ),jZ(e.node2,GZ))})):"inEdges"===h?BZ.each(u.inEdges,(function(e){e.dataIndex<0||(jZ(e,HZ),jZ(e.node1,GZ))})):"allEdges"===h&&BZ.each(u.edges,(function(e){e.dataIndex<0||(jZ(e,HZ),e.node1!==u&&jZ(e.node1,GZ),e.node2!==u&&jZ(e.node2,GZ))}))}c&&(jZ(c,HZ),jZ(c.node1,GZ),jZ(c.node2,GZ))}},unfocusNodeAdjacency:function(e,t,n,i){var r=e.getGraph();r.eachNode((function(e){UZ(e,VZ)})),r.eachEdge((function(e){UZ(e,FZ)}))}}),c.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},(function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])}))}));var YZ=Ih,XZ=g,qZ=na.groupData;function KZ(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=t.depth&&t.depth>=0}function JZ(e,t,n,i,r){var o="vertical"===r?"x":"y";XZ.each(e,(function(e){var a,s,l;e.sort((function(e,t){return e.getLayout()[o]-t.getLayout()[o]}));for(var u=0,c=e.length,h="vertical"===r?"dx":"dy",d=0;d<c;d++)(l=u-(s=e[d]).getLayout()[o])>0&&(a=s.getLayout()[o]+l,"vertical"===r?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),u=s.getLayout()[o]+s.getLayout()[h]+t;if((l=u-t-("vertical"===r?i:n))>0)for(a=s.getLayout()[o]-l,"vertical"===r?s.setLayout({x:a},!0):s.setLayout({y:a},!0),u=a,d=c-2;d>=0;--d)(l=(s=e[d]).getLayout()[o]+s.getLayout()[h]+t-u)>0&&(a=s.getLayout()[o]-l,"vertical"===r?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),u=s.getLayout()[o]}))}function QZ(e,t,n){XZ.each(e.slice().reverse(),(function(e){XZ.each(e,(function(e){if(e.outEdges.length){var i=oY(e.outEdges,$Z,n)/oY(e.outEdges,rY,n);if(isNaN(i)){var r=e.outEdges.length;i=r?oY(e.outEdges,eY,n)/r:0}if("vertical"===n){var o=e.getLayout().x+(i-iY(e,n))*t;e.setLayout({x:o},!0)}else{var a=e.getLayout().y+(i-iY(e,n))*t;e.setLayout({y:a},!0)}}}))}))}function $Z(e,t){return iY(e.node2,t)*e.getValue()}function eY(e,t){return iY(e.node2,t)}function tY(e,t){return iY(e.node1,t)*e.getValue()}function nY(e,t){return iY(e.node1,t)}function iY(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function rY(e){return e.getValue()}function oY(e,t,n){for(var i=0,r=e.length,o=-1;++o<r;){var a=+t.call(e,e[o],n);isNaN(a)||(i+=a)}return i}function aY(e,t,n){XZ.each(e,(function(e){XZ.each(e,(function(e){if(e.inEdges.length){var i=oY(e.inEdges,tY,n)/oY(e.inEdges,rY,n);if(isNaN(i)){var r=e.inEdges.length;i=r?oY(e.inEdges,nY,n)/r:0}if("vertical"===n){var o=e.getLayout().x+(i-iY(e,n))*t;e.setLayout({x:o},!0)}else{var a=e.getLayout().y+(i-iY(e,n))*t;e.setLayout({y:a},!0)}}}))}))}var sY=az,lY=g;var uY=c,cY=function(e,t,n){e.eachSeriesByType("sankey",(function(e){var n=e.get("nodeWidth"),i=e.get("nodeGap"),r=function(e,t){return YZ.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=r;var o=r.width,a=r.height,s=e.getGraph(),l=s.nodes,u=s.edges;!function(e){XZ.each(e,(function(e){var t=oY(e.outEdges,rY),n=oY(e.inEdges,rY),i=e.getValue()||0,r=Math.max(t,n,i);e.setLayout({value:r},!0)}))}(l),function(e,t,n,i,r,o,a,s,l){(function(e,t,n,i,r,o,a){for(var s=[],l=[],u=[],c=[],h=0,d=0;d<t.length;d++)s[d]=1;for(d=0;d<e.length;d++)l[d]=e[d].inEdges.length,0===l[d]&&u.push(e[d]);var f=-1;for(;u.length;){for(var p=0;p<u.length;p++){var g=u[p],m=g.hostGraph.data.getRawDataItem(g.dataIndex),v=null!=m.depth&&m.depth>=0;v&&m.depth>f&&(f=m.depth),g.setLayout({depth:v?m.depth:h},!0),"vertical"===o?g.setLayout({dy:n},!0):g.setLayout({dx:n},!0);for(var y=0;y<g.outEdges.length;y++){var _=g.outEdges[y];s[t.indexOf(_)]=0;var x=_.node2;0==--l[e.indexOf(x)]&&c.indexOf(x)<0&&c.push(x)}}++h,u=c,c=[]}for(d=0;d<s.length;d++)if(1===s[d])throw new Error("Sankey is a DAG, the original data has cycle!");var b=f>h-1?f:h-1;a&&"left"!==a&&function(e,t,n,i){if("right"===t){for(var r=[],o=e,a=0;o.length;){for(var s=0;s<o.length;s++){var l=o[s];l.setLayout({skNodeHeight:a},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];r.indexOf(c.node1)<0&&r.push(c.node1)}}o=r,r=[],++a}XZ.each(e,(function(e){KZ(e)||e.setLayout({depth:Math.max(0,i-e.getLayout().skNodeHeight)},!0)}))}else"justify"===t&&function(e,t){XZ.each(e,(function(e){KZ(e)||e.outEdges.length||e.setLayout({depth:t},!0)}))}(e,i)}(e,a,0,b);!function(e,t,n){XZ.each(e,(function(e){var i=e.getLayout().depth*t;"vertical"===n?e.setLayout({y:i},!0):e.setLayout({x:i},!0)}))}(e,"vertical"===o?(r-n)/b:(i-n)/b,o)})(e,t,n,r,o,s,l),function(e,t,n,i,r,o,a){var s=function(e,t){var n=[],i="vertical"===t?"y":"x",r=qZ(e,(function(e){return e.getLayout()[i]}));return r.keys.sort((function(e,t){return e-t})),XZ.each(r.keys,(function(e){n.push(r.buckets.get(e))})),n}(e,a);(function(e,t,n,i,r,o){var a=1/0;XZ.each(e,(function(e){var t=e.length,s=0;XZ.each(e,(function(e){s+=e.getLayout().value}));var l="vertical"===o?(i-(t-1)*r)/s:(n-(t-1)*r)/s;l<a&&(a=l)})),XZ.each(e,(function(e){XZ.each(e,(function(e,t){var n=e.getLayout().value*a;"vertical"===o?(e.setLayout({x:t},!0),e.setLayout({dx:n},!0)):(e.setLayout({y:t},!0),e.setLayout({dy:n},!0))}))})),XZ.each(t,(function(e){var t=+e.getValue()*a;e.setLayout({dy:t},!0)}))})(s,t,n,i,r,a),JZ(s,r,n,i,a);for(var l=1;o>0;o--)QZ(s,l*=.99,a),JZ(s,r,n,i,a),aY(s,l,a),JZ(s,r,n,i,a)}(e,t,o,r,i,a,s),function(e,t){var n="vertical"===t?"x":"y";XZ.each(e,(function(e){e.outEdges.sort((function(e,t){return e.node2.getLayout()[n]-t.node2.getLayout()[n]})),e.inEdges.sort((function(e,t){return e.node1.getLayout()[n]-t.node1.getLayout()[n]}))})),XZ.each(e,(function(e){var t=0,n=0;XZ.each(e.outEdges,(function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy})),XZ.each(e.inEdges,(function(e){e.setLayout({ty:n},!0),n+=e.getLayout().dy}))}))}(e,s)}(l,u,n,i,o,a,0!==XZ.filter(l,(function(e){return 0===e.getLayout().value})).length?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))}))},hY=function(e,t){e.eachSeriesByType("sankey",(function(e){var t=e.getGraph().nodes;if(t.length){var n=1/0,i=-1/0;lY.each(t,(function(e){var t=e.getLayout().value;t<n&&(n=t),t>i&&(i=t)})),lY.each(t,(function(t){var r=new sY({type:"color",mappingMethod:"linear",dataExtent:[n,i],visual:e.get("color")}).mapValueToVisual(t.getLayout().value),o=t.getModel().get("itemStyle.color");null!=o?t.setVisual("color",o):t.setVisual("color",r)}))}}))};uY.registerLayout(cY),uY.registerVisual(hY);var dY={},fY=ZC,pY=g,gY=my.getDimensionTypeByAxis,mY=bd.makeSeriesEncodeForAxisCoordSys,vY={_baseAxisDim:null,getInitialData:function(e,t){var n,i,r=t.getComponent("xAxis",this.get("xAxisIndex")),o=t.getComponent("yAxis",this.get("yAxisIndex")),a=r.get("type"),s=o.get("type");"category"===a?(e.layout="horizontal",n=r.getOrdinalMeta(),i=!0):"category"===s?(e.layout="vertical",n=o.getOrdinalMeta(),i=!0):e.layout=e.layout||"horizontal";var l=["x","y"],u="horizontal"===e.layout?0:1,c=this._baseAxisDim=l[u],h=l[1-u],d=[r,o],f=d[u].get("type"),p=d[1-u].get("type"),g=e.data;if(g&&i){var m=[];pY.each(g,(function(e,t){var n;e.value&&pY.isArray(e.value)?(n=e.value.slice(),e.value.unshift(t)):pY.isArray(e)?(n=e.slice(),e.unshift(t)):n=e,m.push(n)})),e.data=m}var v=this.defaultValueDimensions,y=[{name:c,type:gY(f),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:gY(p),dimsDef:v.slice()}];return fY(this,{coordDimensions:y,dimensionsCount:v.length+1,encodeDefaulter:pY.curry(mY,y,this)})},getBaseAxis:function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis}};dY.seriesModelMixin=vY;var yY=g,_Y=Hg,xY=dY.seriesModelMixin,bY=_Y.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});yY.mixin(bY,xY,!0);var wY=g,SY=Ia,MY=nl,IY=["itemStyle"],AY=["emphasis","itemStyle"];pm.extend({type:"boxplot",render:function(e,t,n){var i=e.getData(),r=this.group,o=this._data;this._data||r.removeAll();var a="horizontal"===e.get("layout")?1:0;i.diff(o).add((function(e){if(i.hasValue(e)){var t=CY(i.getItemLayout(e),i,e,a,!0);i.setItemGraphicEl(e,t),r.add(t)}})).update((function(e,t){var n=o.getItemGraphicEl(t);if(i.hasValue(e)){var s=i.getItemLayout(e);n?DY(s,n,i,e):n=CY(s,i,e,a),r.add(n),i.setItemGraphicEl(e,n)}else r.remove(n)})).remove((function(e){var t=o.getItemGraphicEl(e);t&&r.remove(t)})).execute(),this._data=i},remove:function(e){var t=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl((function(e){e&&t.remove(e)}))},dispose:wY.noop});var TY=MY.extend({type:"boxplotBoxPath",shape:{},buildPath:function(e,t){var n=t.points,i=0;for(e.moveTo(n[i][0],n[i][1]),i++;i<4;i++)e.lineTo(n[i][0],n[i][1]);for(e.closePath();i<n.length;i++)e.moveTo(n[i][0],n[i][1]),i++,e.lineTo(n[i][0],n[i][1])}});function CY(e,t,n,i,r){var o=e.ends,a=new TY({shape:{points:r?PY(o,i,e):o}});return DY(e,a,t,n,r),a}function DY(e,t,n,i,r){var o=n.hostModel;(0,SY[r?"initProps":"updateProps"])(t,{shape:{points:e.ends}},o,i);var a=n.getItemModel(i),s=a.getModel(IY),l=n.getItemVisual(i,"color"),u=s.getItemStyle(["borderColor"]);u.stroke=l,u.strokeNoScale=!0,t.useStyle(u),t.z2=100;var c=a.getModel(AY).getItemStyle();SY.setHoverStyle(t,c)}function PY(e,t,n){return wY.map(e,(function(e){return(e=e.slice())[t]=n.initBaseline,e}))}var LY=["itemStyle","borderColor"];var kY=function(e,t){var n=e.get("color");e.eachRawSeriesByType("boxplot",(function(t){var i=n[t.seriesIndex%n.length],r=t.getData();r.setVisual({legendSymbol:"roundRect",color:t.get(LY)||i}),e.isSeriesFiltered(t)||r.each((function(e){var t=r.getItemModel(e);r.setItemVisual(e,{color:t.get(LY,!0)})}))}))},OY=g,NY=Ah.parsePercent,RY=OY.each;var EY=c,zY=kY,BY=function(e){var t=function(e){var t=[],n=[];return e.eachSeriesByType("boxplot",(function(e){var i=e.getBaseAxis(),r=OY.indexOf(n,i);r<0&&(r=n.length,n[r]=i,t[r]={axis:i,seriesModels:[]}),t[r].seriesModels.push(e)})),t}(e);RY(t,(function(e){var t=e.seriesModels;t.length&&(!function(e){var t,n,i=e.axis,r=e.seriesModels,o=r.length,a=e.boxWidthList=[],s=e.boxOffsetList=[],l=[];if("category"===i.type)n=i.getBandWidth();else{var u=0;RY(r,(function(e){u=Math.max(u,e.getData().count())})),t=i.getExtent(),Math.abs(t[1]-t[0])}RY(r,(function(e){var t=e.get("boxWidth");OY.isArray(t)||(t=[t,t]),l.push([NY(t[0],n)||0,NY(t[1],n)||0])}));var c=.8*n-2,h=c/o*.3,d=(c-h*(o-1))/o,f=d/2-c/2;RY(r,(function(e,t){s.push(f),f+=h+d,a.push(Math.min(Math.max(d,l[t][0]),l[t][1]))}))}(e),RY(t,(function(t,n){!function(e,t,n){var i=e.coordinateSystem,r=e.getData(),o=n/2,a="horizontal"===e.get("layout")?0:1,s=1-a,l=["x","y"],u=r.mapDimension(l[a]),c=r.mapDimension(l[s],!0);if(null==u||c.length<5)return;for(var h=0;h<r.count();h++){var d=r.get(u,h),f=_(d,c[2],h),p=_(d,c[0],h),g=_(d,c[1],h),m=_(d,c[3],h),v=_(d,c[4],h),y=[];x(y,g,0),x(y,m,1),y.push(p,g,v,m),b(y,p),b(y,v),b(y,f),r.setItemLayout(h,{initBaseline:f[s],ends:y})}function _(e,n,o){var l,u=r.get(n,o),c=[];return c[a]=e,c[s]=u,isNaN(e)||isNaN(u)?l=[NaN,NaN]:(l=i.dataToPoint(c))[a]+=t,l}function x(e,t,n){var i=t.slice(),r=t.slice();i[a]+=o,r[a]-=o,n?e.push(i,r):e.push(r,i)}function b(e,t){var n=t.slice(),i=t.slice();n[a]-=o,i[a]+=o,e.push(n,i)}}(t,e.boxOffsetList[n],e.boxWidthList[n])})))}))};EY.registerVisual(zY),EY.registerLayout(BY);var VY=g,GY=Hg,FY=dY.seriesModelMixin,HY=GY.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,clip:!0,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(e,t,n){var i=t.getItemLayout(e);return i&&n.rect(i.brushRect)}});VY.mixin(HY,FY,!0);var WY=g,UY=pm,jY=Ia,ZY=nl,YY=xI.createClipPath,XY=["itemStyle"],qY=["emphasis","itemStyle"],KY=["color","color0","borderColor","borderColor0"];UY.extend({type:"candlestick",render:function(e,t,n){this.group.removeClipPath(),this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},incrementalPrepareRender:function(e,t,n){this._clear(),this._updateDrawMode(e)},incrementalRender:function(e,t,n,i){this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)},_updateDrawMode:function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(e){var t=e.getData(),n=this._data,i=this.group,r=t.getLayout("isSimpleBox"),o=e.get("clip",!0),a=e.coordinateSystem,s=a.getArea&&a.getArea();this._data||i.removeAll(),t.diff(n).add((function(n){if(t.hasValue(n)){var a,l=t.getItemLayout(n);if(o&&$Y(s,l))return;a=QY(l,n,!0),jY.initProps(a,{shape:{points:l.ends}},e,n),eX(a,t,n,r),i.add(a),t.setItemGraphicEl(n,a)}})).update((function(a,l){var u=n.getItemGraphicEl(l);if(t.hasValue(a)){var c=t.getItemLayout(a);o&&$Y(s,c)?i.remove(u):(u?jY.updateProps(u,{shape:{points:c.ends}},e,a):u=QY(c),eX(u,t,a,r),i.add(u),t.setItemGraphicEl(a,u))}else i.remove(u)})).remove((function(e){var t=n.getItemGraphicEl(e);t&&i.remove(t)})).execute(),this._data=t},_renderLarge:function(e){this._clear(),iX(e,this.group);var t=e.get("clip",!0)?YY(e.coordinateSystem,!1,e):null;t?this.group.setClipPath(t):this.group.removeClipPath()},_incrementalRenderNormal:function(e,t){for(var n,i=t.getData(),r=i.getLayout("isSimpleBox");null!=(n=e.next());){var o;eX(o=QY(i.getItemLayout(n)),i,n,r),o.incremental=!0,this.group.add(o)}},_incrementalRenderLarge:function(e,t){iX(t,this.group,!0)},remove:function(e){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:WY.noop});var JY=ZY.extend({type:"normalCandlestickBox",shape:{},buildPath:function(e,t){var n=t.points;this.__simpleBox?(e.moveTo(n[4][0],n[4][1]),e.lineTo(n[6][0],n[6][1])):(e.moveTo(n[0][0],n[0][1]),e.lineTo(n[1][0],n[1][1]),e.lineTo(n[2][0],n[2][1]),e.lineTo(n[3][0],n[3][1]),e.closePath(),e.moveTo(n[4][0],n[4][1]),e.lineTo(n[5][0],n[5][1]),e.moveTo(n[6][0],n[6][1]),e.lineTo(n[7][0],n[7][1]))}});function QY(e,t,n){var i=e.ends;return new JY({shape:{points:n?tX(i,e):i},z2:100})}function $Y(e,t){for(var n=!0,i=0;i<t.ends.length;i++)if(e.contain(t.ends[i][0],t.ends[i][1])){n=!1;break}return n}function eX(e,t,n,i){var r=t.getItemModel(n),o=r.getModel(XY),a=t.getItemVisual(n,"color"),s=t.getItemVisual(n,"borderColor")||a,l=o.getItemStyle(KY);e.useStyle(l),e.style.strokeNoScale=!0,e.style.fill=a,e.style.stroke=s,e.__simpleBox=i;var u=r.getModel(qY).getItemStyle();jY.setHoverStyle(e,u)}function tX(e,t){return WY.map(e,(function(e){return(e=e.slice())[1]=t.initBaseline,e}))}var nX=ZY.extend({type:"largeCandlestickBox",shape:{},buildPath:function(e,t){for(var n=t.points,i=0;i<n.length;)if(this.__sign===n[i++]){var r=n[i++];e.moveTo(r,n[i++]),e.lineTo(r,n[i++])}else i+=3}});function iX(e,t,n){var i=e.getData(),r=i.getLayout("largePoints"),o=new nX({shape:{points:r},__sign:1});t.add(o);var a=new nX({shape:{points:r},__sign:-1});t.add(a),rX(1,o,e,i),rX(-1,a,e,i),n&&(o.incremental=!0,a.incremental=!0)}function rX(e,t,n,i){var r=e>0?"P":"N",o=i.getVisual("borderColor"+r)||i.getVisual("color"+r),a=n.getModel(XY).getItemStyle(KY);t.useStyle(a),t.style.fill=null,t.style.stroke=o}var oX=g;var aX=function(e){e&&oX.isArray(e.series)&&oX.each(e.series,(function(e){oX.isObject(e)&&"k"===e.type&&(e.type="candlestick")}))},sX=["itemStyle","borderColor"],lX=["itemStyle","borderColor0"],uX=["itemStyle","color"],cX=["itemStyle","color0"],hX={seriesType:"candlestick",plan:Kg(),performRawSeries:!0,reset:function(e,t){if(e.getData().setVisual({legendSymbol:"roundRect",colorP:n(1,e),colorN:n(-1,e),borderColorP:i(1,e),borderColorN:i(-1,e)}),!t.isSeriesFiltered(e))return!e.pipelineContext.large&&{progress:function(e,t){var r;for(;null!=(r=e.next());){var o=t.getItemModel(r),a=t.getItemLayout(r).sign;t.setItemVisual(r,{color:n(a,o),borderColor:i(a,o)})}}};function n(e,t){return t.get(e>0?uX:cX)}function i(e,t){return t.get(e>0?sX:lX)}}},dX=Ia.subPixelOptimize,fX=Kg,pX=Ah.parsePercent,gX=g.retrieve2,mX="undefined"!=typeof Float32Array?Float32Array:Array,vX={seriesType:"candlestick",plan:fX(),reset:function(e){var t=e.coordinateSystem,n=e.getData(),i=function(e,t){var n,i=e.getBaseAxis(),r="category"===i.type?i.getBandWidth():(n=i.getExtent(),Math.abs(n[1]-n[0])/t.count()),o=pX(gX(e.get("barMaxWidth"),r),r),a=pX(gX(e.get("barMinWidth"),1),r),s=e.get("barWidth");return null!=s?pX(s,r):Math.max(Math.min(r/2,o),a)}(e,n),r=["x","y"],o=n.mapDimension(r[0]),a=n.mapDimension(r[1],!0),s=a[0],l=a[1],u=a[2],c=a[3];if(n.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(null==o||a.length<4))return{progress:e.pipelineContext.large?function(e,n){var i,r,a=new mX(4*e.count),h=0,d=[],f=[];for(;null!=(r=e.next());){var p=n.get(o,r),g=n.get(s,r),m=n.get(l,r),v=n.get(u,r),y=n.get(c,r);isNaN(p)||isNaN(v)||isNaN(y)?(a[h++]=NaN,h+=3):(a[h++]=yX(n,r,g,m,l),d[0]=p,d[1]=v,i=t.dataToPoint(d,null,f),a[h++]=i?i[0]:NaN,a[h++]=i?i[1]:NaN,d[1]=y,i=t.dataToPoint(d,null,f),a[h++]=i?i[1]:NaN)}n.setLayout("largePoints",a)}:function(e,n){var r;for(;null!=(r=e.next());){var a=n.get(o,r),h=n.get(s,r),d=n.get(l,r),f=n.get(u,r),p=n.get(c,r),g=Math.min(h,d),m=Math.max(h,d),v=w(g,a),y=w(m,a),_=w(f,a),x=w(p,a),b=[];S(b,y,0),S(b,v,1),b.push(I(x),I(y),I(_),I(v)),n.setItemLayout(r,{sign:yX(n,r,h,d,l),initBaseline:h>d?y[1]:v[1],ends:b,brushRect:M(f,p,a)})}function w(e,n){var i=[];return i[0]=n,i[1]=e,isNaN(n)||isNaN(e)?[NaN,NaN]:t.dataToPoint(i)}function S(e,t,n){var r=t.slice(),o=t.slice();r[0]=dX(r[0]+i/2,1,!1),o[0]=dX(o[0]-i/2,1,!0),n?e.push(r,o):e.push(o,r)}function M(e,t,n){var r=w(e,n),o=w(t,n);return r[0]-=i/2,o[0]-=i/2,{x:r[0],y:r[1],width:i,height:o[1]-r[1]}}function I(e){return e[0]=dX(e[0],1),e}}}}};function yX(e,t,n,i,r){return n>i?-1:n<i?1:t>0?e.get(r,t-1)<=i?1:-1:1}var _X=c,xX=aX,bX=hX,wX=vX;_X.registerPreprocessor(xX),_X.registerVisual(bX),_X.registerLayout(wX);var SX=Hg,MX=t_,IX=g,AX=IX.concatArray,TX=IX.mergeAll,CX=IX.map,DX=Ph.encodeHTML,PX="undefined"==typeof Uint32Array?Array:Uint32Array,LX="undefined"==typeof Float64Array?Array:Float64Array;function kX(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=CX(t,(function(e){var t={coords:[e[0].coord,e[1].coord]};return e[0].name&&(t.fromName=e[0].name),e[1].name&&(t.toName=e[1].name),TX([t,e[0],e[1]])})))}var OX=SX.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(e){e.data=e.data||[],kX(e);var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count)),OX.superApply(this,"init",arguments)},mergeOption:function(e){if(kX(e),e.data){var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count))}OX.superApply(this,"mergeOption",arguments)},appendData:function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=AX(this._flatCoords,t.flatCoords),this._flatCoordsOffset=AX(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},_getCoordsFromItemModel:function(e){var t=this.getData().getItemModel(e);return t.option instanceof Array?t.option:t.getShallow("coords")},getLineCoordsCount:function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},getLineCoords:function(e,t){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*e],i=this._flatCoordsOffset[2*e+1],r=0;r<i;r++)t[r]=t[r]||[],t[r][0]=this._flatCoords[n+2*r],t[r][1]=this._flatCoords[n+2*r+1];return i}var o=this._getCoordsFromItemModel(e);for(r=0;r<o.length;r++)t[r]=t[r]||[],t[r][0]=o[r][0],t[r][1]=o[r][1];return o.length},_processFlatCoordsArray:function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),"number"==typeof e[0]){for(var n=e.length,i=new PX(n),r=new LX(n),o=0,a=0,s=0,l=0;l<n;){s++;var u=e[l++];i[a++]=o+t,i[a++]=u;for(var c=0;c<u;c++){var h=e[l++],d=e[l++];r[o++]=h,r[o++]=d}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,a),flatCoords:r,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},getInitialData:function(e,t){var n=new MX(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],(function(e,t,i,r){if(e instanceof Array)return NaN;n.hasItemOption=!0;var o=e.value;return null!=o?o instanceof Array?o[r]:o:void 0})),n},formatTooltip:function(e){var t=this.getData().getItemModel(e),n=t.get("name");if(n)return n;var i=t.get("fromName"),r=t.get("toName"),o=[];return null!=i&&o.push(i),null!=r&&o.push(r),DX(o.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),NX=Ia,RX=mH,EX=g,zX=Tb.createSymbol,BX=V,VX=Ta;function GX(e,t,n){NX.Group.call(this),this.add(this.createLine(e,t,n)),this._updateEffectSymbol(e,t)}var FX=GX.prototype;FX.createLine=function(e,t,n){return new RX(e,t,n)},FX._updateEffectSymbol=function(e,t){var n=e.getItemModel(t).getModel("effect"),i=n.get("symbolSize"),r=n.get("symbol");EX.isArray(i)||(i=[i,i]);var o=n.get("color")||e.getItemVisual(t,"color"),a=this.childAt(1);this._symbolType!==r&&(this.remove(a),(a=zX(r,-.5,-.5,1,1,o)).z2=100,a.culling=!0,this.add(a)),a&&(a.setStyle("shadowColor",o),a.setStyle(n.getItemStyle(["color"])),a.attr("scale",i),a.setColor(o),a.attr("scale",i),this._symbolType=r,this._symbolScale=i,this._updateEffectAnimation(e,n,t))},FX._updateEffectAnimation=function(e,t,n){var i=this.childAt(1);if(i){var r=this,o=e.getItemLayout(n),a=1e3*t.get("period"),s=t.get("loop"),l=t.get("constantSpeed"),u=EX.retrieve(t.get("delay"),(function(t){return t/e.count()*a/3})),c="function"==typeof u;if(i.ignore=!0,this.updateAnimationPoints(i,o),l>0&&(a=this.getLineLength(i)/l*1e3),a!==this._period||s!==this._loop){i.stopAnimation();var h=u;c&&(h=u(n)),i.__t>0&&(h=-a*i.__t),i.__t=0;var d=i.animate("",s).when(a,{__t:1}).delay(h).during((function(){r.updateSymbolPosition(i)}));s||d.done((function(){r.remove(i)})),d.start()}this._period=a,this._loop=s}},FX.getLineLength=function(e){return BX.dist(e.__p1,e.__cp1)+BX.dist(e.__cp1,e.__p2)},FX.updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},FX.updateData=function(e,t,n){this.childAt(0).updateData(e,t,n),this._updateEffectSymbol(e,t)},FX.updateSymbolPosition=function(e){var t=e.__p1,n=e.__p2,i=e.__cp1,r=e.__t,o=e.position,a=[o[0],o[1]],s=VX.quadraticAt,l=VX.quadraticDerivativeAt;o[0]=s(t[0],i[0],n[0],r),o[1]=s(t[1],i[1],n[1],r);var u=l(t[0],i[0],n[0],r),c=l(t[1],i[1],n[1],r);if(e.rotation=-Math.atan2(c,u)-Math.PI/2,"line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)if(void 0!==e.__lastT&&e.__lastT<e.__t){var h=1.05*BX.dist(a,o);e.attr("scale",[e.scale[0],h]),1===r&&(o[0]=a[0]+(o[0]-a[0])/2,o[1]=a[1]+(o[1]-a[1])/2)}else if(1===e.__lastT){h=2*BX.dist(t,o);e.attr("scale",[e.scale[0],h])}else e.attr("scale",this._symbolScale);e.__lastT=e.__t,e.ignore=!1},FX.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var n=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,n,t)},EX.inherits(GX,NX.Group);var HX=GX,WX=Ia,UX=g;function jX(e,t,n){WX.Group.call(this),this._createPolyline(e,t,n)}var ZX=jX.prototype;ZX._createPolyline=function(e,t,n){var i=e.getItemLayout(t),r=new WX.Polyline({shape:{points:i}});this.add(r),this._updateCommonStl(e,t,n)},ZX.updateData=function(e,t,n){var i=e.hostModel,r=this.childAt(0),o={shape:{points:e.getItemLayout(t)}};WX.updateProps(r,o,i,t),this._updateCommonStl(e,t,n)},ZX._updateCommonStl=function(e,t,n){var i=this.childAt(0),r=e.getItemModel(t),o=e.getItemVisual(t,"color"),a=n&&n.lineStyle,s=n&&n.hoverLineStyle;n&&!e.hasItemOption||(a=r.getModel("lineStyle").getLineStyle(),s=r.getModel("emphasis.lineStyle").getLineStyle()),i.useStyle(UX.defaults({strokeNoScale:!0,fill:"none",stroke:o},a)),i.hoverStyle=s,WX.setHoverStyle(this)},ZX.updateLayout=function(e,t){this.childAt(0).setShape("points",e.getItemLayout(t))},UX.inherits(jX,WX.Group);var YX=jX,XX=YX,qX=g,KX=HX,JX=V;function QX(e,t,n){KX.call(this,e,t,n),this._lastFrame=0,this._lastFramePercent=0}var $X=QX.prototype;$X.createLine=function(e,t,n){return new XX(e,t,n)},$X.updateAnimationPoints=function(e,t){this._points=t;for(var n=[0],i=0,r=1;r<t.length;r++){var o=t[r-1],a=t[r];i+=JX.dist(o,a),n.push(i)}if(0!==i){for(r=0;r<n.length;r++)n[r]/=i;this._offsets=n,this._length=i}},$X.getLineLength=function(e){return this._length},$X.updateSymbolPosition=function(e){var t=e.__t,n=this._points,i=this._offsets,r=n.length;if(i){var o=this._lastFrame;if(t<this._lastFramePercent){for(a=Math.min(o+1,r-1);a>=0&&!(i[a]<=t);a--);a=Math.min(a,r-2)}else{for(var a=o;a<r&&!(i[a]>t);a++);a=Math.min(a-1,r-2)}JX.lerp(e.position,n[a],n[a+1],(t-i[a])/(i[a+1]-i[a]));var s=n[a+1][0]-n[a][0],l=n[a+1][1]-n[a][1];e.rotation=-Math.atan2(l,s)-Math.PI/2,this._lastFrame=a,this._lastFramePercent=t,e.ignore=!1}},qX.inherits(QX,KX);var eq=QX,tq=Ia,nq=Uu,iq=bs,rq=Ms,oq=tq.extendShape({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(e,t){var n=t.segs,i=t.curveness;if(t.polyline)for(var r=0;r<n.length;){var o=n[r++];if(o>0){e.moveTo(n[r++],n[r++]);for(var a=1;a<o;a++)e.lineTo(n[r++],n[r++])}}else for(r=0;r<n.length;){var s=n[r++],l=n[r++],u=n[r++],c=n[r++];if(e.moveTo(s,l),i>0){var h=(s+u)/2-(l-c)*i,d=(l+c)/2-(u-s)*i;e.quadraticCurveTo(h,d,u,c)}else e.lineTo(u,c)}},findDataIndex:function(e,t){var n=this.shape,i=n.segs,r=n.curveness;if(n.polyline)for(var o=0,a=0;a<i.length;){var s=i[a++];if(s>0)for(var l=i[a++],u=i[a++],c=1;c<s;c++){var h=i[a++],d=i[a++];if(iq.containStroke(l,u,h,d))return o}o++}else for(o=0,a=0;a<i.length;){l=i[a++],u=i[a++],h=i[a++],d=i[a++];if(r>0){var f=(l+h)/2-(u-d)*r,p=(u+d)/2-(h-l)*r;if(rq.containStroke(l,u,f,p,h,d))return o}else if(iq.containStroke(l,u,h,d))return o;o++}return-1}});function aq(){this.group=new tq.Group}var sq=aq.prototype;sq.isPersistent=function(){return!this._incremental},sq.updateData=function(e){this.group.removeAll();var t=new oq({rectHover:!0,cursor:"default"});t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e),this.group.add(t),this._incremental=null},sq.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),e.count()>5e5?(this._incremental||(this._incremental=new nq({silent:!0})),this.group.add(this._incremental)):this._incremental=null},sq.incrementalUpdate=function(e,t){var n=new oq;n.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(n,t,!!this._incremental),this._incremental?this._incremental.addDisplayable(n,!0):(n.rectHover=!0,n.cursor="default",n.__startIndex=e.start,this.group.add(n))},sq.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},sq._setCommon=function(e,t,n){var i=t.hostModel;e.setShape({polyline:i.get("polyline"),curveness:i.get("lineStyle.curveness")}),e.useStyle(i.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var r=t.getVisual("color");r&&e.setStyle("stroke",r),e.setStyle("fill"),n||(e.seriesIndex=i.seriesIndex,e.on("mousemove",(function(t){e.dataIndex=null;var n=e.findDataIndex(t.offsetX,t.offsetY);n>0&&(e.dataIndex=n+e.__startIndex)})))},sq._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var lq=aq,uq={seriesType:"lines",plan:Kg(),reset:function(e){var t=e.coordinateSystem,n=e.get("polyline"),i=e.pipelineContext.large;return{progress:function(r,o){var a=[];if(i){var s,l=r.end-r.start;if(n){for(var u=0,c=r.start;c<r.end;c++)u+=e.getLineCoordsCount(c);s=new Float32Array(l+2*u)}else s=new Float32Array(4*l);var h=0,d=[];for(c=r.start;c<r.end;c++){var f=e.getLineCoords(c,a);n&&(s[h++]=f);for(var p=0;p<f;p++)d=t.dataToPoint(a[p],!1,d),s[h++]=d[0],s[h++]=d[1]}o.setLayout("linesPoints",s)}else for(c=r.start;c<r.end;c++){var g=o.getItemModel(c),m=(f=e.getLineCoords(c,a),[]);if(n)for(var v=0;v<f;v++)m.push(t.dataToPoint(a[v]));else{m[0]=t.dataToPoint(a[0]),m[1]=t.dataToPoint(a[1]);var y=g.get("lineStyle.curveness");+y&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*y,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*y])}o.setItemLayout(c,m)}}}}},cq=c,hq=MH,dq=HX,fq=mH,pq=YX,gq=eq,mq=lq,vq=uq,yq=xI.createClipPath;function _q(e){return e instanceof Array||(e=[e,e]),e}cq.extendChartView({type:"lines",init:function(){},render:function(e,t,n){var i=e.getData(),r=this._updateLineDraw(i,e),o=e.get("zlevel"),a=e.get("effect.trailLength"),s=n.getZr(),l="svg"===s.painter.getType();l||s.painter.getLayer(o).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&a&&(l||s.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(a/10+.9,1),0)})),r.updateData(i);var u=e.get("clip",!0)&&yq(e.coordinateSystem,!1,e);u?this.group.setClipPath(u):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},incrementalPrepareRender:function(e,t,n){var i=e.getData();this._updateLineDraw(i,e).incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},incrementalRender:function(e,t,n){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,n){var i=e.getData(),r=e.pipelineContext;if(!this._finished||r.large||r.progressiveRender)return{update:!0};var o=vq.reset(e);o.progress&&o.progress({start:0,end:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(n)},_updateLineDraw:function(e,t){var n=this._lineDraw,i=this._showEffect(t),r=!!t.get("polyline"),o=t.pipelineContext.large;return n&&i===this._hasEffet&&r===this._isPolyline&&o===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=o?new mq:new hq(r?i?gq:pq:i?dq:fq),this._hasEffet=i,this._isPolyline=r,this._isLargeDraw=o,this.group.removeAll()),this.group.add(n.group),n},_showEffect:function(e){return!!e.get("effect.show")},_clearLayer:function(e){var t=e.getZr();"svg"===t.painter.getType()||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},dispose:function(){}});var xq="lineStyle.opacity".split("."),bq=c,wq=uq,Sq={seriesType:"lines",reset:function(e,t,n){var i=_q(e.get("symbol")),r=_q(e.get("symbolSize")),o=e.getData();return o.setVisual("fromSymbol",i&&i[0]),o.setVisual("toSymbol",i&&i[1]),o.setVisual("fromSymbolSize",r&&r[0]),o.setVisual("toSymbolSize",r&&r[1]),o.setVisual("opacity",e.get(xq)),{dataEach:o.hasItemOption?function(e,t){var n=e.getItemModel(t),i=_q(n.getShallow("symbol",!0)),r=_q(n.getShallow("symbolSize",!0)),o=n.get(xq);i[0]&&e.setItemVisual(t,"fromSymbol",i[0]),i[1]&&e.setItemVisual(t,"toSymbol",i[1]),r[0]&&e.setItemVisual(t,"fromSymbolSize",r[0]),r[1]&&e.setItemVisual(t,"toSymbolSize",r[1]),e.setItemVisual(t,"opacity",o)}:null}}};bq.registerLayout(wq),bq.registerVisual(Sq);var Mq=U_,Iq=Ff;Hg.extend({type:"series.heatmap",getInitialData:function(e,t){return Mq(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var e=Iq.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});var Aq=g;function Tq(){var e=Aq.createCanvas();this.canvas=e,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}Tq.prototype={update:function(e,t,n,i,r,o){var a=this._getBrush(),s=this._getGradient(e,r,"inRange"),l=this._getGradient(e,r,"outOfRange"),u=this.pointSize+this.blurSize,c=this.canvas,h=c.getContext("2d"),d=e.length;c.width=t,c.height=n;for(var f=0;f<d;++f){var p=e[f],g=p[0],m=p[1],v=i(p[2]);h.globalAlpha=v,h.drawImage(a,g-u,m-u)}if(!c.width||!c.height)return c;for(var y=h.getImageData(0,0,c.width,c.height),_=y.data,x=0,b=_.length,w=this.minOpacity,S=this.maxOpacity-w;x<b;){v=_[x+3]/256;var M=4*Math.floor(255*v);if(v>0){var I=o(v)?s:l;v>0&&(v=v*S+w),_[x++]=I[M],_[x++]=I[M+1],_[x++]=I[M+2],_[x++]=I[M+3]*v*256}else x+=4}return h.putImageData(y,0,0),c},_getBrush:function(){var e=this._brushCanvas||(this._brushCanvas=Aq.createCanvas()),t=this.pointSize+this.blurSize,n=2*t;e.width=n,e.height=n;var i=e.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-t,t,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),e},_getGradient:function(e,t,n){for(var i=this._gradientPixels,r=i[n]||(i[n]=new Uint8ClampedArray(1024)),o=[0,0,0,0],a=0,s=0;s<256;s++)t[n](s/255,!0,o),r[a++]=o[0],r[a++]=o[1],r[a++]=o[2],r[a++]=o[3];return r}};var Cq=Ia,Dq=Tq,Pq=g;c.extendChartView({type:"heatmap",render:function(e,t,n){var i;t.eachComponent("visualMap",(function(t){t.eachTargetSeries((function(n){n===e&&(i=t)}))})),this.group.removeAll(),this._incrementalDisplayable=null;var r=e.coordinateSystem;"cartesian2d"===r.type||"calendar"===r.type?this._renderOnCartesianAndCalendar(e,n,0,e.getData().count()):function(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}(r)&&this._renderOnGeo(r,e,i,n)},incrementalPrepareRender:function(e,t,n){this.group.removeAll()},incrementalRender:function(e,t,n,i){t.coordinateSystem&&this._renderOnCartesianAndCalendar(t,i,e.start,e.end,!0)},_renderOnCartesianAndCalendar:function(e,t,n,i,r){var o,a,s=e.coordinateSystem;if("cartesian2d"===s.type){var l=s.getAxis("x"),u=s.getAxis("y");o=l.getBandWidth(),a=u.getBandWidth()}for(var c=this.group,h=e.getData(),d="itemStyle",f="emphasis.itemStyle",p="label",g="emphasis.label",m=e.getModel(d).getItemStyle(["color"]),v=e.getModel(f).getItemStyle(),y=e.getModel(p),_=e.getModel(g),x=s.type,b="cartesian2d"===x?[h.mapDimension("x"),h.mapDimension("y"),h.mapDimension("value")]:[h.mapDimension("time"),h.mapDimension("value")],w=n;w<i;w++){var S;if("cartesian2d"===x){if(isNaN(h.get(b[2],w)))continue;var M=s.dataToPoint([h.get(b[0],w),h.get(b[1],w)]);S=new Cq.Rect({shape:{x:Math.floor(Math.round(M[0])-o/2),y:Math.floor(Math.round(M[1])-a/2),width:Math.ceil(o),height:Math.ceil(a)},style:{fill:h.getItemVisual(w,"color"),opacity:h.getItemVisual(w,"opacity")}})}else{if(isNaN(h.get(b[1],w)))continue;S=new Cq.Rect({z2:1,shape:s.dataToRect([h.get(b[0],w)]).contentShape,style:{fill:h.getItemVisual(w,"color"),opacity:h.getItemVisual(w,"opacity")}})}var I=h.getItemModel(w);h.hasItemOption&&(m=I.getModel(d).getItemStyle(["color"]),v=I.getModel(f).getItemStyle(),y=I.getModel(p),_=I.getModel(g));var A=e.getRawValue(w),T="-";A&&null!=A[2]&&(T=A[2]),Cq.setLabelStyle(m,v,y,_,{labelFetcher:e,labelDataIndex:w,defaultText:T,isRectText:!0}),S.setStyle(m),Cq.setHoverStyle(S,h.hasItemOption?v:Pq.extend({},v)),S.incremental=r,r&&(S.useHoverLayer=!0),c.add(S),h.setItemGraphicEl(w,S)}},_renderOnGeo:function(e,t,n,i){var r=n.targetVisuals.inRange,o=n.targetVisuals.outOfRange,a=t.getData(),s=this._hmLayer||this._hmLayer||new Dq;s.blurSize=t.get("blurSize"),s.pointSize=t.get("pointSize"),s.minOpacity=t.get("minOpacity"),s.maxOpacity=t.get("maxOpacity");var l=e.getViewRect().clone(),u=e.getRoamTransform();l.applyTransform(u);var c=Math.max(l.x,0),h=Math.max(l.y,0),d=Math.min(l.width+l.x,i.getWidth()),f=Math.min(l.height+l.y,i.getHeight()),p=d-c,g=f-h,m=[a.mapDimension("lng"),a.mapDimension("lat"),a.mapDimension("value")],v=a.mapArray(m,(function(t,n,i){var r=e.dataToPoint([t,n]);return r[0]-=c,r[1]-=h,r.push(i),r})),y=n.getExtent(),_="visualMap.continuous"===n.type?function(e,t){var n=e[1]-e[0];return t=[(t[0]-e[0])/n,(t[1]-e[0])/n],function(e){return e>=t[0]&&e<=t[1]}}(y,n.option.range):function(e,t,n){var i=e[1]-e[0],r=(t=Pq.map(t,(function(t){return{interval:[(t.interval[0]-e[0])/i,(t.interval[1]-e[0])/i]}}))).length,o=0;return function(e){for(var i=o;i<r;i++)if((a=t[i].interval)[0]<=e&&e<=a[1]){o=i;break}if(i===r)for(i=o-1;i>=0;i--){var a;if((a=t[i].interval)[0]<=e&&e<=a[1]){o=i;break}}return i>=0&&i<r&&n[i]}}(y,n.getPieceList(),n.option.selected);s.update(v,p,g,r.color.getNormalizer(),{inRange:r.color.getColorMapper(),outOfRange:o.color.getColorMapper()},_);var x=new Cq.Image({style:{width:p,height:g,x:c,y:h,image:s.canvas},silent:!0});this.group.add(x)},dispose:function(){}});var Lq=hI.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(e){return e.stack=null,Lq.superApply(this,"getInitialData",arguments)}}),kq=c,Oq=g,Nq=Ia,Rq=Tb.createSymbol,Eq=Ah,zq=Eq.parsePercent,Bq=Eq.isNumeric,Vq=dI.setLabel,Gq=["itemStyle","borderWidth"],Fq=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Hq=new Nq.Circle;function Wq(e,t,n,i){var r=e.getItemLayout(t),o=n.get("symbolRepeat"),a=n.get("symbolClip"),s=n.get("symbolPosition")||"start",l=(n.get("symbolRotate")||0)*Math.PI/180||0,u=n.get("symbolPatternSize")||2,c=n.isAnimationEnabled(),h={dataIndex:t,layout:r,itemModel:n,symbolType:e.getItemVisual(t,"symbol")||"circle",color:e.getItemVisual(t,"color"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:u,rotation:l,animationModel:c?n:null,hoverAnimation:c&&n.get("hoverAnimation"),z2:n.getShallow("z",!0)||0};!function(e,t,n,i,r){var o,a=i.valueDim,s=e.get("symbolBoundingData"),l=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),u=l.toGlobalCoord(l.dataToCoord(0)),c=1-+(n[a.wh]<=0);if(Oq.isArray(s)){var h=[Uq(l,s[0])-u,Uq(l,s[1])-u];h[1]<h[0]&&h.reverse(),o=h[c]}else o=null!=s?Uq(l,s)-u:t?i.coordSysExtent[a.index][c]-u:n[a.wh];r.boundingLength=o,t&&(r.repeatCutLength=n[a.wh]);r.pxSign=o>0?1:o<0?-1:0}(n,o,r,i,h),function(e,t,n,i,r,o,a,s,l,u){var c=l.valueDim,h=l.categoryDim,d=Math.abs(n[h.wh]),f=e.getItemVisual(t,"symbolSize");Oq.isArray(f)?f=f.slice():(null==f&&(f="100%"),f=[f,f]);f[h.index]=zq(f[h.index],d),f[c.index]=zq(f[c.index],i?d:Math.abs(o)),u.symbolSize=f,(u.symbolScale=[f[0]/s,f[1]/s])[c.index]*=(l.isHorizontal?-1:1)*a}(e,t,r,o,0,h.boundingLength,h.pxSign,u,i,h),function(e,t,n,i,r){var o=e.get(Gq)||0;o&&(Hq.attr({scale:t.slice(),rotation:n}),Hq.updateTransform(),o/=Hq.getLineScale(),o*=t[i.valueDim.index]);r.valueLineWidth=o}(n,h.symbolScale,l,i,h);var d=h.symbolSize,f=n.get("symbolOffset");return Oq.isArray(f)&&(f=[zq(f[0],d[0]),zq(f[1],d[1])]),function(e,t,n,i,r,o,a,s,l,u,c,h){var d=c.categoryDim,f=c.valueDim,p=h.pxSign,g=Math.max(t[f.index]+s,0),m=g;if(i){var v=Math.abs(l),y=Oq.retrieve(e.get("symbolMargin"),"15%")+"",_=!1;y.lastIndexOf("!")===y.length-1&&(_=!0,y=y.slice(0,y.length-1)),y=zq(y,t[f.index]);var x=Math.max(g+2*y,0),b=_?0:2*y,w=Bq(i),S=w?i:aK((v+b)/x);x=g+2*(y=(v-S*g)/2/(_?S:S-1)),b=_?0:2*y,w||"fixed"===i||(S=u?aK((Math.abs(u)+b)/x):0),m=S*x-b,h.repeatTimes=S,h.symbolMargin=y}var M=p*(m/2),I=h.pathPosition=[];I[d.index]=n[d.wh]/2,I[f.index]="start"===a?M:"end"===a?l-M:l/2,o&&(I[0]+=o[0],I[1]+=o[1]);var A=h.bundlePosition=[];A[d.index]=n[d.xy],A[f.index]=n[f.xy];var T=h.barRectShape=Oq.extend({},n);T[f.wh]=p*Math.max(Math.abs(n[f.wh]),Math.abs(I[f.index]+M)),T[d.wh]=n[d.wh];var C=h.clipShape={};C[d.xy]=-n[d.xy],C[d.wh]=c.ecSize[d.wh],C[f.xy]=0,C[f.wh]=n[f.wh]}(n,d,r,o,0,f,s,h.valueLineWidth,h.boundingLength,h.repeatCutLength,i,h),h}function Uq(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function jq(e){var t=e.symbolPatternSize,n=Rq(e.symbolType,-t/2,-t/2,t,t,e.color);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function Zq(e,t,n,i){var r=e.__pictorialBundle,o=n.symbolSize,a=n.valueLineWidth,s=n.pathPosition,l=t.valueDim,u=n.repeatTimes||0,c=0,h=o[t.valueDim.index]+a+2*n.symbolMargin;for(iK(e,(function(e){e.__pictorialAnimationIndex=c,e.__pictorialRepeatTimes=u,c<u?rK(e,null,p(c),n,i):rK(e,null,{scale:[0,0]},n,i,(function(){r.remove(e)})),$q(e,n),c++}));c<u;c++){var d=jq(n);d.__pictorialAnimationIndex=c,d.__pictorialRepeatTimes=u,r.add(d);var f=p(c);rK(d,{position:f.position,scale:[0,0]},{scale:f.scale,rotation:f.rotation},n,i),d.on("mouseover",g).on("mouseout",m),$q(d,n)}function p(e){var t=s.slice(),i=n.pxSign,r=e;return("start"===n.symbolRepeatDirection?i>0:i<0)&&(r=u-1-e),t[l.index]=h*(r-u/2+.5)+s[l.index],{position:t,scale:n.symbolScale.slice(),rotation:n.rotation}}function g(){iK(e,(function(e){e.trigger("emphasis")}))}function m(){iK(e,(function(e){e.trigger("normal")}))}}function Yq(e,t,n,i){var r=e.__pictorialBundle,o=e.__pictorialMainPath;o?rK(o,null,{position:n.pathPosition.slice(),scale:n.symbolScale.slice(),rotation:n.rotation},n,i):(o=e.__pictorialMainPath=jq(n),r.add(o),rK(o,{position:n.pathPosition.slice(),scale:[0,0],rotation:n.rotation},{scale:n.symbolScale.slice()},n,i),o.on("mouseover",(function(){this.trigger("emphasis")})).on("mouseout",(function(){this.trigger("normal")}))),$q(o,n)}function Xq(e,t,n){var i=Oq.extend({},t.barRectShape),r=e.__pictorialBarRect;r?rK(r,null,{shape:i},t,n):(r=e.__pictorialBarRect=new Nq.Rect({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),e.add(r))}function qq(e,t,n,i){if(n.symbolClip){var r=e.__pictorialClipPath,o=Oq.extend({},n.clipShape),a=t.valueDim,s=n.animationModel,l=n.dataIndex;if(r)Nq.updateProps(r,{shape:o},s,l);else{o[a.wh]=0,r=new Nq.Rect({shape:o}),e.__pictorialBundle.setClipPath(r),e.__pictorialClipPath=r;var u={};u[a.wh]=n.clipShape[a.wh],Nq[i?"updateProps":"initProps"](r,{shape:u},s,l)}}}function Kq(e,t){var n=e.getItemModel(t);return n.getAnimationDelayParams=Jq,n.isAnimationEnabled=Qq,n}function Jq(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function Qq(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function $q(e,t){e.off("emphasis").off("normal");var n=t.symbolScale.slice();t.hoverAnimation&&e.on("emphasis",(function(){this.animateTo({scale:[1.1*n[0],1.1*n[1]]},400,"elasticOut")})).on("normal",(function(){this.animateTo({scale:n.slice()},400,"elasticOut")}))}function eK(e,t,n,i){var r=new Nq.Group,o=new Nq.Group;return r.add(o),r.__pictorialBundle=o,o.attr("position",n.bundlePosition.slice()),n.symbolRepeat?Zq(r,t,n):Yq(r,0,n),Xq(r,n,i),qq(r,t,n,i),r.__pictorialShapeStr=nK(e,n),r.__pictorialSymbolMeta=n,r}function tK(e,t,n,i){var r=i.__pictorialBarRect;r&&(r.style.text=null);var o=[];iK(i,(function(e){o.push(e)})),i.__pictorialMainPath&&o.push(i.__pictorialMainPath),i.__pictorialClipPath&&(n=null),Oq.each(o,(function(e){Nq.updateProps(e,{scale:[0,0]},n,t,(function(){i.parent&&i.parent.remove(i)}))})),e.setItemGraphicEl(t,null)}function nK(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function iK(e,t,n){Oq.each(e.__pictorialBundle.children(),(function(i){i!==e.__pictorialBarRect&&t.call(n,i)}))}function rK(e,t,n,i,r,o){t&&e.attr(t),i.symbolClip&&!r?n&&e.attr(n):n&&Nq[r?"updateProps":"initProps"](e,n,i.animationModel,i.dataIndex,o)}function oK(e,t,n){var i=n.color,r=n.dataIndex,o=n.itemModel,a=o.getModel("itemStyle").getItemStyle(["color"]),s=o.getModel("emphasis.itemStyle").getItemStyle(),l=o.getShallow("cursor");iK(e,(function(e){e.setColor(i),e.setStyle(Oq.defaults({fill:i,opacity:n.opacity},a)),Nq.setHoverStyle(e,s),l&&(e.cursor=l),e.z2=n.z2}));var u={},c=t.valueDim.posDesc[+(n.boundingLength>0)],h=e.__pictorialBarRect;Vq(h.style,u,o,i,t.seriesModel,r,c),Nq.setHoverStyle(h,u)}function aK(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}kq.extendChartView({type:"pictorialBar",render:function(e,t,n){var i=this.group,r=e.getData(),o=this._data,a=e.coordinateSystem,s=!!a.getBaseAxis().isHorizontal(),l=a.grid.getRect(),u={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:e,coordSys:a,coordSysExtent:[[l.x,l.x+l.width],[l.y,l.y+l.height]],isHorizontal:s,valueDim:Fq[+s],categoryDim:Fq[1-s]};return r.diff(o).add((function(e){if(r.hasValue(e)){var t=Kq(r,e),n=Wq(r,e,t,u),o=eK(r,u,n);r.setItemGraphicEl(e,o),i.add(o),oK(o,u,n)}})).update((function(e,t){var n=o.getItemGraphicEl(t);if(r.hasValue(e)){var a=Kq(r,e),s=Wq(r,e,a,u),l=nK(r,s);n&&l!==n.__pictorialShapeStr&&(i.remove(n),r.setItemGraphicEl(e,null),n=null),n?function(e,t,n){var i=n.animationModel,r=n.dataIndex,o=e.__pictorialBundle;Nq.updateProps(o,{position:n.bundlePosition.slice()},i,r),n.symbolRepeat?Zq(e,t,n,!0):Yq(e,t,n,!0);Xq(e,n,!0),qq(e,t,n,!0)}(n,u,s):n=eK(r,u,s,!0),r.setItemGraphicEl(e,n),n.__pictorialSymbolMeta=s,i.add(n),oK(n,u,s)}else i.remove(n)})).remove((function(e){var t=o.getItemGraphicEl(e);t&&tK(o,e,t.__pictorialSymbolMeta.animationModel,t)})).execute(),this._data=r,this.group},dispose:Oq.noop,remove:function(e,t){var n=this.group,i=this._data;e.get("animation")?i&&i.eachItemGraphicEl((function(t){tK(i,t.dataIndex,e,t)})):n.removeAll()}});var sK=c,lK=g,uK=Mx.layout,cK=PC;sK.registerLayout(lK.curry(uK,"pictorialBar")),sK.registerVisual(cK("pictorialBar","roundRect"));var hK=g,dK=Ww,fK=function(e,t,n,i,r){dK.call(this,e,t,n),this.type=i||"value",this.position=r||"bottom",this.orient=null};fK.prototype={constructor:fK,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},pointToData:function(e,t){return this.coordinateSystem.pointToData(e,t)[0]},toGlobalCoord:null,toLocalCoord:null},hK.inherits(fK,dK);var pK=fK,gK=j_,mK=Ih.getLayoutRect,vK=g.each;function yK(e,t,n){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(e,t,n),this.model=e}yK.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:yK,_init:function(e,t,n){var i=this.dimension,r=new pK(i,gK.createScaleByModel(e),[0,0],e.get("type"),e.get("position")),o="category"===r.type;r.onBand=o&&e.get("boundaryGap"),r.inverse=e.get("inverse"),r.orient=e.get("orient"),e.axis=r,r.model=e,r.coordinateSystem=this,this._axis=r},update:function(e,t){e.eachSeries((function(e){if(e.coordinateSystem===this){var t=e.getData();vK(t.mapDimension(this.dimension,!0),(function(e){this._axis.scale.unionExtentFromData(t,e)}),this),gK.niceScaleExtent(this._axis.scale,this._axis.model)}}),this)},resize:function(e,t){this._rect=mK({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var e=this._rect,t=this._axis,n=t.isHorizontal(),i=n?[0,e.width]:[0,e.height],r=t.reverse?1:0;t.setExtent(i[r],i[1-r]),this._updateAxisTransform(t,n?e.x:e.y)},_updateAxisTransform:function(e,t){var n=e.getExtent(),i=n[0]+n[1],r=e.isHorizontal();e.toGlobalCoord=r?function(e){return e+t}:function(e){return i-e+t},e.toLocalCoord=r?function(e){return e-t}:function(e){return i-e+t}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(e){var t=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:n.contain(n.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},pointToData:function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e["horizontal"===t.orient?0:1]))]},dataToPoint:function(e){var t=this.getAxis(),n=this.getRect(),i=[],r="horizontal"===t.orient?0:1;return e instanceof Array&&(e=e[0]),i[r]=t.toGlobalCoord(t.dataToCoord(+e)),i[1-r]=0===r?n.y+n.height/2:n.x+n.width/2,i}};var _K=yK;Ff.register("single",{create:function(e,t){var n=[];return e.eachComponent("singleAxis",(function(i,r){var o=new _K(i,e,t);o.name="single_"+r,o.resize(i,t),i.coordinateSystem=o,n.push(o)})),e.eachSeries((function(t){if("singleAxis"===t.get("coordinateSystem")){var n=e.queryComponents({mainType:"singleAxis",index:t.get("singleAxisIndex"),id:t.get("singleAxisId")})[0];t.coordinateSystem=n&&n.coordinateSystem}})),n},dimensions:_K.prototype.dimensions});var xK={},bK=g;xK.layout=function(e,t){t=t||{};var n=e.coordinateSystem,i=e.axis,r={},o=i.position,a=i.orient,s=n.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};r.position=["vertical"===a?u.vertical[o]:l[0],"horizontal"===a?u.horizontal[o]:l[3]],r.rotation=Math.PI/2*{horizontal:0,vertical:1}[a],r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],e.get("axisTick.inside")&&(r.tickDirection=-r.tickDirection),bK.retrieve(t.labelInside,e.get("axisLabel.inside"))&&(r.labelDirection=-r.labelDirection);var c=t.rotate;return null==c&&(c=e.get("axisLabel.rotate")),r.labelRotation="top"===o?-c:c,r.z2=1,r};var wK=g,SK=SA,MK=Ia,IK=xK,AK=BA,TK=FA,CK=TK.rectCoordAxisBuildSplitArea,DK=TK.rectCoordAxisHandleRemove,PK=["axisLine","axisTickLabel","axisName"],LK=["splitArea","splitLine"],kK=AK.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(e,t,n,i){var r=this.group;r.removeAll();var o=this._axisGroup;this._axisGroup=new MK.Group;var a=IK.layout(e),s=new SK(e,a);wK.each(PK,s.add,s),r.add(this._axisGroup),r.add(s.getGroup()),wK.each(LK,(function(t){e.get(t+".show")&&this["_"+t](e)}),this),MK.groupTransition(o,this._axisGroup,e),kK.superCall(this,"render",e,t,n,i)},remove:function(){DK(this)},_splitLine:function(e){var t=e.axis;if(!t.scale.isBlank()){var n=e.getModel("splitLine"),i=n.getModel("lineStyle"),r=i.get("width"),o=i.get("color");o=o instanceof Array?o:[o];for(var a=e.coordinateSystem.getRect(),s=t.isHorizontal(),l=[],u=0,c=t.getTicksCoords({tickModel:n}),h=[],d=[],f=0;f<c.length;++f){var p=t.toGlobalCoord(c[f].coord);s?(h[0]=p,h[1]=a.y,d[0]=p,d[1]=a.y+a.height):(h[0]=a.x,h[1]=p,d[0]=a.x+a.width,d[1]=p);var g=u++%o.length;l[g]=l[g]||[],l[g].push(new MK.Line({subPixelOptimize:!0,shape:{x1:h[0],y1:h[1],x2:d[0],y2:d[1]},style:{lineWidth:r},silent:!0}))}for(f=0;f<l.length;++f)this.group.add(MK.mergePath(l[f],{style:{stroke:o[f%o.length],lineDash:i.getLineDash(r),lineWidth:r},silent:!0}))}},_splitArea:function(e){CK(this,this._axisGroup,e,e)}}),OK=g,NK=NM,RK=Ab,EK=fd.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});OK.merge(EK.prototype,RK),NK("single",EK,(function(e,t){return t.type||(t.data?"category":"value")}),{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});var zK=hN,BK=xK,VK=BA,GK=["x","y"],FK=["width","height"],HK=cN.extend({makeElOption:function(e,t,n,i,r){var o=n.axis,a=o.coordinateSystem,s=jK(a,1-UK(o)),l=a.dataToPoint(t)[0],u=i.get("type");if(u&&"none"!==u){var c=zK.buildElStyle(i),h=WK[u](o,l,s);h.style=c,e.graphicKey=h.type,e.pointer=h}var d=BK.layout(n);zK.buildCartesianSingleLabelElOption(t,e,d,n,i,r)},getHandleTransform:function(e,t,n){var i=BK.layout(t,{labelInside:!1});return i.labelMargin=n.get("handle.margin"),{position:zK.getTransformedPosition(t.axis,e,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,n,i){var r=n.axis,o=r.coordinateSystem,a=UK(r),s=jK(o,a),l=e.position;l[a]+=t[a],l[a]=Math.min(s[1],l[a]),l[a]=Math.max(s[0],l[a]);var u=jK(o,1-a),c=(u[1]+u[0])/2,h=[c,c];return h[a]=l[a],{position:l,rotation:e.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}}}),WK={line:function(e,t,n){return{type:"Line",subPixelOptimize:!0,shape:zK.makeLineShape([t,n[0]],[t,n[1]],UK(e))}},shadow:function(e,t,n){var i=e.getBandWidth(),r=n[1]-n[0];return{type:"Rect",shape:zK.makeRectShape([t-i/2,n[0]],[i,r],UK(e))}}};function UK(e){return e.isHorizontal()?0:1}function jK(e,t){var n=e.getRect();return[n[GK[t]],n[GK[t]]+n[FK[t]]]}VK.registerAxisPointerClass("SingleAxisPointer",HK),c.extendComponentView({type:"single"});var ZK=Hg,YK=x_,XK=my.getDimensionTypeByAxis,qK=t_,KK=g,JK=na.groupData,QK=Ph.encodeHTML,$K=qC,eJ=ZK.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(e){eJ.superApply(this,"init",arguments),this.legendVisualProvider=new $K(KK.bind(this.getData,this),KK.bind(this.getRawData,this))},fixData:function(e){var t=e.length,n={},i=JK(e,(function(e){return n.hasOwnProperty(e[0])||(n[e[0]]=-1),e[2]})),r=[];i.buckets.each((function(e,t){r.push({name:t,dataList:e})}));for(var o=r.length,a=0;a<o;++a){for(var s=r[a].name,l=0;l<r[a].dataList.length;++l){var u=r[a].dataList[l][0];n[u]=a}for(var u in n)n.hasOwnProperty(u)&&n[u]!==a&&(n[u]=a,e[t]=[],e[t][0]=u,e[t][1]=0,e[t][2]=s,t++)}return e},getInitialData:function(e,t){for(var n=t.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),i=KK.filter(e.data,(function(e){return void 0!==e[2]})),r=this.fixData(i||[]),o=[],a=this.nameMap=KK.createHashMap(),s=0,l=0;l<r.length;++l)o.push(r[l][2]),a.get(r[l][2])||(a.set(r[l][2],s),s++);var u=YK(r,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:XK(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),c=new qK(u,this);return c.initData(r),c},getLayerSeries:function(){for(var e=this.getData(),t=e.count(),n=[],i=0;i<t;++i)n[i]=i;var r=e.mapDimension("single"),o=JK(n,(function(t){return e.get("name",t)})),a=[];return o.buckets.each((function(t,n){t.sort((function(t,n){return e.get(r,t)-e.get(r,n)})),a.push({name:n,indices:t})})),a},getAxisTooltipData:function(e,t,n){KK.isArray(e)||(e=e?[e]:[]);for(var i,r=this.getData(),o=this.getLayerSeries(),a=[],s=o.length,l=0;l<s;++l){for(var u=Number.MAX_VALUE,c=-1,h=o[l].indices.length,d=0;d<h;++d){var f=r.get(e[0],o[l].indices[d]),p=Math.abs(f-t);p<=u&&(i=f,u=p,c=o[l].indices[d])}a.push(c)}return{dataIndices:a,nestestValue:i}},formatTooltip:function(e){var t=this.getData(),n=t.getName(e),i=t.get(t.mapDimension("value"),e);return(isNaN(i)||null==i)&&(i="-"),QK(n+" : "+i)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}}),tJ=c,nJ=HT.Polygon,iJ=Ia,rJ=g,oJ=rJ.bind,aJ=rJ.extend,sJ=gy;tJ.extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(e,t,n){var i=e.getData(),r=this.group,o=e.getLayerSeries(),a=i.getLayout("layoutInfo"),s=a.rect,l=a.boundaryGap;function u(e){return e.name}r.attr("position",[0,s.y+l[0]]);var c=new sJ(this._layersSeries||[],o,u,u),h={};function d(t,n,a){var s=this._layers;if("remove"!==t){for(var l,u,c,d=[],f=[],p=o[n].indices,g=0;g<p.length;g++){var m=i.getItemLayout(p[g]),v=m.x,y=m.y0,_=m.y;d.push([v,y]),f.push([v,y+_]),l=i.getItemVisual(p[g],"color")}var x=i.getItemLayout(p[0]),b=i.getItemModel(p[g-1]),w=b.getModel("label"),S=w.get("margin");if("add"===t){var M=h[n]=new iJ.Group;u=new nJ({shape:{points:d,stackedOnPoints:f,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),c=new iJ.Text({style:{x:x.x-S,y:x.y0+x.y/2}}),M.add(u),M.add(c),r.add(M),u.setClipPath(function(e,t,n){var i=new iJ.Rect({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return iJ.initProps(i,{shape:{width:e.width+20,height:e.height+20}},t,n),i}(u.getBoundingRect(),e,(function(){u.removeClipPath()})))}else{M=s[a];u=M.childAt(0),c=M.childAt(1),r.add(M),h[n]=M,iJ.updateProps(u,{shape:{points:d,stackedOnPoints:f}},e),iJ.updateProps(c,{style:{x:x.x-S,y:x.y0+x.y/2}},e)}var I=b.getModel("emphasis.itemStyle"),A=b.getModel("itemStyle");iJ.setTextStyle(c.style,w,{text:w.get("show")?e.getFormattedLabel(p[g-1],"normal")||i.getName(p[g-1]):null,textVerticalAlign:"middle"}),u.setStyle(aJ({fill:l},A.getItemStyle(["color"]))),iJ.setHoverStyle(u,I.getItemStyle())}else r.remove(s[n])}c.add(oJ(d,this,"add")).update(oJ(d,this,"update")).remove(oJ(d,this,"remove")).execute(),this._layersSeries=o,this._layers=h},dispose:function(){}});var lJ=g,uJ=Ah;function cJ(e,t,n){if(e.count())for(var i,r=t.coordinateSystem,o=t.getLayerSeries(),a=e.mapDimension("single"),s=e.mapDimension("value"),l=lJ.map(o,(function(t){return lJ.map(t.indices,(function(t){var n=r.dataToPoint(e.get(a,t));return n[1]=e.get(s,t),n}))})),u=function(e){for(var t=e.length,n=e[0].length,i=[],r=[],o=0,a={},s=0;s<n;++s){for(var l=0,u=0;l<t;++l)u+=e[l][s][1];u>o&&(o=u),i.push(u)}for(var c=0;c<n;++c)r[c]=(o-i[c])/2;o=0;for(var h=0;h<n;++h){var d=i[h]+r[h];d>o&&(o=d)}return a.y0=r,a.max=o,a}(l),c=u.y0,h=n/u.max,d=o.length,f=o[0].indices.length,p=0;p<f;++p){i=c[p]*h,e.setItemLayout(o[0].indices[p],{layerIndex:0,x:l[0][p][0],y0:i,y:l[0][p][1]*h});for(var g=1;g<d;++g)i+=l[g-1][p][1]*h,e.setItemLayout(o[g].indices[p],{layerIndex:g,x:l[g][p][0],y0:i,y:l[g][p][1]*h})}}var hJ=function(e,t){e.eachSeriesByType("themeRiver",(function(e){var t=e.getData(),n=e.coordinateSystem,i={},r=n.getRect();i.rect=r;var o=e.get("boundaryGap"),a=n.getAxis();(i.boundaryGap=o,"horizontal"===a.orient)?(o[0]=uJ.parsePercent(o[0],r.height),o[1]=uJ.parsePercent(o[1],r.height),cJ(t,e,r.height-o[0]-o[1])):(o[0]=uJ.parsePercent(o[0],r.width),o[1]=uJ.parsePercent(o[1],r.width),cJ(t,e,r.width-o[0]-o[1]));t.setLayout("layoutInfo",i)}))},dJ=g.createHashMap;var fJ=c,pJ=hJ,gJ=function(e){e.eachSeriesByType("themeRiver",(function(e){var t=e.getData(),n=e.getRawData(),i=e.get("color"),r=dJ();t.each((function(e){r.set(t.getRawIndex(e),e)})),n.each((function(o){var a=n.getName(o),s=i[(e.nameMap.get(a)-1)%i.length];n.setItemVisual(o,"color",s);var l=r.get(o);null!=l&&t.setItemVisual(l,"color",s)}))}))},mJ=kD;fJ.registerLayout(pJ),fJ.registerVisual(gJ),fJ.registerProcessor(mJ("themeRiver"));var vJ=g,yJ=Hg,_J=JB,xJ=xh,bJ=HV.wrapTreePathInfo;function wJ(e){var t=0;vJ.each(e.children,(function(e){wJ(e);var n=e.value;vJ.isArray(n)&&(n=n[0]),t+=n}));var n=e.value;vJ.isArray(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),vJ.isArray(e.value)?e.value[0]=n:e.value=n}yJ.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(e,t){var n={name:e.name,children:e.data};wJ(n);var i=vJ.map(e.levels||[],(function(e){return new xJ(e,this,t)}),this),r=_J.createTree(n,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var n=r.getNodeByDataIndex(t),o=i[n.depth];return o&&(e.parentModel=o),e}))}));return r.data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(e){var t=yJ.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=bJ(n,this),t},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},highlight:{itemStyle:{opacity:1}},downplay:{itemStyle:{opacity:.5},label:{opacity:.6}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});var SJ=g,MJ=Ia,IJ="none",AJ="ancestor",TJ="self";function CJ(e,t,n){MJ.Group.call(this);var i=new MJ.Sector({z2:2});i.seriesIndex=t.seriesIndex;var r=new MJ.Text({z2:4,silent:e.getModel("label").get("silent")});function o(){r.ignore=r.hoverIgnore}function a(){r.ignore=r.normalIgnore}this.add(i),this.add(r),this.updateData(!0,e,"normal",t,n),this.on("emphasis",o).on("normal",a).on("mouseover",o).on("mouseout",a)}var DJ=CJ.prototype;DJ.updateData=function(e,t,n,i,r){this.node=t,t.piece=this,i=i||this._seriesModel,r=r||this._ecModel;var o=this.childAt(0);o.dataIndex=t.dataIndex;var a=t.getModel(),s=t.getLayout(),l=SJ.extend({},s);l.label=null;var u=function(e,t,n){var i=e.getVisual("color"),r=e.getVisual("visualMeta");r&&0!==r.length||(i=null);var o=e.getModel("itemStyle").get("color");if(o)return o;if(i)return i;if(0===e.depth)return n.option.color[0];var a=n.option.color.length;o=n.option.color[function(e){var t=e;for(;t.depth>1;)t=t.parentNode;var n=e.getAncestors()[0];return SJ.indexOf(n.children,t)}(e)%a];return o}(t,0,r);!function(e,t,n){t.getData().setItemVisual(e.dataIndex,"color",n)}(t,i,u);var c,h=a.getModel("itemStyle").getItemStyle();if("normal"===n)c=h;else{var d=a.getModel(n+".itemStyle").getItemStyle();c=SJ.merge(d,h)}c=SJ.defaults({lineJoin:"bevel",fill:c.fill||u},c),e?(o.setShape(l),o.shape.r=s.r0,MJ.updateProps(o,{shape:{r:s.r}},i,t.dataIndex),o.useStyle(c)):"object"==typeof c.fill&&c.fill.type||"object"==typeof o.style.fill&&o.style.fill.type?(MJ.updateProps(o,{shape:l},i),o.useStyle(c)):MJ.updateProps(o,{shape:l,style:c},i),this._updateLabel(i,u,n);var f=a.getShallow("cursor");if(f&&o.attr("cursor",f),e){var p=i.getShallow("highlightPolicy");this._initEvents(o,t,i,p)}this._seriesModel=i||this._seriesModel,this._ecModel=r||this._ecModel,MJ.setHoverStyle(this)},DJ.onEmphasis=function(e){var t=this;this.node.hostTree.root.eachNode((function(n){var i,r,o;n.piece&&(t.node===n?n.piece.updateData(!1,n,"emphasis"):(i=n,r=t.node,(o=e)!==IJ&&(o===TJ?i===r:o===AJ?i===r||i.isAncestorOf(r):i===r||i.isDescendantOf(r))?n.piece.childAt(0).trigger("highlight"):e!==IJ&&n.piece.childAt(0).trigger("downplay")))}))},DJ.onNormal=function(){this.node.hostTree.root.eachNode((function(e){e.piece&&e.piece.updateData(!1,e,"normal")}))},DJ.onHighlight=function(){this.updateData(!1,this.node,"highlight")},DJ.onDownplay=function(){this.updateData(!1,this.node,"downplay")},DJ._updateLabel=function(e,t,n){var i=this.node.getModel(),r=i.getModel("label"),o="normal"===n||"emphasis"===n?r:i.getModel(n+".label"),a=i.getModel("emphasis.label"),s=o.get("formatter")?n:"normal",l=SJ.retrieve(e.getFormattedLabel(this.node.dataIndex,s,null,null,"label"),this.node.name);!1===M("show")&&(l="");var u=this.node.getLayout(),c=o.get("minAngle");null==c&&(c=r.get("minAngle")),c=c/180*Math.PI;var h=u.endAngle-u.startAngle;null!=c&&Math.abs(h)<c&&(l="");var d=this.childAt(1);MJ.setLabelStyle(d.style,d.hoverStyle||{},r,a,{defaultText:o.getShallow("show")?l:null,autoColor:t,useInsideStyle:!0});var f,p=(u.startAngle+u.endAngle)/2,g=Math.cos(p),m=Math.sin(p),v=M("position"),y=M("distance")||0,_=M("align");"outside"===v?(f=u.r+y,_=p>Math.PI/2?"right":"left"):_&&"center"!==_?"left"===_?(f=u.r0+y,p>Math.PI/2&&(_="right")):"right"===_&&(f=u.r-y,p>Math.PI/2&&(_="left")):(f=(u.r+u.r0)/2,_="center"),d.attr("style",{text:l,textAlign:_,textVerticalAlign:M("verticalAlign")||"middle",opacity:M("opacity")});var x=f*g+u.cx,b=f*m+u.cy;d.attr("position",[x,b]);var w=M("rotate"),S=0;function M(e){var t=o.get(e);return null==t?r.get(e):t}"radial"===w?(S=-p)<-Math.PI/2&&(S+=Math.PI):"tangential"===w?(S=Math.PI/2-p)>Math.PI/2?S-=Math.PI:S<-Math.PI/2&&(S+=Math.PI):"number"==typeof w&&(S=w*Math.PI/180),d.attr("rotation",S)},DJ._initEvents=function(e,t,n,i){e.off("mouseover").off("mouseout").off("emphasis").off("normal");var r=this,o=function(){r.onEmphasis(i)},a=function(){r.onNormal()};n.isAnimationEnabled()&&e.on("mouseover",o).on("mouseout",a).on("emphasis",o).on("normal",a).on("downplay",(function(){r.onDownplay()})).on("highlight",(function(){r.onHighlight()}))},SJ.inherits(CJ,MJ.Group);var PJ=g,LJ=pm,kJ=CJ,OJ=gy,NJ=Ph.windowOpen;LJ.extend({type:"sunburst",init:function(){},render:function(e,t,n,i){var r=this;this.seriesModel=e,this.api=n,this.ecModel=t;var o=e.getData(),a=o.tree.root,s=e.getViewRoot(),l=this.group,u=e.get("renderLabelForZeroData"),c=[];s.eachNode((function(e){c.push(e)}));var h=this._oldChildren||[];if(function(n,i){if(0===n.length&&0===i.length)return;function r(e){return e.getId()}function s(r,s){!function(n,i){u||!n||n.getValue()||(n=null);if(n!==a&&i!==a)if(i&&i.piece)n?(i.piece.updateData(!1,n,"normal",e,t),o.setItemGraphicEl(n.dataIndex,i.piece)):function(e){if(!e)return;e.piece&&(l.remove(e.piece),e.piece=null)}(i);else if(n){var r=new kJ(n,e,t);l.add(r),o.setItemGraphicEl(n.dataIndex,r)}}(null==r?null:n[r],null==s?null:i[s])}new OJ(i,n,r,r).add(s).update(s).remove(PJ.curry(s,null)).execute()}(c,h),function(n,i){if(i.depth>0){r.virtualPiece?r.virtualPiece.updateData(!1,n,"normal",e,t):(r.virtualPiece=new kJ(n,e,t),l.add(r.virtualPiece)),i.piece._onclickEvent&&i.piece.off("click",i.piece._onclickEvent);var o=function(e){r._rootToNode(i.parentNode)};i.piece._onclickEvent=o,r.virtualPiece.on("click",o)}else r.virtualPiece&&(l.remove(r.virtualPiece),r.virtualPiece=null)}(a,s),i&&i.highlight&&i.highlight.piece){var d=e.getShallow("highlightPolicy");i.highlight.piece.onEmphasis(d)}else if(i&&i.unhighlight){var f=this.virtualPiece;!f&&a.children.length&&(f=a.children[0].piece),f&&f.onNormal()}this._initEvents(),this._oldChildren=c},dispose:function(){},_initEvents:function(){var e=this,t=function(t){var n=!1;e.seriesModel.getViewRoot().eachNode((function(i){if(!n&&i.piece&&i.piece.childAt(0)===t.target){var r=i.getModel().get("nodeClick");if("rootToNode"===r)e._rootToNode(i);else if("link"===r){var o=i.getModel(),a=o.get("link");if(a){var s=o.get("target",!0)||"_blank";NJ(a,s)}}n=!0}}))};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",t),this.group._onclickEvent=t},_rootToNode:function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},containPoint:function(e,t){var n=t.getData().getItemLayout(0);if(n){var i=e[0]-n.cx,r=e[1]-n.cy,o=Math.sqrt(i*i+r*r);return o<=n.r&&o>=n.r0}}});var RJ=c,EJ=HV;RJ.registerAction({type:"sunburstRootToNode",update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},(function(t,n){var i=EJ.retrieveTargetInfo(e,["sunburstRootToNode"],t);if(i){var r=t.getViewRoot();r&&(e.direction=EJ.aboveViewRoot(r,i.node)?"rollUp":"drillDown"),t.resetViewRoot(i.node)}}))}));RJ.registerAction({type:"sunburstHighlight",update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},(function(t,n){var i=EJ.retrieveTargetInfo(e,["sunburstHighlight"],t);i&&(e.highlight=i.node)}))}));RJ.registerAction({type:"sunburstUnhighlight",update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},(function(t,n){e.unhighlight=!0}))}));var zJ=Ah.parsePercent,BJ=g,VJ=Math.PI/180;function GJ(e,t){var n=e.children||[];e.children=function(e,t){if("function"==typeof t)return e.sort(t);var n="asc"===t;return e.sort((function(e,t){var i=(e.getValue()-t.getValue())*(n?1:-1);return 0===i?(e.dataIndex-t.dataIndex)*(n?-1:1):i}))}(n,t),n.length&&BJ.each(e.children,(function(e){GJ(e,t)}))}var FJ=c,HJ=g,WJ=vD,UJ=function(e,t,n,i){t.eachSeriesByType(e,(function(e){var t=e.get("center"),i=e.get("radius");BJ.isArray(i)||(i=[0,i]),BJ.isArray(t)||(t=[t,t]);var r=n.getWidth(),o=n.getHeight(),a=Math.min(r,o),s=zJ(t[0],r),l=zJ(t[1],o),u=zJ(i[0],a/2),c=zJ(i[1],a/2),h=-e.get("startAngle")*VJ,d=e.get("minAngle")*VJ,f=e.getData().tree.root,p=e.getViewRoot(),g=p.depth,m=e.get("sort");null!=m&&GJ(p,m);var v=0;BJ.each(p.children,(function(e){!isNaN(e.getValue())&&v++}));var y=p.getValue(),_=Math.PI/(y||v)*2,x=p.depth>0,b=p.height-(x?-1:1),w=(c-u)/(b||1),S=e.get("clockwise"),M=e.get("stillShowZeroSum"),I=S?1:-1,A=function(e,t){if(e){var n=t;if(e!==f){var i=e.getValue(),r=0===y&&M?_:i*_;r<d&&(r=d),n=t+I*r;var o=e.depth-g-(x?-1:1),c=u+w*o,h=u+w*(o+1),p=e.getModel();null!=p.get("r0")&&(c=zJ(p.get("r0"),a/2)),null!=p.get("r")&&(h=zJ(p.get("r"),a/2)),e.setLayout({angle:r,startAngle:t,endAngle:n,clockwise:S,cx:s,cy:l,r0:c,r:h})}if(e.children&&e.children.length){var m=0;BJ.each(e.children,(function(e){m+=A(e,t+m)}))}return n-t}};if(x){var T=u,C=u+w,D=2*Math.PI;f.setLayout({angle:D,startAngle:h,endAngle:h+D,clockwise:S,cx:s,cy:l,r0:T,r:C})}A(p,h)}))},jJ=kD;FJ.registerVisual(HJ.curry(WJ,"sunburst")),FJ.registerLayout(HJ.curry(UJ,"sunburst")),FJ.registerProcessor(HJ.curry(jJ,"sunburst"));var ZJ=g;function YJ(e,t){return t=t||[0,0],ZJ.map(["x","y"],(function(n,i){var r=this.getAxis(n),o=t[i],a=e[i]/2;return"category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a))}),this)}var XJ=function(e){var t=e.grid.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:ZJ.bind(YJ,e)}}},qJ=g;function KJ(e,t){return t=t||[0,0],qJ.map([0,1],(function(n){var i=t[n],r=e[n]/2,o=[],a=[];return o[n]=i-r,a[n]=i+r,o[1-n]=a[1-n]=t[1-n],Math.abs(this.dataToPoint(o)[n]-this.dataToPoint(a)[n])}),this)}var JJ=function(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(t){return e.dataToPoint(t)},size:qJ.bind(KJ,e)}}},QJ=g;function $J(e,t){var n=this.getAxis(),i=t instanceof Array?t[0]:t,r=(e instanceof Array?e[0]:e)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(i-r)-n.dataToCoord(i+r))}var eQ=function(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:QJ.bind($J,e)}}},tQ=g;function nQ(e,t){return tQ.map(["Radius","Angle"],(function(n,i){var r=this["get"+n+"Axis"](),o=t[i],a=e[i]/2,s="dataTo"+n,l="category"===r.type?r.getBandWidth():Math.abs(r[s](o-a)-r[s](o+a));return"Angle"===n&&(l=l*Math.PI/180),l}),this)}var iQ=function(e){var t=e.getRadiusAxis(),n=e.getAngleAxis(),i=t.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:i[1],r0:i[0]},api:{coord:tQ.bind((function(i){var r=t.dataToRadius(i[0]),o=n.dataToAngle(i[1]),a=e.coordToPoint([r,o]);return a.push(r,o*Math.PI/180),a})),size:tQ.bind(nQ,e)}}};var rQ=function(e){var t=e.getRect(),n=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(t,n){return e.dataToPoint(t,n)}}}},oQ=g,aQ=Ia,sQ=fI.getDefaultLabel,lQ=U_,uQ=Mx.getLayoutOnAxis,cQ=gy,hQ=Hg,dQ=xh,fQ=pm,pQ=xI.createClipPath,gQ=XJ,mQ=JJ,vQ=eQ,yQ=iQ,_Q=rQ,xQ=aQ.CACHED_LABEL_STYLE_PROPERTIES,bQ=["itemStyle"],wQ=["emphasis","itemStyle"],SQ=["label"],MQ=["emphasis","label"],IQ={cartesian2d:gQ,geo:mQ,singleAxis:vQ,polar:yQ,calendar:_Q};function AQ(e,t,n,i,r){null==n[e]||r||(t[e]=n[e],n[e]=i[e])}function TQ(e,t,n,i){var r=e.get("renderItem"),o=e.coordinateSystem,a={};o&&(a=o.prepareCustoms?o.prepareCustoms():IQ[o.type](o));var s,l,u,c,h,d=oQ.defaults({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function(e,n){return null==n&&(n=s),t.get(t.getDimension(e||0),n)},style:function(n,i){null==i&&(i=s),g(i);var r=l.getModel(bQ).getItemStyle();null!=h&&(r.fill=h);var o=t.getItemVisual(i,"opacity");null!=o&&(r.opacity=o);var a=n?OQ(n,u):u;return aQ.setTextStyle(r,a,null,{autoColor:h,isRectText:!0}),r.text=a.getShallow("show")?oQ.retrieve2(e.getFormattedLabel(i,"normal"),sQ(t,i)):null,n&&NQ(r,n),r},styleEmphasis:function(n,i){null==i&&(i=s),g(i);var r=l.getModel(wQ).getItemStyle(),o=n?OQ(n,c):c;return aQ.setTextStyle(r,o,null,{isRectText:!0},!0),r.text=o.getShallow("show")?oQ.retrieve3(e.getFormattedLabel(i,"emphasis"),e.getFormattedLabel(i,"normal"),sQ(t,i)):null,n&&NQ(r,n),r},visual:function(e,n){return null==n&&(n=s),t.getItemVisual(n,e)},barLayout:function(e){if(o.getBaseAxis){var t=o.getBaseAxis();return uQ(oQ.defaults({axis:t},e),i)}},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(e){return aQ.getFont(e,n)}},a.api||{}),f={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:a.coordSys,dataInsideLength:t.count(),encode:CQ(e.getData())},p=!0;return function(e,n){return s=e,p=!0,r&&r(oQ.defaults({dataIndexInside:e,dataIndex:t.getRawIndex(e),actionType:n?n.type:null},f),d)};function g(e){null==e&&(e=s),p&&(l=t.getItemModel(e),u=l.getModel(SQ),c=l.getModel(MQ),h=t.getItemVisual(e,"color"),p=!1)}}function CQ(e){var t={};return oQ.each(e.dimensions,(function(n,i){var r=e.getDimensionInfo(n);if(!r.isExtraCoord){var o=r.coordDim;(t[o]=t[o]||[])[r.coordDimIndex]=i}})),t}function DQ(e,t,n,i,r,o){return(e=PQ(e,t,n,i,r,o,!0))&&o.setItemGraphicEl(t,e),e}function PQ(e,t,n,i,r,o,a){var s,l=!n,u=(n=n||{}).type,c=n.shape,h=n.style;if(e&&(l||null!=u&&u!==e.__customGraphicType||"path"===u&&((s=c)&&(s.hasOwnProperty("pathData")||s.hasOwnProperty("d")))&&EQ(c)!==e.__customPathData||"image"===u&&zQ(h,"image")&&h.image!==e.__customImagePath||"text"===u&&zQ(c,"text")&&h.text!==e.__customText)&&(r.remove(e),e=null),!l){var d=!e;return!e&&(e=function(e){var t,n=e.type;if("path"===n){var i=e.shape,r=null!=i.width&&null!=i.height?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,o=EQ(i);(t=aQ.makePath(o,null,r,i.layout||"center")).__customPathData=o}else if("image"===n)(t=new aQ.Image({})).__customImagePath=e.style.image;else if("text"===n)(t=new aQ.Text({})).__customText=e.style.text;else if("group"===n)t=new aQ.Group;else{if("compoundPath"===n)throw new Error('"compoundPath" is not supported yet.');t=new(aQ.getShapeClass(n))}return t.__customGraphicType=n,t.name=e.name,t}(n)),function(e,t,n,i,r,o,a){var s={},l=n.style||{};if(n.shape&&(s.shape=oQ.clone(n.shape)),n.position&&(s.position=n.position.slice()),n.scale&&(s.scale=n.scale.slice()),n.origin&&(s.origin=n.origin.slice()),n.rotation&&(s.rotation=n.rotation),"image"===e.type&&n.style){var u=s.style={};oQ.each(["x","y","width","height"],(function(t){AQ(t,u,l,e.style,o)}))}"text"===e.type&&n.style&&(u=s.style={},oQ.each(["x","y"],(function(t){AQ(t,u,l,e.style,o)})),!l.hasOwnProperty("textFill")&&l.fill&&(l.textFill=l.fill),!l.hasOwnProperty("textStroke")&&l.stroke&&(l.textStroke=l.stroke));if("group"!==e.type&&(e.useStyle(l),o)){e.style.opacity=0;var c=l.opacity;null==c&&(c=1),aQ.initProps(e,{style:{opacity:c}},i,t)}o?e.attr(s):aQ.updateProps(e,s,i,t),n.hasOwnProperty("z2")&&e.attr("z2",n.z2||0),n.hasOwnProperty("silent")&&e.attr("silent",n.silent),n.hasOwnProperty("invisible")&&e.attr("invisible",n.invisible),n.hasOwnProperty("ignore")&&e.attr("ignore",n.ignore),n.hasOwnProperty("info")&&e.attr("info",n.info);var h=n.styleEmphasis;aQ.setElementHoverStyle(e,h),a&&aQ.setAsHighDownDispatcher(e,!1!==h)}(e,t,n,i,0,d,a),"group"===u&&function(e,t,n,i,r){var o=n.children,a=o?o.length:0,s=n.$mergeChildren,l="byName"===s||n.diffChildrenByName,u=!1===s;if(!a&&!l&&!u)return;if(l)return c={oldChildren:e.children()||[],newChildren:o||[],dataIndex:t,animatableModel:i,group:e,data:r},void new cQ(c.oldChildren,c.newChildren,LQ,LQ,c).add(kQ).update(kQ).remove(RQ).execute();var c;u&&e.removeAll();for(var h=0;h<a;h++)o[h]&&PQ(e.childAt(h),t,o[h],i,e,r)}(e,t,n,i,o),r.add(e),e}}function LQ(e,t){var n=e&&e.name;return null!=n?n:"e\0\0"+t}function kQ(e,t){var n=this.context,i=null!=e?n.newChildren[e]:null;PQ(null!=t?n.oldChildren[t]:null,n.dataIndex,i,n.animatableModel,n.group,n.data)}function OQ(e,t){var n=new dQ({},t);return oQ.each(xQ,(function(t,i){e.hasOwnProperty(t)&&(n.option[i]=e[t])})),n}function NQ(e,t){for(var n in t)!t.hasOwnProperty(n)&&xQ.hasOwnProperty(n)||(e[n]=t[n])}function RQ(e){var t=this.context,n=t.oldChildren[e];n&&t.group.remove(n)}function EQ(e){return e&&(e.pathData||e.d)}function zQ(e,t){return e&&e.hasOwnProperty(t)}hQ.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0,clip:!1},getInitialData:function(e,t){return lQ(this.getSource(),this)},getDataParams:function(e,t,n){var i=hQ.prototype.getDataParams.apply(this,arguments);return n&&(i.info=n.info),i}}),fQ.extend({type:"custom",_data:null,render:function(e,t,n,i){var r=this._data,o=e.getData(),a=this.group,s=TQ(e,o,t,n);o.diff(r).add((function(t){DQ(null,t,s(t,i),e,a,o)})).update((function(t,n){DQ(r.getItemGraphicEl(n),t,s(t,i),e,a,o)})).remove((function(e){var t=r.getItemGraphicEl(e);t&&a.remove(t)})).execute();var l=e.get("clip",!0)?pQ(e.coordinateSystem,!1,e):null;l?a.setClipPath(l):a.removeClipPath(),this._data=o},incrementalPrepareRender:function(e,t,n){this.group.removeAll(),this._data=null},incrementalRender:function(e,t,n,i,r){var o=t.getData(),a=TQ(t,o,n,i);function s(e){e.isGroup||(e.incremental=!0,e.useHoverLayer=!0)}for(var l=e.start;l<e.end;l++){DQ(null,l,a(l,r),t,this.group,o).traverse(s)}},dispose:oQ.noop,filterForExposedEvent:function(e,t,n,i){var r=t.element;if(null==r||n.name===r)return!0;for(;(n=n.parent)&&n!==this.group;)if(n.name===r)return!0;return!1}});var BQ=g,VQ=Ih,GQ=Ah,FQ=Ff;function HQ(e,t,n){this._model=e}function WQ(e,t,n,i){var r=n.calendarModel,o=n.seriesModel,a=r?r.coordinateSystem:o?o.coordinateSystem:null;return a===this?a[e](i):null}HQ.prototype={constructor:HQ,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(e){var t=(e=GQ.parseDate(e)).getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var i=e.getDate();i=i<10?"0"+i:i;var r=e.getDay();return{y:t,m:n,d:i,day:r=Math.abs((r+7-this.getFirstDayOfWeek())%7),time:e.getTime(),formatedDate:t+"-"+n+"-"+i,date:e}},getNextNDay:function(e,t){return 0===(t=t||0)||(e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e)},update:function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],r=this._model.get("cellSize").slice(),o=this._model.getBoxLayoutParams(),a="horizontal"===this._orient?[n,7]:[7,n];BQ.each([0,1],(function(e){u(r,e)&&(o[i[e]]=r[e]*a[e])}));var s={width:t.getWidth(),height:t.getHeight()},l=this._rect=VQ.getLayoutRect(o,s);function u(e,t){return null!=e[t]&&"auto"!==e[t]}BQ.each([0,1],(function(e){u(r,e)||(r[e]=l[i[e]]/a[e])})),this._sw=r[0],this._sh=r[1]},dataToPoint:function(e,t){BQ.isArray(e)&&(e=e[0]),null==t&&(t=!0);var n=this.getDateInfo(e),i=this._rangeInfo,r=n.formatedDate;if(t&&!(n.time>=i.start.time&&n.time<i.end.time+864e5))return[NaN,NaN];var o=n.day,a=this._getRangeInfo([i.start.time,r]).nthWeek;return"vertical"===this._orient?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]:[this._rect.x+a*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},pointToData:function(e){var t=this.pointToDate(e);return t&&t.time},dataToRect:function(e,t){var n=this.dataToPoint(e,t);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},pointToDate:function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=Math.floor((e[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,t-1,i):this._getDateByWeeksAndDay(t,n-1,i)},convertToPixel:BQ.curry(WQ,"dataToPoint"),convertFromPixel:BQ.curry(WQ,"pointToData"),_initRangeOption:function(){var e=this._model.get("range"),t=e;if(BQ.isArray(t)&&1===t.length&&(t=t[0]),/^\d{4}$/.test(t)&&(e=[t+"-01-01",t+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(t)){var n=this.getDateInfo(t),i=n.date;i.setMonth(i.getMonth()+1);var r=this.getNextNDay(i,-1);e=[n.formatedDate,r.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(t)&&(e=[t,t]);var o=this._getRangeInfo(e);return o.start.time>o.end.time&&e.reverse(),e},_getRangeInfo:function(e){var t;(e=[this.getDateInfo(e[0]),this.getDateInfo(e[1])])[0].time>e[1].time&&(t=!0,e.reverse());var n=Math.floor(e[1].time/864e5)-Math.floor(e[0].time/864e5)+1,i=new Date(e[0].time),r=i.getDate(),o=e[1].date.getDate();i.setDate(r+n-1);var a=i.getDate();if(a!==o)for(var s=i.getTime()-e[1].time>0?1:-1;(a=i.getDate())!==o&&(i.getTime()-e[1].time)*s>0;)n-=s,i.setDate(a-s);var l=Math.floor((n+e[0].day+6)/7),u=t?1-l:l-1;return t&&e.reverse(),{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:n,weeks:l,nthWeek:u,fweek:e[0].day,lweek:e[1].day}},_getDateByWeeksAndDay:function(e,t,n){var i=this._getRangeInfo(n);if(e>i.weeks||0===e&&t<i.fweek||e===i.weeks&&t>i.lweek)return!1;var r=7*(e-1)-i.fweek+t,o=new Date(i.start.time);return o.setDate(i.start.d+r),this.getDateInfo(o)}},HQ.dimensions=HQ.prototype.dimensions,HQ.getDimensionsInfo=HQ.prototype.getDimensionsInfo,HQ.create=function(e,t){var n=[];return e.eachComponent("calendar",(function(i){var r=new HQ(i,e,t);n.push(r),i.coordinateSystem=r})),e.eachSeries((function(e){"calendar"===e.get("coordinateSystem")&&(e.coordinateSystem=n[e.get("calendarIndex")||0])})),n},FQ.register("calendar",HQ);var UQ=g,jQ=fd,ZQ=Ih,YQ=ZQ.getLayoutParams,XQ=ZQ.sizeCalculable,qQ=ZQ.mergeLayoutParam,KQ=jQ.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(e,t,n,i){var r=YQ(e);KQ.superApply(this,"init",arguments),JQ(e,r)},mergeOption:function(e,t){KQ.superApply(this,"mergeOption",arguments),JQ(this.option,e)}});function JQ(e,t){var n=e.cellSize;UQ.isArray(n)?1===n.length&&(n[1]=n[0]):n=e.cellSize=[n,n];var i=UQ.map([0,1],(function(e){return XQ(t,e)&&(n[e]="auto"),null!=n[e]&&"auto"!==n[e]}));qQ(e,t,{type:"box",ignoreSize:i})}var QQ=g,$Q=Ia,e$=Ph,t$=Ah,n$={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["","","","","","","","","","","",""]},i$={EN:["S","M","T","W","T","F","S"],CN:["","","","","","",""]};c.extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(e,t,n){var i=this.group;i.removeAll();var r=e.coordinateSystem,o=r.getRangeInfo(),a=r.getOrient();this._renderDayRect(e,o,i),this._renderLines(e,o,a,i),this._renderYearText(e,o,a,i),this._renderMonthText(e,a,i),this._renderWeekText(e,o,a,i)},_renderDayRect:function(e,t,n){for(var i=e.coordinateSystem,r=e.getModel("itemStyle").getItemStyle(),o=i.getCellWidth(),a=i.getCellHeight(),s=t.start.time;s<=t.end.time;s=i.getNextNDay(s,1).time){var l=i.dataToRect([s],!1).tl,u=new $Q.Rect({shape:{x:l[0],y:l[1],width:o,height:a},cursor:"default",style:r});n.add(u)}},_renderLines:function(e,t,n,i){var r=this,o=e.coordinateSystem,a=e.getModel("splitLine.lineStyle").getLineStyle(),s=e.get("splitLine.show"),l=a.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var u=t.start,c=0;u.time<=t.end.time;c++){d(u.formatedDate),0===c&&(u=o.getDateInfo(t.start.y+"-"+t.start.m));var h=u.date;h.setMonth(h.getMonth()+1),u=o.getDateInfo(h)}function d(t){r._firstDayOfMonth.push(o.getDateInfo(t)),r._firstDayPoints.push(o.dataToRect([t],!1).tl);var l=r._getLinePointsOfOneWeek(e,t,n);r._tlpoints.push(l[0]),r._blpoints.push(l[l.length-1]),s&&r._drawSplitline(l,a,i)}d(o.getNextNDay(t.end.time,1).formatedDate),s&&this._drawSplitline(r._getEdgesPoints(r._tlpoints,l,n),a,i),s&&this._drawSplitline(r._getEdgesPoints(r._blpoints,l,n),a,i)},_getEdgesPoints:function(e,t,n){var i=[e[0].slice(),e[e.length-1].slice()],r="horizontal"===n?0:1;return i[0][r]=i[0][r]-t/2,i[1][r]=i[1][r]+t/2,i},_drawSplitline:function(e,t,n){var i=new $Q.Polyline({z2:20,shape:{points:e},style:t});n.add(i)},_getLinePointsOfOneWeek:function(e,t,n){var i=e.coordinateSystem;t=i.getDateInfo(t);for(var r=[],o=0;o<7;o++){var a=i.getNextNDay(t.time,o),s=i.dataToRect([a.time],!1);r[2*a.day]=s.tl,r[2*a.day+1]=s["horizontal"===n?"bl":"tr"]}return r},_formatterLabel:function(e,t){return"string"==typeof e&&e?e$.formatTplSimple(e,t):"function"==typeof e?e(t):t.nameMap},_yearTextPositionControl:function(e,t,n,i,r){t=t.slice();var o=["center","bottom"];"bottom"===i?(t[1]+=r,o=["center","top"]):"left"===i?t[0]-=r:"right"===i?(t[0]+=r,o=["center","top"]):t[1]-=r;var a=0;return"left"!==i&&"right"!==i||(a=Math.PI/2),{rotation:a,position:t,style:{textAlign:o[0],textVerticalAlign:o[1]}}},_renderYearText:function(e,t,n,i){var r=e.getModel("yearLabel");if(r.get("show")){var o=r.get("margin"),a=r.get("position");a||(a="horizontal"!==n?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(s[0][0]+s[1][0])/2,u=(s[0][1]+s[1][1])/2,c="horizontal"===n?0:1,h={top:[l,s[c][1]],bottom:[l,s[1-c][1]],left:[s[1-c][0],u],right:[s[c][0],u]},d=t.start.y;+t.end.y>+t.start.y&&(d=d+"-"+t.end.y);var f=r.get("formatter"),p={start:t.start.y,end:t.end.y,nameMap:d},g=this._formatterLabel(f,p),m=new $Q.Text({z2:30});$Q.setTextStyle(m.style,r,{text:g}),m.attr(this._yearTextPositionControl(m,h[a],n,a,o)),i.add(m)}},_monthTextPositionControl:function(e,t,n,i,r){var o="left",a="top",s=e[0],l=e[1];return"horizontal"===n?(l+=r,t&&(o="center"),"start"===i&&(a="bottom")):(s+=r,t&&(a="middle"),"start"===i&&(o="right")),{x:s,y:l,textAlign:o,textVerticalAlign:a}},_renderMonthText:function(e,t,n){var i=e.getModel("monthLabel");if(i.get("show")){var r=i.get("nameMap"),o=i.get("margin"),a=i.get("position"),s=i.get("align"),l=[this._tlpoints,this._blpoints];QQ.isString(r)&&(r=n$[r.toUpperCase()]||[]);var u="start"===a?0:1,c="horizontal"===t?0:1;o="start"===a?-o:o;for(var h="center"===s,d=0;d<l[u].length-1;d++){var f=l[u][d].slice(),p=this._firstDayOfMonth[d];if(h){var g=this._firstDayPoints[d];f[c]=(g[c]+l[0][d+1][c])/2}var m=i.get("formatter"),v=r[+p.m-1],y={yyyy:p.y,yy:(p.y+"").slice(2),MM:p.m,M:+p.m,nameMap:v},_=this._formatterLabel(m,y),x=new $Q.Text({z2:30});QQ.extend($Q.setTextStyle(x.style,i,{text:_}),this._monthTextPositionControl(f,h,t,a,o)),n.add(x)}}},_weekTextPositionControl:function(e,t,n,i,r){var o="center",a="middle",s=e[0],l=e[1],u="start"===n;return"horizontal"===t?(s=s+i+(u?1:-1)*r[0]/2,o=u?"right":"left"):(l=l+i+(u?1:-1)*r[1]/2,a=u?"bottom":"top"),{x:s,y:l,textAlign:o,textVerticalAlign:a}},_renderWeekText:function(e,t,n,i){var r=e.getModel("dayLabel");if(r.get("show")){var o=e.coordinateSystem,a=r.get("position"),s=r.get("nameMap"),l=r.get("margin"),u=o.getFirstDayOfWeek();QQ.isString(s)&&(s=i$[s.toUpperCase()]||[]);var c=o.getNextNDay(t.end.time,7-t.lweek).time,h=[o.getCellWidth(),o.getCellHeight()];l=t$.parsePercent(l,h["horizontal"===n?0:1]),"start"===a&&(c=o.getNextNDay(t.start.time,-(7+t.fweek)).time,l=-l);for(var d=0;d<7;d++){var f,p=o.getNextNDay(c,d),g=o.dataToRect([p.time],!1).center;f=Math.abs((d+u)%7);var m=new $Q.Text({z2:30});QQ.extend($Q.setTextStyle(m.style,r,{text:s[f]}),this._weekTextPositionControl(g,n,a,l,h)),i.add(m)}}}});var r$=c,o$=g,a$=na,s$=Ia,l$=Ih,u$=Ah.parsePercent,c$={path:null,compoundPath:null,group:s$.Group,image:s$.Image,text:s$.Text};r$.registerPreprocessor((function(e){var t=e.graphic;o$.isArray(t)?t[0]&&t[0].elements?e.graphic=[e.graphic[0]]:e.graphic=[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])}));var h$=r$.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(e){var t=this.option.elements;this.option.elements=null,h$.superApply(this,"mergeOption",arguments),this.option.elements=t},optionUpdated:function(e,t){var n=this.option,i=(t?n:e).elements,r=n.elements=t?[]:n.elements,o=[];this._flatten(i,o);var a=a$.mappingToExists(r,o);a$.makeIdAndName(a);var s=this._elOptionsToUpdate=[];o$.each(a,(function(e,t){var n=e.option;n&&(s.push(n),function(e,t){var n=e.exist;if(t.id=e.keyInfo.id,!t.type&&n&&(t.type=n.type),null==t.parentId){var i=t.parentOption;i?t.parentId=i.id:n&&(t.parentId=n.parentId)}t.parentOption=null}(e,n),function(e,t,n){var i=o$.extend({},n),r=e[t],o=n.$action||"merge";"merge"===o?r?(o$.merge(r,i,!0),l$.mergeLayoutParam(r,i,{ignoreSize:!0}),l$.copyLayoutParams(n,r)):e[t]=i:"replace"===o?e[t]=i:"remove"===o&&r&&(e[t]=null)}(r,t,n),function(e,t){if(!e)return;e.hv=t.hv=[p$(t,["left","right"]),p$(t,["top","bottom"])],"group"===e.type&&(null==e.width&&(e.width=t.width=0),null==e.height&&(e.height=t.height=0))}(r[t],n))}),this);for(var l=r.length-1;l>=0;l--)null==r[l]?r.splice(l,1):delete r[l].$action},_flatten:function(e,t,n){o$.each(e,(function(e){if(e){n&&(e.parentOption=n),t.push(e);var i=e.children;"group"===e.type&&i&&this._flatten(i,t,e),delete e.children}}),this)},useElOptionsToUpdate:function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e}});function d$(e,t,n,i){var r=n.type,o=new(c$.hasOwnProperty(r)?c$[r]:s$.getShapeClass(r))(n);t.add(o),i.set(e,o),o.__ecGraphicId=e}function f$(e,t){var n=e&&e.parent;n&&("group"===e.type&&e.traverse((function(e){f$(e,t)})),t.removeKey(e.__ecGraphicId),n.remove(e))}function p$(e,t){var n;return o$.each(t,(function(t){null!=e[t]&&"auto"!==e[t]&&(n=!0)})),n}r$.extendComponentView({type:"graphic",init:function(e,t){this._elMap=o$.createHashMap(),this._lastGraphicModel},render:function(e,t,n){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,n)},_updateElements:function(e){var t=e.useElOptionsToUpdate();if(t){var n=this._elMap,i=this.group;o$.each(t,(function(t){var r=t.$action,o=t.id,a=n.get(o),s=t.parentId,l=null!=s?n.get(s):i,u=t.style;"text"===t.type&&u&&(t.hv&&t.hv[1]&&(u.textVerticalAlign=u.textBaseline=null),!u.hasOwnProperty("textFill")&&u.fill&&(u.textFill=u.fill),!u.hasOwnProperty("textStroke")&&u.stroke&&(u.textStroke=u.stroke));var c=function(e){return e=o$.extend({},e),o$.each(["id","parentId","$action","hv","bounding"].concat(l$.LOCATION_PARAMS),(function(t){delete e[t]})),e}(t);r&&"merge"!==r?"replace"===r?(f$(a,n),d$(o,l,c,n)):"remove"===r&&f$(a,n):a?a.attr(c):d$(o,l,c,n);var h=n.get(o);h&&(h.__ecGraphicWidthOption=t.width,h.__ecGraphicHeightOption=t.height,function(e,t,n){var i=e.eventData;e.silent||e.ignore||i||(i=e.eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name});i&&(i.info=e.info)}(h,e))}))}},_relocate:function(e,t){for(var n=e.option.elements,i=this.group,r=this._elMap,o=t.getWidth(),a=t.getHeight(),s=0;s<n.length;s++){var l=n[s];if((c=r.get(l.id))&&c.isGroup){var u=(h=c.parent)===i;c.__ecGraphicWidth=u$(c.__ecGraphicWidthOption,u?o:h.__ecGraphicWidth)||0,c.__ecGraphicHeight=u$(c.__ecGraphicHeightOption,u?a:h.__ecGraphicHeight)||0}}for(s=n.length-1;s>=0;s--){var c;l=n[s];if(c=r.get(l.id)){var h,d=(h=c.parent)===i?{width:o,height:a}:{width:h.__ecGraphicWidth,height:h.__ecGraphicHeight};l$.positionElement(c,l,d,null,{hv:l.hv,boundingMode:l.bounding})}}},_clear:function(){var e=this._elMap;e.each((function(t){f$(t,e)})),this._elMap=o$.createHashMap()},dispose:function(){this._clear()}});var g$={},m$={};g$.register=function(e,t){m$[e]=t},g$.get=function(e){return m$[e]};var v$=g,y$=g$,_$=c.extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){_$.superApply(this,"optionUpdated",arguments),v$.each(this.option.feature,(function(e,t){var n=y$.get(t);n&&v$.merge(e,n.defaultOption)}))},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1}}}),x$=g,b$=xi,w$=g$,S$=Ia,M$=xh,I$=gy,A$=RS;c.extendComponentView({type:"toolbox",render:function(e,t,n,i){var r=this.group;if(r.removeAll(),e.get("show")){var o=+e.get("itemSize"),a=e.get("feature")||{},s=this._features||(this._features={}),l=[];x$.each(a,(function(e,t){l.push(t)})),new I$(this._featureNames||[],l).add(u).update(u).remove(x$.curry(u,null)).execute(),this._featureNames=l,A$.layout(r,e,n),r.add(A$.makeBackground(r.getBoundingRect(),e)),r.eachChild((function(e){var t=e.__title,i=e.hoverStyle;if(i&&t){var a=b$.getBoundingRect(t,b$.makeFont(i)),s=e.position[0]+r.position[0],l=!1;e.position[1]+r.position[1]+o+a.height>n.getHeight()&&(i.textPosition="top",l=!0);var u=l?-5-a.height:o+8;s+a.width/2>n.getWidth()?(i.textPosition=["100%",u],i.textAlign="right"):s-a.width/2<0&&(i.textPosition=[0,u],i.textAlign="left")}}))}function u(u,c){var h,d=l[u],f=l[c],p=a[d],g=new M$(p,e,e.ecModel);if(i&&null!=i.newTitle&&i.featureName===d&&(p.title=i.newTitle),d&&!f){if(function(e){return 0===e.indexOf("my")}(d))h={model:g,onclick:g.option.onclick,featureName:d};else{var m=w$.get(d);if(!m)return;h=new m(g,t,n)}s[d]=h}else{if(!(h=s[f]))return;h.model=g,h.ecModel=t,h.api=n}d||!f?g.get("show")&&!h.unusable?(!function(i,a,s){var l=i.getModel("iconStyle"),u=i.getModel("emphasis.iconStyle"),c=a.getIcons?a.getIcons():i.get("icon"),h=i.get("title")||{};if("string"==typeof c){var d=c,f=h;h={},(c={})[s]=d,h[s]=f}var p=i.iconPaths={};x$.each(c,(function(s,c){var d=S$.createIcon(s,{},{x:-o/2,y:-o/2,width:o,height:o});d.setStyle(l.getItemStyle()),d.hoverStyle=u.getItemStyle(),d.setStyle({text:h[c],textAlign:u.get("textAlign"),textBorderRadius:u.get("textBorderRadius"),textPadding:u.get("textPadding"),textFill:null});var f=e.getModel("tooltip");f&&f.get("show")&&d.attr("tooltip",x$.extend({content:h[c],formatter:f.get("formatter",!0)||function(){return h[c]},formatterParams:{componentType:"toolbox",name:c,title:h[c],$vars:["name","title"]},position:f.get("position",!0)||"bottom"},f.option)),S$.setHoverStyle(d),e.get("showTitle")&&(d.__title=h[c],d.on("mouseover",(function(){var t=u.getItemStyle(),n="vertical"===e.get("orient")?null==e.get("right")?"right":"left":null==e.get("bottom")?"bottom":"top";d.setStyle({textFill:u.get("textFill")||t.fill||t.stroke||"#000",textBackgroundColor:u.get("textBackgroundColor"),textPosition:u.get("textPosition")||n})})).on("mouseout",(function(){d.setStyle({textFill:null,textBackgroundColor:null})}))),d.trigger(i.get("iconStatus."+c)||"normal"),r.add(d),d.on("click",x$.bind(a.onclick,a,t,n,c)),p[c]=d}))}(g,h,d),g.setIconStatus=function(e,t){var n=this.option,i=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[e]=t,i[e]&&i[e].trigger(t)},h.render&&h.render(g,t,n,i)):h.remove&&h.remove(t,n):h.dispose&&h.dispose(t,n)}},updateView:function(e,t,n,i){x$.each(this._features,(function(e){e.updateView&&e.updateView(e.model,t,n,i)}))},remove:function(e,t){x$.each(this._features,(function(n){n.remove&&n.remove(e,t)})),this.group.removeAll()},dispose:function(e,t){x$.each(this._features,(function(n){n.dispose&&n.dispose(e,t)}))}});var T$=p,C$=g$,D$=wm.toolbox.saveAsImage;function P$(e){this.model=e}P$.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:D$.title,type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:D$.lang.slice()},P$.prototype.unusable=!T$.canvasSupported,P$.prototype.onclick=function(e,t){var n=this.model,i=n.get("name")||e.get("title.0.text")||"echarts",r="svg"===t.getZr().painter.getType()?"svg":n.get("type",!0)||"png",o=t.getConnectedDataURL({type:r,backgroundColor:n.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if("function"!=typeof MouseEvent||T$.browser.ie||T$.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var a=atob(o.split(",")[1]),s=a.length,l=new Uint8Array(s);s--;)l[s]=a.charCodeAt(s);var u=new Blob([l]);window.navigator.msSaveOrOpenBlob(u,i+"."+r)}else{var c=n.get("lang"),h='<body style="margin:0;"><img src="'+o+'" style="max-width:100%;" title="'+(c&&c[0]||"")+'" /></body>';window.open().document.write(h)}else{var d=document.createElement("a");d.download=i+"."+r,d.target="_blank",d.href=o;var f=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});d.dispatchEvent(f)}},C$.register("saveAsImage",P$);var L$=c,k$=g,O$=g$,N$=wm.toolbox.magicType;function R$(e){this.model=e}R$.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:k$.clone(N$.title),option:{},seriesIndex:{}};var E$=R$.prototype;E$.getIcons=function(){var e=this.model,t=e.get("icon"),n={};return k$.each(e.get("type"),(function(e){t[e]&&(n[e]=t[e])})),n};var z$={line:function(e,t,n,i){if("bar"===e)return k$.merge({id:t,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.line")||{},!0)},bar:function(e,t,n,i){if("line"===e)return k$.merge({id:t,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.bar")||{},!0)},stack:function(e,t,n,i){var r="__ec_magicType_stack__"===n.get("stack");if("line"===e||"bar"===e)return i.setIconStatus("stack",r?"normal":"emphasis"),k$.merge({id:t,stack:r?"":"__ec_magicType_stack__"},i.get("option.stack")||{},!0)}},B$=[["line","bar"],["stack"]];E$.onclick=function(e,t,n){var i=this.model,r=i.get("seriesIndex."+n);if(z$[n]){var o,a={series:[]};if(k$.each(B$,(function(e){k$.indexOf(e,n)>=0&&k$.each(e,(function(e){i.setIconStatus(e,"normal")}))})),i.setIconStatus(n,"emphasis"),e.eachComponent({mainType:"series",query:null==r?null:{seriesIndex:r}},(function(t){var r=t.subType,o=t.id,s=z$[n](r,o,t,i);s&&(k$.defaults(s,t.option),a.series.push(s));var l=t.coordinateSystem;if(l&&"cartesian2d"===l.type&&("line"===n||"bar"===n)){var u=l.getAxesByScale("ordinal")[0];if(u){var c=u.dim+"Axis",h=e.queryComponents({mainType:c,index:t.get(name+"Index"),id:t.get(name+"Id")})[0].componentIndex;a[c]=a[c]||[];for(var d=0;d<=h;d++)a[c][h]=a[c][h]||{};a[c][h].boundaryGap="bar"===n}}})),"stack"===n)o=a.series&&a.series[0]&&"__ec_magicType_stack__"===a.series[0].stack?k$.merge({stack:N$.title.tiled},N$.title):k$.clone(N$.title);t.dispatchAction({type:"changeMagicType",currentType:n,newOption:a,newTitle:o,featureName:"magicType"})}},L$.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(e,t){t.mergeOption(e.newOption)})),O$.register("magicType",R$);var V$=c,G$=g,F$=ne,H$=g$,W$=wm.toolbox.dataView,U$=new Array(60).join("-");function j$(e){return G$.map(e,(function(e){var t=e.getRawData(),n=[e.name],i=[];return t.each(t.dimensions,(function(){for(var e=arguments.length,r=arguments[e-1],o=t.getName(r),a=0;a<e-1;a++)i[a]=arguments[a];n.push((o?o+"\t":"")+i.join("\t"))})),n.join("\n")})).join("\n\n"+U$+"\n\n")}function Z$(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var Y$=new RegExp("[\t]+","g");function X$(e,t){var n=e.split(new RegExp("\n*"+U$+"\n*","g")),i={series:[]};return G$.each(n,(function(e,n){if(function(e){if(e.slice(0,e.indexOf("\n")).indexOf("\t")>=0)return!0}(e)){var r=function(e){for(var t=e.split(/\n+/g),n=Z$(t.shift()).split(Y$),i=[],r=G$.map(n,(function(e){return{name:e,data:[]}})),o=0;o<t.length;o++){var a=Z$(t[o]).split(Y$);i.push(a.shift());for(var s=0;s<a.length;s++)r[s]&&(r[s].data[o]=a[s])}return{series:r,categories:i}}(e),o=t[n],a=o.axisDim+"Axis";o&&(i[a]=i[a]||[],i[a][o.axisIndex]={data:r.categories},i.series=i.series.concat(r.series))}else{r=function(e){for(var t=e.split(/\n+/g),n=Z$(t.shift()),i=[],r=0;r<t.length;r++){var o=Z$(t[r]);if(o){var a,s=o.split(Y$),l="",u=!1;isNaN(s[0])?(u=!0,l=s[0],s=s.slice(1),i[r]={name:l,value:[]},a=i[r].value):a=i[r]=[];for(var c=0;c<s.length;c++)a.push(+s[c]);1===a.length&&(u?i[r].value=a[0]:i[r]=a[0])}}return{name:n,data:i}}(e);i.series.push(r)}})),i}function q$(e){this._dom=null,this.model=e}function K$(e,t){return G$.map(e,(function(e,n){var i=t&&t[n];if(G$.isObject(i)&&!G$.isArray(i)){G$.isObject(e)&&!G$.isArray(e)||(e={value:e});var r=null!=i.name&&null==e.name;return e=G$.defaults(e,i),r&&delete e.name,e}return e}))}q$.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:G$.clone(W$.title),lang:G$.clone(W$.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},q$.prototype.onclick=function(e,t){var n=t.getDom(),i=this.model;this._dom&&n.removeChild(this._dom);var r=document.createElement("div");r.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",r.style.backgroundColor=i.get("backgroundColor")||"#fff";var o=document.createElement("h4"),a=i.get("lang")||[];o.innerHTML=a[0]||i.get("title"),o.style.cssText="margin: 10px 20px;",o.style.color=i.get("textColor");var s=document.createElement("div"),l=document.createElement("textarea");s.style.cssText="display:block;width:100%;overflow:auto;";var u=i.get("optionToContent"),c=i.get("contentToOption"),h=function(e){var t,n,i=function(e){var t={},n=[],i=[];return e.eachRawSeries((function(e){var r=e.coordinateSystem;if(!r||"cartesian2d"!==r.type&&"polar"!==r.type)n.push(e);else{var o=r.getBaseAxis();if("category"===o.type){var a=o.dim+"_"+o.index;t[a]||(t[a]={categoryAxis:o,valueAxis:r.getOtherAxis(o),series:[]},i.push({axisDim:o.dim,axisIndex:o.index})),t[a].series.push(e)}else n.push(e)}})),{seriesGroupByCategoryAxis:t,other:n,meta:i}}(e);return{value:G$.filter([(t=i.seriesGroupByCategoryAxis,n=[],G$.each(t,(function(e,t){var i=e.categoryAxis,r=e.valueAxis.dim,o=[" "].concat(G$.map(e.series,(function(e){return e.name}))),a=[i.model.getCategories()];G$.each(e.series,(function(e){var t=e.getRawData();a.push(e.getRawData().mapArray(t.mapDimension(r),(function(e){return e})))}));for(var s=[o.join("\t")],l=0;l<a[0].length;l++){for(var u=[],c=0;c<a.length;c++)u.push(a[c][l]);s.push(u.join("\t"))}n.push(s.join("\n"))})),n.join("\n\n"+U$+"\n\n")),j$(i.other)],(function(e){return e.replace(/[\n\t\s]/g,"")})).join("\n\n"+U$+"\n\n"),meta:i.meta}}(e);if("function"==typeof u){var d=u(t.getOption());"string"==typeof d?s.innerHTML=d:G$.isDom(d)&&s.appendChild(d)}else s.appendChild(l),l.readOnly=i.get("readOnly"),l.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",l.style.color=i.get("textColor"),l.style.borderColor=i.get("textareaBorderColor"),l.style.backgroundColor=i.get("textareaColor"),l.value=h.value;var f=h.meta,p=document.createElement("div");p.style.cssText="position:absolute;bottom:0;left:0;right:0;";var g="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",m=document.createElement("div"),v=document.createElement("div");g+=";background-color:"+i.get("buttonColor"),g+=";color:"+i.get("buttonTextColor");var y=this;function _(){n.removeChild(r),y._dom=null}F$.addEventListener(m,"click",_),F$.addEventListener(v,"click",(function(){var e;try{e="function"==typeof c?c(s,t.getOption()):X$(l.value,f)}catch(n){throw _(),new Error("Data view format error "+n)}e&&t.dispatchAction({type:"changeDataView",newOption:e}),_()})),m.innerHTML=a[1],v.innerHTML=a[2],v.style.cssText=g,m.style.cssText=g,!i.get("readOnly")&&p.appendChild(v),p.appendChild(m),r.appendChild(o),r.appendChild(s),r.appendChild(p),s.style.height=n.clientHeight-80+"px",n.appendChild(r),this._dom=r},q$.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},q$.prototype.dispose=function(e,t){this.remove(e,t)},H$.register("dataView",q$),V$.registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(e,t){var n=[];G$.each(e.newOption.series,(function(e){var i=t.getSeriesByName(e.name)[0];if(i){var r=i.get("data");n.push({name:e.name,data:K$(e.data,r)})}else n.push(G$.extend({type:"scatter"},e))})),t.mergeOption(G$.defaults({series:n},e.newOption))}));var J$=g,Q$=Ia,$$=na,e0=nZ,t0=J$.each,n0=J$.indexOf,i0=J$.curry,r0=["dataToPoint","pointToData"],o0=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function a0(e,t,n){var i=this._targetInfoList=[],r={},o=u0(t,e);t0(c0,(function(e,t){(!n||!n.include||n0(n.include,t)>=0)&&e(o,i,r)}))}var s0=a0.prototype;function l0(e){return e[0]>e[1]&&e.reverse(),e}function u0(e,t){return $$.parseFinder(e,t,{includeMainTypes:o0})}s0.setOutputRanges=function(e,t){this.matchOutputRanges(e,t,(function(e,t,n){if((e.coordRanges||(e.coordRanges=[])).push(t),!e.coordRange){e.coordRange=t;var i=f0[e.brushType](0,n,t);e.__rangeOffset={offset:g0[e.brushType](i.values,e.range,[1,1]),xyMinMax:i.xyMinMax}}}))},s0.matchOutputRanges=function(e,t,n){t0(e,(function(e){var i=this.findTargetInfo(e,t);i&&!0!==i&&J$.each(i.coordSyses,(function(i){var r=f0[e.brushType](1,i,e.range);n(e,r.values,i,t)}))}),this)},s0.setInputRanges=function(e,t){t0(e,(function(e){var n,i,r,o,a,s=this.findTargetInfo(e,t);if(e.range=e.range||[],s&&!0!==s){e.panelId=s.panelId;var l=f0[e.brushType](0,s.coordSys,e.coordRange),u=e.__rangeOffset;e.range=u?g0[e.brushType](l.values,u.offset,(n=l.xyMinMax,i=u.xyMinMax,r=v0(n),o=v0(i),a=[r[0]/o[0],r[1]/o[1]],isNaN(a[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a)):l.values}}),this)},s0.makePanelOpts=function(e,t){return J$.map(this._targetInfoList,(function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t&&t(n),clipPath:e0.makeRectPanelClipPath(i),isTargetByCursor:e0.makeRectIsTargetByCursor(i,e,n.coordSysModel),getLinearBrushOtherExtent:e0.makeLinearBrushOtherExtent(i)}}))},s0.controlSeries=function(e,t,n){var i=this.findTargetInfo(e,n);return!0===i||i&&n0(i.coordSyses,t.coordinateSystem)>=0},s0.findTargetInfo=function(e,t){for(var n=this._targetInfoList,i=u0(t,e),r=0;r<n.length;r++){var o=n[r],a=e.panelId;if(a){if(o.panelId===a)return o}else for(r=0;r<h0.length;r++)if(h0[r](i,o))return o}return!0};var c0={grid:function(e,t){var n=e.xAxisModels,i=e.yAxisModels,r=e.gridModels,o=J$.createHashMap(),a={},s={};(n||i||r)&&(t0(n,(function(e){var t=e.axis.grid.model;o.set(t.id,t),a[t.id]=!0})),t0(i,(function(e){var t=e.axis.grid.model;o.set(t.id,t),s[t.id]=!0})),t0(r,(function(e){o.set(e.id,e),a[e.id]=!0,s[e.id]=!0})),o.each((function(e){var r=e.coordinateSystem,o=[];t0(r.getCartesians(),(function(e,t){(n0(n,e.getAxis("x").model)>=0||n0(i,e.getAxis("y").model)>=0)&&o.push(e)})),t.push({panelId:"grid--"+e.id,gridModel:e,coordSysModel:e,coordSys:o[0],coordSyses:o,getPanelRect:d0.grid,xAxisDeclared:a[e.id],yAxisDeclared:s[e.id]})})))},geo:function(e,t){t0(e.geoModels,(function(e){var n=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:n,coordSyses:[n],getPanelRect:d0.geo})}))}},h0=[function(e,t){var n=e.xAxisModel,i=e.yAxisModel,r=e.gridModel;return!r&&n&&(r=n.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===t.gridModel},function(e,t){var n=e.geoModel;return n&&n===t.geoModel}],d0={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(Q$.getTransform(e)),t}},f0={lineX:i0(p0,0),lineY:i0(p0,1),rect:function(e,t,n){var i=t[r0[e]]([n[0][0],n[1][0]]),r=t[r0[e]]([n[0][1],n[1][1]]),o=[l0([i[0],r[0]]),l0([i[1],r[1]])];return{values:o,xyMinMax:o}},polygon:function(e,t,n){var i=[[1/0,-1/0],[1/0,-1/0]];return{values:J$.map(n,(function(n){var r=t[r0[e]](n);return i[0][0]=Math.min(i[0][0],r[0]),i[1][0]=Math.min(i[1][0],r[1]),i[0][1]=Math.max(i[0][1],r[0]),i[1][1]=Math.max(i[1][1],r[1]),r})),xyMinMax:i}}};function p0(e,t,n,i){var r=n.getAxis(["x","y"][e]),o=l0(J$.map([0,1],(function(e){return t?r.coordToData(r.toLocalCoord(i[e])):r.toGlobalCoord(r.dataToCoord(i[e]))}))),a=[];return a[e]=o,a[1-e]=[NaN,NaN],{values:o,xyMinMax:a}}var g0={lineX:i0(m0,0),lineY:i0(m0,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,t,n){return J$.map(e,(function(e,i){return[e[0]-n[0]*t[i][0],e[1]-n[1]*t[i][1]]}))}};function m0(e,t,n,i){return[t[0]-i[e]*n[0],t[1]-i[e]*n[1]]}function v0(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var y0=a0,_0={},x0=g.each,b0="\0_ec_hist_store";function w0(e){var t=e[b0];return t||(t=e[b0]=[{}]),t}_0.push=function(e,t){var n=w0(e);x0(t,(function(t,i){for(var r=n.length-1;r>=0;r--){if(n[r][i])break}if(r<0){var o=e.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(o){var a=o.getPercentRange();n[0][i]={dataZoomId:i,start:a[0],end:a[1]}}}})),n.push(t)},_0.pop=function(e){var t=w0(e),n=t[t.length-1];t.length>1&&t.pop();var i={};return x0(n,(function(e,n){for(var r=t.length-1;r>=0;r--){if(e=t[r][n]){i[n]=e;break}}})),i},_0.clear=function(e){e[b0]=null},_0.count=function(e){return w0(e).length},fd.registerSubTypeDefaulter("dataZoom",(function(){return"slider"}));var S0={},M0=g,I0=Ph,A0=["cartesian2d","polar","singleAxis"];function T0(e,t){e=e.slice();var n=M0.map(e,I0.capitalFirst);t=(t||[]).slice();var i=M0.map(t,I0.capitalFirst);return function(r,o){M0.each(e,(function(e,a){for(var s={name:e,capital:n[a]},l=0;l<t.length;l++)s[t[l]]=e+i[l];r.call(o,s)}))}}var C0=T0(["x","y","z","radius","angle","single"],["axisIndex","axis","index","id"]);S0.isCoordSupported=function(e){return M0.indexOf(A0,e)>=0},S0.createNameEach=T0,S0.eachAxisDim=C0,S0.createLinkedNodesFinder=function(e,t,n){return function(r){var o,a={nodes:[],records:{}};if(t((function(e){a.records[e.name]={}})),!r)return a;i(r,a);do{o=!1,e(s)}while(o);function s(e){!function(e,t){return M0.indexOf(t.nodes,e)>=0}(e,a)&&function(e,i){var r=!1;return t((function(t){M0.each(n(e,t)||[],(function(e){i.records[t.name][e]&&(r=!0)}))})),r}(e,a)&&(i(e,a),o=!0)}return a};function i(e,i){i.nodes.push(e),t((function(t){M0.each(n(e,t)||[],(function(e){i.records[t.name][e]=!0}))}))}};var D0=g,P0=Ah,L0=S0,k0=Jz,O0=D0.each,N0=P0.asc,R0=function(e,t,n,i){this._dimName=e,this._axisIndex=t,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=i,this._dataZoomModel=n};function E0(e,t){var n=e.getAxisModel(),i=e._percentWindow,r=e._valueWindow;if(i){var o=P0.getPixelPrecision(r,[0,500]);o=Math.min(o,20);var a=t||0===i[0]&&100===i[1];n.setRange(a?null:+r[0].toFixed(o),a?null:+r[1].toFixed(o))}}R0.prototype={constructor:R0,hostedBy:function(e){return this._dataZoomModel===e},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var e=[],t=this.ecModel;return t.eachSeries((function(n){if(L0.isCoordSupported(n.get("coordinateSystem"))){var i=this._dimName,r=t.queryComponents({mainType:i+"Axis",index:n.get(i+"AxisIndex"),id:n.get(i+"AxisId")})[0];this._axisIndex===(r&&r.componentIndex)&&e.push(n)}}),this),e},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var e,t,n,i=this._dimName,r=this.ecModel,o=this.getAxisModel();return"x"===i||"y"===i?(t="gridIndex",e="x"===i?"y":"x"):(t="polarIndex",e="angle"===i?"radius":"angle"),r.eachComponent(e+"Axis",(function(e){(e.get(t)||0)===(o.get(t)||0)&&(n=e)})),n},getMinMaxSpan:function(){return D0.clone(this._minMaxSpan)},calculateDataWindow:function(e){var t,n=this._dataExtent,i=this.getAxisModel().axis.scale,r=this._dataZoomModel.getRangePropMode(),o=[0,100],a=[],s=[];O0(["start","end"],(function(l,u){var c=e[l],h=e[l+"Value"];"percent"===r[u]?(null==c&&(c=o[u]),h=i.parse(P0.linearMap(c,o,n))):(t=!0,h=null==h?n[u]:i.parse(h),c=P0.linearMap(h,n,o)),s[u]=h,a[u]=c})),N0(s),N0(a);var l=this._minMaxSpan;function u(e,t,n,r,o){var a=o?"Span":"ValueSpan";k0(0,e,n,"all",l["min"+a],l["max"+a]);for(var s=0;s<2;s++)t[s]=P0.linearMap(e[s],n,r,!0),o&&(t[s]=i.parse(t[s]))}return t?u(s,a,n,o,!1):u(a,s,o,n,!0),{valueWindow:s,percentWindow:a}},reset:function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function(e,t,n){var i=[1/0,-1/0];O0(n,(function(e){var n=e.getData();n&&O0(n.mapDimension(t,!0),(function(e){var t=n.getApproximateExtent(e);t[0]<i[0]&&(i[0]=t[0]),t[1]>i[1]&&(i[1]=t[1])}))})),i[1]<i[0]&&(i=[NaN,NaN]);return function(e,t){var n=e.getAxisModel(),i=n.getMin(!0),r="category"===n.get("type"),o=r&&n.getCategories().length;null!=i&&"dataMin"!==i&&"function"!=typeof i?t[0]=i:r&&(t[0]=o>0?0:NaN);var a=n.getMax(!0);null!=a&&"dataMax"!==a&&"function"!=typeof a?t[1]=a:r&&(t[1]=o>0?o-1:NaN);n.get("scale",!0)||(t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0))}(e,i),i}(this,this._dimName,t),function(e){var t=e._minMaxSpan={},n=e._dataZoomModel,i=e._dataExtent;O0(["min","max"],(function(r){var o=n.get(r+"Span"),a=n.get(r+"ValueSpan");null!=a&&(a=e.getAxisModel().axis.scale.parse(a)),null!=a?o=P0.linearMap(i[0]+a,i,[0,100],!0):null!=o&&(a=P0.linearMap(o,[0,100],i,!0)-i[0]),t[r+"Span"]=o,t[r+"ValueSpan"]=a}))}(this);var n=this.calculateDataWindow(e.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,E0(this)}},restore:function(e){e===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,E0(this,!0))},filterData:function(e,t){if(e===this._dataZoomModel){var n=this._dimName,i=this.getTargetSeriesModels(),r=e.get("filterMode"),o=this._valueWindow;"none"!==r&&O0(i,(function(e){var t=e.getData(),i=t.mapDimension(n,!0);i.length&&("weakFilter"===r?t.filterSelf((function(e){for(var n,r,a,s=0;s<i.length;s++){var l=t.get(i[s],e),u=!isNaN(l),c=l<o[0],h=l>o[1];if(u&&!c&&!h)return!0;u&&(a=!0),c&&(n=!0),h&&(r=!0)}return a&&n&&r})):O0(i,(function(n){if("empty"===r)e.setData(t=t.map(n,(function(e){return function(e){return e>=o[0]&&e<=o[1]}(e)?e:NaN})));else{var i={};i[n]=o,t.selectRange(i)}})),O0(i,(function(e){t.setApproximateExtent(o,e)})))}))}}};var z0=c,B0=g,V0=p,G0=na,F0=S0,H0=R0,W0=B0.each,U0=F0.eachAxisDim;function j0(e){var t={};return W0(["start","end","startValue","endValue","throttle"],(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}function Z0(e,t){var n=e._rangePropMode,i=e.get("rangeMode");W0([["start","startValue"],["end","endValue"]],(function(e,r){var o=null!=t[e[0]],a=null!=t[e[1]];o&&!a?n[r]="percent":!o&&a?n[r]="value":i?n[r]=i[r]:o&&(n[r]="percent")}))}var Y0=z0.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(e,t,n){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var i=j0(e);this.settledOption=i,this.mergeDefaultAndTheme(e,n),this.doInit(i)},mergeOption:function(e){var t=j0(e);B0.merge(this.option,e,!0),B0.merge(this.settledOption,t,!0),this.doInit(t)},doInit:function(e){var t=this.option;V0.canvasSupported||(t.realtime=!1),this._setDefaultThrottle(e),Z0(this,e);var n=this.settledOption;W0([["start","startValue"],["end","endValue"]],(function(e,i){"value"===this._rangePropMode[i]&&(t[e[0]]=n[e[0]]=null)}),this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var e=this._axisProxies;this.eachTargetAxis((function(t,n,i,r){var o=this.dependentModels[t.axis][n],a=o.__dzAxisProxy||(o.__dzAxisProxy=new H0(t.name,n,this,r));e[t.name+"_"+n]=a}),this)},_resetTarget:function(){var e=this.option,t=this._judgeAutoMode();U0((function(t){var n=t.axisIndex;e[n]=G0.normalizeToArray(e[n])}),this),"axisIndex"===t?this._autoSetAxisIndex():"orient"===t&&this._autoSetOrient()},_judgeAutoMode:function(){var e=this.option,t=!1;U0((function(n){null!=e[n.axisIndex]&&(t=!0)}),this);var n=e.orient;return null==n&&t?"orient":t?void 0:(null==n&&(e.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var e=!0,t=this.get("orient",!0),n=this.option,i=this.dependentModels;if(e){var r="vertical"===t?"y":"x";i[r+"Axis"].length?(n[r+"AxisIndex"]=[0],e=!1):W0(i.singleAxis,(function(i){e&&i.get("orient",!0)===t&&(n.singleAxisIndex=[i.componentIndex],e=!1)}))}e&&U0((function(t){if(e){var i=[],r=this.dependentModels[t.axis];if(r.length&&!i.length)for(var o=0,a=r.length;o<a;o++)"category"===r[o].get("type")&&i.push(o);n[t.axisIndex]=i,i.length&&(e=!1)}}),this),e&&this.ecModel.eachSeries((function(e){this._isSeriesHasAllAxesTypeOf(e,"value")&&U0((function(t){var i=n[t.axisIndex],r=e.get(t.axisIndex),o=e.get(t.axisId);r=e.ecModel.queryComponents({mainType:t.axis,index:r,id:o})[0].componentIndex,B0.indexOf(i,r)<0&&i.push(r)}))}),this)},_autoSetOrient:function(){var e;this.eachTargetAxis((function(t){!e&&(e=t.name)}),this),this.option.orient="y"===e?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(e,t){var n=!0;return U0((function(i){var r=e.get(i.axisIndex),o=this.dependentModels[i.axis][r];o&&o.get("type")===t||(n=!1)}),this),n},_setDefaultThrottle:function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var e;return U0((function(t){if(null==e){var n=this.get(t.axisIndex);n.length&&(e=this.dependentModels[t.axis][n[0]])}}),this),e},eachTargetAxis:function(e,t){var n=this.ecModel;U0((function(i){W0(this.get(i.axisIndex),(function(r){e.call(t,i,r,this,n)}),this)}),this)},getAxisProxy:function(e,t){return this._axisProxies[e+"_"+t]},getAxisModel:function(e,t){var n=this.getAxisProxy(e,t);return n&&n.getAxisModel()},setRawRange:function(e){var t=this.option,n=this.settledOption;W0([["start","startValue"],["end","endValue"]],(function(i){null==e[i[0]]&&null==e[i[1]]||(t[i[0]]=n[i[0]]=e[i[0]],t[i[1]]=n[i[1]]=e[i[1]])}),this),Z0(this,e)},setCalculatedRange:function(e){var t=this.option;W0(["start","startValue","end","endValue"],(function(n){t[n]=e[n]}))},getPercentRange:function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},getValueRange:function(e,t){if(null!=e||null!=t)return this.getAxisProxy(e,t).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(e){if(e)return e.__dzAxisProxy;var t=this._axisProxies;for(var n in t)if(t.hasOwnProperty(n)&&t[n].hostedBy(this))return t[n];for(var n in t)if(t.hasOwnProperty(n)&&!t[n].hostedBy(this))return t[n]},getRangePropMode:function(){return this._rangePropMode.slice()}}),X0=Xg.extend({type:"dataZoom",render:function(e,t,n,i){this.dataZoomModel=e,this.ecModel=t,this.api=n},getTargetCoordInfo:function(){var e=this.dataZoomModel,t=this.ecModel,n={};return e.eachTargetAxis((function(e,i){var r=t.getComponent(e.axis,i);if(r){var o=r.getCoordSysModel();o&&function(e,t,n,i){for(var r,o=0;o<n.length;o++)if(n[o].model===e){r=n[o];break}r||n.push(r={model:e,axisModels:[],coordIndex:i});r.axisModels.push(t)}(o,r,n[o.mainType]||(n[o.mainType]=[]),o.componentIndex)}}),this),n}});Y0.extend({type:"dataZoom.select"}),X0.extend({type:"dataZoom.select"});var q0=c,K0=g,J0=K0.createHashMap,Q0=K0.each;q0.registerProcessor({getTargetSeries:function(e){var t=J0();return e.eachComponent("dataZoom",(function(e){e.eachTargetAxis((function(e,n,i){var r=i.getAxisProxy(e.name,n);Q0(r.getTargetSeriesModels(),(function(e){t.set(e.uid,e)}))}))})),t},modifyOutputEnd:!0,overallReset:function(e,t){e.eachComponent("dataZoom",(function(e){e.eachTargetAxis((function(e,n,i){i.getAxisProxy(e.name,n).reset(i,t)})),e.eachTargetAxis((function(e,n,i){i.getAxisProxy(e.name,n).filterData(i,t)}))})),e.eachComponent("dataZoom",(function(e){var t=e.findRepresentativeAxisProxy(),n=t.getDataPercentWindow(),i=t.getDataValueWindow();e.setCalculatedRange({start:n[0],end:n[1],startValue:i[0],endValue:i[1]})}))}});var $0=g,e1=S0;c.registerAction("dataZoom",(function(e,t){var n=e1.createLinkedNodesFinder($0.bind(t.eachComponent,t,"dataZoom"),e1.eachAxisDim,(function(e,t){return e.get(t.axisIndex)})),i=[];t.eachComponent({mainType:"dataZoom",query:e},(function(e,t){i.push.apply(i,n(e).nodes)})),$0.each(i,(function(t,n){t.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})}))}));var t1=c,n1=g,i1=tZ,r1=y0,o1=_0,a1=Jz,s1=g$,l1=wm.toolbox.dataZoom,u1=n1.each;function c1(e,t,n){(this._brushController=new i1(n.getZr())).on("brush",n1.bind(this._onBrush,this)).mount(),this._isZoomActive}c1.defaultOption={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:n1.clone(l1.title),brushStyle:{borderWidth:0,color:"rgba(0,0,0,0.2)"}};var h1=c1.prototype;h1.render=function(e,t,n,i){this.model=e,this.ecModel=t,this.api=n,function(e,t,n,i,r){var o=n._isZoomActive;i&&"takeGlobalCursor"===i.type&&(o="dataZoomSelect"===i.key&&i.dataZoomSelectActive);n._isZoomActive=o,e.setIconStatus("zoom",o?"emphasis":"normal");var a=new r1(f1(e.option),t,{include:["grid"]});n._brushController.setPanels(a.makePanelOpts(r,(function(e){return e.xAxisDeclared&&!e.yAxisDeclared?"lineX":!e.xAxisDeclared&&e.yAxisDeclared?"lineY":"rect"}))).enableBrush(!!o&&{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()})}(e,t,this,i,n),function(e,t){e.setIconStatus("back",o1.count(t)>1?"emphasis":"normal")}(e,t)},h1.onclick=function(e,t,n){d1[n].call(this)},h1.remove=function(e,t){this._brushController.unmount()},h1.dispose=function(e,t){this._brushController.dispose()};var d1={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(o1.pop(this.ecModel))}};function f1(e){var t={};return n1.each(["xAxisIndex","yAxisIndex"],(function(n){t[n]=e[n],null==t[n]&&(t[n]="all"),(!1===t[n]||"none"===t[n])&&(t[n]=[])})),t}h1._onBrush=function(e,t){if(t.isEnd&&e.length){var n={},i=this.ecModel;this._brushController.updateCovers([]),new r1(f1(this.model.option),i,{include:["grid"]}).matchOutputRanges(e,i,(function(e,t,n){if("cartesian2d"===n.type){var i=e.brushType;"rect"===i?(r("x",n,t[0]),r("y",n,t[1])):r({lineX:"x",lineY:"y"}[i],n,t)}})),o1.push(i,n),this._dispatchZoomAction(n)}function r(e,t,r){var o=t.getAxis(e),a=o.model,s=function(e,t,n){var i;return n.eachComponent({mainType:"dataZoom",subType:"select"},(function(n){n.getAxisModel(e,t.componentIndex)&&(i=n)})),i}(e,a,i),l=s.findRepresentativeAxisProxy(a).getMinMaxSpan();null==l.minValueSpan&&null==l.maxValueSpan||(r=a1(0,r.slice(),o.scale.getExtent(),0,l.minValueSpan,l.maxValueSpan)),s&&(n[s.id]={dataZoomId:s.id,startValue:r[0],endValue:r[1]})}},h1._dispatchZoomAction=function(e){var t=[];u1(e,(function(e,n){t.push(n1.clone(e))})),t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})},s1.register("dataZoom",c1),t1.registerPreprocessor((function(e){if(e){var t=e.dataZoom||(e.dataZoom=[]);n1.isArray(t)||(e.dataZoom=t=[t]);var n=e.toolbox;if(n&&(n1.isArray(n)&&(n=n[0]),n&&n.feature)){var i=n.feature.dataZoom;r("xAxis",i),r("yAxis",i)}}function r(n,i){if(i){var r=n+"Index",o=i[r];null==o||"all"===o||n1.isArray(o)||(o=!1===o||"none"===o?[]:[o]),function(t,n){var i=e[t];n1.isArray(i)||(i=i?[i]:[]);u1(i,n)}(n,(function(e,a){if(null==o||"all"===o||-1!==n1.indexOf(o,a)){var s={type:"select",$fromToolbox:!0,filterMode:i.filterMode||"filter",id:"\0_ec_\0toolbox-dataZoom_"+n+a};s[r]=a,t.push(s)}}))}}}));var p1=c,g1=_0,m1=g$,v1=wm.toolbox.restore;function y1(e){this.model=e}y1.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:v1.title},y1.prototype.onclick=function(e,t,n){g1.clear(e),t.dispatchAction({type:"restore",from:this.uid})},m1.register("restore",y1),p1.registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(e,t){t.resetOption("recreate")}));var _1=g,x1=["rect","polygon","keep","clear"];var b1=function(e,t){var n=e&&e.brush;if(_1.isArray(n)||(n=n?[n]:[]),n.length){var i=[];_1.each(n,(function(e){var t=e.hasOwnProperty("toolbox")?e.toolbox:[];t instanceof Array&&(i=i.concat(t))}));var r=e&&e.toolbox;_1.isArray(r)&&(r=r[0]),r||(r={feature:{}},e.toolbox=[r]);var o,a,s=r.feature||(r.feature={}),l=s.brush||(s.brush={}),u=l.type||(l.type=[]);u.push.apply(u,i),o=u,a={},_1.each(o,(function(e){a[e]=1})),o.length=0,_1.each(a,(function(e,t){o.push(t)})),t&&!u.length&&u.push.apply(u,x1)}},w1={},S1=tw,M1=Pn,I1=Ia.linePolygonIntersect,A1={lineX:T1(0),lineY:T1(1),rect:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])},rect:function(e,t,n){return e&&n.boundingRect.intersect(e)}},polygon:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])&&S1.contain(n.range,e[0],e[1])},rect:function(e,t,n){var i=n.range;if(!e||i.length<=1)return!1;var r=e.x,o=e.y,a=e.width,s=e.height,l=i[0];return!!(S1.contain(i,r,o)||S1.contain(i,r+a,o)||S1.contain(i,r,o+s)||S1.contain(i,r+a,o+s)||M1.create(e).contain(l[0],l[1])||I1(r,o,r+a,o,i)||I1(r,o,r,o+s,i)||I1(r+a,o,r+a,o+s,i)||I1(r,o+s,r+a,o+s,i))||void 0}}};function T1(e){var t=["x","y"],n=["width","height"];return{point:function(t,n,i){if(t){var r=i.range;return C1(t[e],r)}},rect:function(i,r,o){if(i){var a=o.range,s=[i[t[e]],i[t[e]]+i[n[e]]];return s[1]<s[0]&&s.reverse(),C1(s[0],a)||C1(s[1],a)||C1(a[0],s)||C1(a[1],s)}}}}function C1(e,t){return t[0]<=e&&e<=t[1]}var D1=c,P1=g,L1=Pn,k1=FE,O1=A1,N1=gm,R1=y0,E1=["inBrush","outOfBrush"],z1="__ecInBrushSelectEvent",B1=D1.PRIORITY.VISUAL.BRUSH;function V1(e){e.eachComponent({mainType:"brush"},(function(t){(t.brushTargetManager=new R1(t.option,e)).setInputRanges(t.areas,e)}))}function G1(e,t){if(!e.isDisposed()){var n=e.getZr();n[z1]=!0,e.dispatchAction({type:"brushSelect",batch:t}),n[z1]=!1}}function F1(e,t,n,i){for(var r=0,o=t.length;r<o;r++){var a=t[r];if(e[a.brushType](i,n,a.selectors,a))return!0}}function H1(e){var t=e.brushSelector;if(P1.isString(t)){var n=[];return P1.each(O1,(function(e,i){n[i]=function(n,i,r,o){var a=i.getItemLayout(n);return e[t](a,r,o)}})),n}if(P1.isFunction(t)){var i={};return P1.each(O1,(function(e,n){i[n]=t})),i}return t}D1.registerLayout(B1,(function(e,t,n){e.eachComponent({mainType:"brush"},(function(e){n&&"takeGlobalCursor"===n.type&&e.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1})})),V1(e)})),D1.registerVisual(B1,(function(e,t,n){var i,r,o=[];e.eachComponent({mainType:"brush"},(function(t,n){var a={brushId:t.id,brushIndex:n,brushName:t.name,areas:P1.clone(t.areas),selected:[]};o.push(a);var s=t.option,l=s.brushLink,u=[],c=[],h=[],d=0;n||(i=s.throttleType,r=s.throttleDelay);var f=P1.map(t.areas,(function(e){return function(e){var t=e.selectors={};return P1.each(O1[e.brushType],(function(n,i){t[i]=function(i){return n(i,t,e)}})),e}(P1.defaults({boundingRect:W1[e.brushType](e)},e))})),p=k1.createVisualMappings(t.option,E1,(function(e){e.mappingMethod="fixed"}));function g(e){return"all"===l||u[e]}function m(e){return!!e.length}P1.isArray(l)&&P1.each(l,(function(e){u[e]=1})),e.eachSeries((function(n,i){var r=h[i]=[];"parallel"===n.subType?function(e,t){var n=e.coordinateSystem;d|=n.hasAxisBrushed(),g(t)&&n.eachActiveState(e.getData(),(function(e,t){"active"===e&&(c[t]=1)}))}(n,i):function(n,i,r){var o=H1(n);if(!o||function(e,t){var n=e.option.seriesIndex;return null!=n&&"all"!==n&&(P1.isArray(n)?P1.indexOf(n,t)<0:t!==n)}(t,i))return;if(P1.each(f,(function(i){o[i.brushType]&&t.brushTargetManager.controlSeries(i,n,e)&&r.push(i),d|=m(r)})),g(i)&&m(r)){var a=n.getData();a.each((function(e){F1(o,r,a,e)&&(c[e]=1)}))}}(n,i,r)})),e.eachSeries((function(e,t){var n={seriesId:e.id,seriesIndex:t,seriesName:e.name,dataIndex:[]};a.selected.push(n);var i=H1(e),r=h[t],o=e.getData(),s=g(t)?function(e){return c[e]?(n.dataIndex.push(o.getRawIndex(e)),"inBrush"):"outOfBrush"}:function(e){return F1(i,r,o,e)?(n.dataIndex.push(o.getRawIndex(e)),"inBrush"):"outOfBrush"};(g(t)?d:m(r))&&k1.applyVisual(E1,p,o,s)}))})),function(e,t,n,i,r){if(!r)return;var o=e.getZr();if(o[z1])return;o.__ecBrushSelect||(o.__ecBrushSelect=G1);N1.createOrUpdate(o,"__ecBrushSelect",n,t)(e,i)}(t,i,r,o,n)}));var W1={lineX:P1.noop,lineY:P1.noop,rect:function(e){return U1(e.range)},polygon:function(e){for(var t,n=e.range,i=0,r=n.length;i<r;i++){t=t||[[1/0,-1/0],[1/0,-1/0]];var o=n[i];o[0]<t[0][0]&&(t[0][0]=o[0]),o[0]>t[0][1]&&(t[0][1]=o[0]),o[1]<t[1][0]&&(t[1][0]=o[1]),o[1]>t[1][1]&&(t[1][1]=o[1])}return t&&U1(t)}};function U1(e){return new L1(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}w1.layoutCovers=V1;var j1=g,Z1=FE,Y1=xh,X1=["#ddd"];function q1(e,t){return j1.merge({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new Y1(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}c.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(e,t){var n=this.option;!t&&Z1.replaceVisualOption(n,e,["inBrush","outOfBrush"]);var i=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:X1},i.hasOwnProperty("liftZ")||(i.liftZ=5)},setAreas:function(e){e&&(this.areas=j1.map(e,(function(e){return q1(this.option,e)}),this))},setBrushOption:function(e){this.brushOption=q1(this.option,e),this.brushType=this.brushOption.brushType}});var K1=c,J1=g,Q1=tZ,$1=w1.layoutCovers;function e2(e,t,n,i){(!i||i.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(n)).enableBrush(e.brushOption).updateCovers(e.areas.slice())}K1.extendComponentView({type:"brush",init:function(e,t){this.ecModel=e,this.api=t,this.model,(this._brushController=new Q1(t.getZr())).on("brush",J1.bind(this._onBrush,this)).mount()},render:function(e){return this.model=e,e2.apply(this,arguments)},updateTransform:function(e,t){return $1(t),e2.apply(this,arguments)},updateView:e2,dispose:function(){this._brushController.dispose()},_onBrush:function(e,t){var n=this.model.id;this.model.brushTargetManager.setOutputRanges(e,this.ecModel),(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:J1.clone(e),$from:n}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:J1.clone(e),$from:n})}});var t2=c;t2.registerAction({type:"brush",event:"brush"},(function(e,t){t.eachComponent({mainType:"brush",query:e},(function(t){t.setAreas(e.areas)}))})),t2.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},(function(){})),t2.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},(function(){}));var n2=g,i2=g$,r2=wm.toolbox.brush;function o2(e,t,n){this.model=e,this.ecModel=t,this.api=n,this._brushType,this._brushMode}o2.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:n2.clone(r2.title)};var a2=o2.prototype;a2.render=a2.updateView=function(e,t,n){var i,r,o;t.eachComponent({mainType:"brush"},(function(e){i=e.brushType,r=e.brushOption.brushMode||"single",o|=e.areas.length})),this._brushType=i,this._brushMode=r,n2.each(e.get("type",!0),(function(t){e.setIconStatus(t,("keep"===t?"multiple"===r:"clear"===t?o:t===i)?"emphasis":"normal")}))},a2.getIcons=function(){var e=this.model,t=e.get("icon",!0),n={};return n2.each(e.get("type",!0),(function(e){t[e]&&(n[e]=t[e])})),n},a2.onclick=function(e,t,n){var i=this._brushType,r=this._brushMode;"clear"===n?(t.dispatchAction({type:"axisAreaSelect",intervals:[]}),t.dispatchAction({type:"brush",command:"clear",areas:[]})):t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?i:i!==n&&n,brushMode:"keep"===n?"multiple"===r?"single":"multiple":r}})},i2.register("brush",o2);var s2=b1;c.registerPreprocessor(s2);var l2=g;function u2(e){var t=e.itemStyle||(e.itemStyle={}),n=t.emphasis||(t.emphasis={}),i=e.label||e.label||{},r=i.normal||(i.normal={}),o={normal:1,emphasis:1};l2.each(i,(function(e,t){o[t]||c2(r,t)||(r[t]=e)})),n.label&&!c2(i,"emphasis")&&(i.emphasis=n.label,delete n.label)}function c2(e,t){return e.hasOwnProperty(t)}var h2=function(e){var t=e&&e.timeline;l2.isArray(t)||(t=t?[t]:[]),l2.each(t,(function(e){e&&function(e){var t=e.type,n={number:"value",time:"time"};n[t]&&(e.axisType=n[t],delete e.type);if(u2(e),c2(e,"controlPosition")){var i=e.controlStyle||(e.controlStyle={});c2(i,"position")||(i.position=e.controlPosition),"none"!==i.position||c2(i,"show")||(i.show=!1,delete i.position),delete e.controlPosition}l2.each(e.data||[],(function(e){l2.isObject(e)&&!l2.isArray(e)&&(!c2(e,"value")&&c2(e,"name")&&(e.value=e.name),u2(e))}))}(e)}))};fd.registerSubTypeDefaulter("timeline",(function(){return"slider"}));var d2=c,f2=g;d2.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(e,t){var n=t.getComponent("timeline");return n&&null!=e.currentIndex&&(n.setCurrentIndex(e.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.setPlayState(!1)),t.resetOption("timeline"),f2.defaults({currentIndex:n.option.currentIndex},e)})),d2.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(e,t){var n=t.getComponent("timeline");n&&null!=e.playState&&n.setPlayState(e.playState)}));var p2=g,g2=t_,m2=na,v2=fd.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(e,t,n){this._data,this._names,this.mergeDefaultAndTheme(e,n),this._initData()},mergeOption:function(e){v2.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(e){null==e&&(e=this.option.currentIndex);var t=this._data.count();this.option.loop?e=(e%t+t)%t:(e>=t&&(e=t-1),e<0&&(e=0)),this.option.currentIndex=e},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(e){this.option.autoPlay=!!e},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var e=this.option,t=e.data||[],n=e.axisType,i=this._names=[];if("category"===n){var r=[];p2.each(t,(function(e,t){var n,o=m2.getDataItemValue(e);p2.isObject(e)?(n=p2.clone(e)).value=t:n=t,r.push(n),p2.isString(o)||null!=o&&!isNaN(o)||(o=""),i.push(o+"")})),t=r}var o={category:"ordinal",time:"time"}[n]||"number";(this._data=new g2([{name:"value",type:o}],this)).initData(t,i)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}}),y2=g,_2=ag,x2=v2.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});y2.mixin(x2,_2);var b2=Xg.extend({type:"timeline"}),w2=g,S2=Ww,M2=function(e,t,n,i){S2.call(this,e,t,n),this.type=i||"value",this.model=null};M2.prototype={constructor:M2,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return"horizontal"===this.model.get("orient")}},w2.inherits(M2,S2);var I2=g,A2=Pn,T2=Fe,C2=Ia,D2=Ih,P2=b2,L2=M2,k2=Tb.createSymbol,O2=j_,N2=Ah,R2=Ph.encodeHTML,E2=I2.bind,z2=I2.each,B2=Math.PI;function V2(e,t,n,i,r,o){var a=t.get("color");if(r)r.setColor(a),n.add(r),o&&o.onUpdate(r);else{var s=e.get("symbol");(r=k2(s,-1,-1,2,2,a)).setStyle("strokeNoScale",!0),n.add(r),o&&o.onCreate(r)}var l=t.getItemStyle(["color","symbol","symbolSize"]);r.setStyle(l),i=I2.merge({rectHover:!0,z2:100},i,!0);var u=e.get("symbolSize");(u=u instanceof Array?u.slice():[+u,+u])[0]/=2,u[1]/=2,i.scale=u;var c=e.get("symbolOffset");if(c){var h=i.position=i.position||[0,0];h[0]+=N2.parsePercent(c[0],u[0]),h[1]+=N2.parsePercent(c[1],u[1])}var d=e.get("symbolRotate");return i.rotation=(d||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function G2(e,t,n,i,r){if(!e.dragging){var o=i.getModel("checkpointStyle"),a=n.dataToCoord(i.getData().get(["value"],t));r||!o.get("animation",!0)?e.attr({position:[a,0]}):(e.stopAnimation(!0),e.animateTo({position:[a,0]},o.get("animationDuration",!0),o.get("animationEasing",!0)))}}P2.extend({type:"timeline.slider",init:function(e,t){this.api=t,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(e,t,n,i){if(this.model=e,this.api=n,this.ecModel=t,this.group.removeAll(),e.get("show",!0)){var r=this._layout(e,n),o=this._createGroup("mainGroup"),a=this._createGroup("labelGroup"),s=this._axis=this._createAxis(r,e);e.formatTooltip=function(e){return R2(s.scale.getLabel(e))},z2(["AxisLine","AxisTick","Control","CurrentPointer"],(function(t){this["_render"+t](r,o,s,e)}),this),this._renderAxisLabel(r,a,s,e),this._position(r,e)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(e,t){var n=e.get("label.position"),i=e.get("orient"),r=function(e,t){return D2.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get("padding"))}(e,t);null==n||"auto"===n?n="horizontal"===i?r.y+r.height/2<t.getHeight()/2?"-":"+":r.x+r.width/2<t.getWidth()/2?"+":"-":isNaN(n)&&(n={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[i][n]);var o,a,s,l,u={horizontal:"center",vertical:n>=0||"+"===n?"left":"right"},c={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},h={horizontal:0,vertical:B2/2},d="vertical"===i?r.height:r.width,f=e.getModel("controlStyle"),p=f.get("show",!0),g=p?f.get("itemSize"):0,m=p?f.get("itemGap"):0,v=g+m,y=e.get("label.rotate")||0;y=y*B2/180;var _=f.get("position",!0),x=p&&f.get("showPlayBtn",!0),b=p&&f.get("showPrevBtn",!0),w=p&&f.get("showNextBtn",!0),S=0,M=d;return"left"===_||"bottom"===_?(x&&(o=[0,0],S+=v),b&&(a=[S,0],S+=v),w&&(s=[M-g,0],M-=v)):(x&&(o=[M-g,0],M-=v),b&&(a=[0,0],S+=v),w&&(s=[M-g,0],M-=v)),l=[S,M],e.get("inverse")&&l.reverse(),{viewRect:r,mainLength:d,orient:i,rotation:h[i],labelRotation:y,labelPosOpt:n,labelAlign:e.get("label.align")||u[i],labelBaseline:e.get("label.verticalAlign")||e.get("label.baseline")||c[i],playPosition:o,prevBtnPosition:a,nextBtnPosition:s,axisExtent:l,controlSize:g,controlGap:m}},_position:function(e,t){var n=this._mainGroup,i=this._labelGroup,r=e.viewRect;if("vertical"===e.orient){var o=T2.create(),a=r.x,s=r.y+r.height;T2.translate(o,o,[-a,-s]),T2.rotate(o,o,-B2/2),T2.translate(o,o,[a,s]),(r=r.clone()).applyTransform(o)}var l=m(r),u=m(n.getBoundingRect()),c=m(i.getBoundingRect()),h=n.position,d=i.position;d[0]=h[0]=l[0][0];var f,p=e.labelPosOpt;isNaN(p)?(v(h,u,l,1,f="+"===p?0:1),v(d,c,l,1,1-f)):(v(h,u,l,1,f=p>=0?0:1),d[1]=h[1]+p);function g(e){var t=e.position;e.origin=[l[0][0]-t[0],l[1][0]-t[1]]}function m(e){return[[e.x,e.x+e.width],[e.y,e.y+e.height]]}function v(e,t,n,i,r){e[i]+=n[i][r]-t[i][r]}n.attr("position",h),i.attr("position",d),n.rotation=i.rotation=e.rotation,g(n),g(i)},_createAxis:function(e,t){var n=t.getData(),i=t.get("axisType"),r=O2.createScaleByModel(t,i);r.getTicks=function(){return n.mapArray(["value"],(function(e){return e}))};var o=n.getDataExtent("value");r.setExtent(o[0],o[1]),r.niceTicks();var a=new L2("value",r,e.axisExtent,i);return a.model=t,a},_createGroup:function(e){var t=this["_"+e]=new C2.Group;return this.group.add(t),t},_renderAxisLine:function(e,t,n,i){var r=n.getExtent();i.get("lineStyle.show")&&t.add(new C2.Line({shape:{x1:r[0],y1:0,x2:r[1],y2:0},style:I2.extend({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(e,t,n,i){var r=i.getData(),o=n.scale.getTicks();z2(o,(function(e){var o=n.dataToCoord(e),a=r.getItemModel(e),s=a.getModel("itemStyle"),l=a.getModel("emphasis.itemStyle"),u={position:[o,0],onclick:E2(this._changeTimeline,this,e)},c=V2(a,s,t,u);C2.setHoverStyle(c,l.getItemStyle()),a.get("tooltip")?(c.dataIndex=e,c.dataModel=i):c.dataIndex=c.dataModel=null}),this)},_renderAxisLabel:function(e,t,n,i){if(n.getLabelModel().get("show")){var r=i.getData(),o=n.getViewLabels();z2(o,(function(i){var o=i.tickValue,a=r.getItemModel(o),s=a.getModel("label"),l=a.getModel("emphasis.label"),u=n.dataToCoord(i.tickValue),c=new C2.Text({position:[u,0],rotation:e.labelRotation-e.rotation,onclick:E2(this._changeTimeline,this,o),silent:!1});C2.setTextStyle(c.style,s,{text:i.formattedLabel,textAlign:e.labelAlign,textVerticalAlign:e.labelBaseline}),t.add(c),C2.setHoverStyle(c,C2.setTextStyle({},l))}),this)}},_renderControl:function(e,t,n,i){var r=e.controlSize,o=e.rotation,a=i.getModel("controlStyle").getItemStyle(),s=i.getModel("emphasis.controlStyle").getItemStyle(),l=[0,-r/2,r,r],u=i.getPlayState(),c=i.get("inverse",!0);function h(e,n,u,c){if(e){var h=function(e,t,n,i){var r=i.style,o=C2.createIcon(e.get(t),i||{},new A2(n[0],n[1],n[2],n[3]));r&&o.setStyle(r);return o}(i,n,l,{position:e,origin:[r/2,0],rotation:c?-o:0,rectHover:!0,style:a,onclick:u});t.add(h),C2.setHoverStyle(h,s)}}h(e.nextBtnPosition,"controlStyle.nextIcon",E2(this._changeTimeline,this,c?"-":"+")),h(e.prevBtnPosition,"controlStyle.prevIcon",E2(this._changeTimeline,this,c?"+":"-")),h(e.playPosition,"controlStyle."+(u?"stopIcon":"playIcon"),E2(this._handlePlayClick,this,!u),!0)},_renderCurrentPointer:function(e,t,n,i){var r=i.getData(),o=i.getCurrentIndex(),a=r.getItemModel(o).getModel("checkpointStyle"),s=this,l={onCreate:function(e){e.draggable=!0,e.drift=E2(s._handlePointerDrag,s),e.ondragend=E2(s._handlePointerDragend,s),G2(e,o,n,i,!0)},onUpdate:function(e){G2(e,o,n,i)}};this._currentPointer=V2(a,a,this._mainGroup,{},this._currentPointer,l)},_handlePlayClick:function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},_handlePointerDrag:function(e,t,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},_handlePointerDragend:function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},_pointerChangeTimeline:function(e,t){var n=this._toAxisCoord(e)[0],i=this._axis,r=N2.asc(i.getExtent().slice());n>r[1]&&(n=r[1]),n<r[0]&&(n=r[0]),this._currentPointer.position[0]=n,this._currentPointer.dirty();var o=this._findNearestTick(n),a=this.model;(t||o!==a.getCurrentIndex()&&a.get("realtime"))&&this._changeTimeline(o)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(E2((function(){var e=this.model;this._changeTimeline(e.getCurrentIndex()+(e.get("rewind",!0)?-1:1))}),this),this.model.get("playInterval")))},_toAxisCoord:function(e){var t=this._mainGroup.getLocalTransform();return C2.applyTransform(e,t,!0)},_findNearestTick:function(e){var t,n=this.model.getData(),i=1/0,r=this._axis;return n.each(["value"],(function(n,o){var a=r.dataToCoord(n),s=Math.abs(a-e);s<i&&(i=s,t=o)})),t},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(e){var t=this.model.getCurrentIndex();"+"===e?e=t+1:"-"===e&&(e=t-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})}});var F2=h2;c.registerPreprocessor(F2);var H2=c,W2=g,U2=p,j2=na,Z2=Ph,Y2=ag,X2=Z2.addCommas,q2=Z2.encodeHTML;function K2(e){j2.defaultEmphasis(e,"label",["show"])}var J2=H2.extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(e,t,n){this.mergeDefaultAndTheme(e,n),this._mergeOption(e,n,!1,!0)},isAnimationEnabled:function(){if(U2.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},mergeOption:function(e,t){this._mergeOption(e,t,!1,!1)},_mergeOption:function(e,t,n,i){var r=this.constructor,o=this.mainType+"Model";n||t.eachSeries((function(e){var n=e.get(this.mainType,!0),a=e[o];n&&n.data?(a?a._mergeOption(n,t,!0):(i&&K2(n),W2.each(n.data,(function(e){e instanceof Array?(K2(e[0]),K2(e[1])):K2(e)})),a=new r(n,this,t),W2.extend(a,{mainType:this.mainType,seriesIndex:e.seriesIndex,name:e.name,createdBySelf:!0}),a.__hostSeries=e),e[o]=a):e[o]=null}),this)},formatTooltip:function(e,t,n,i){var r=this.getData(),o=this.getRawValue(e),a=W2.isArray(o)?W2.map(o,X2).join(", "):X2(o),s=r.getName(e),l=q2(this.name);return(null!=o||s)&&(l+="html"===i?"<br/>":"\n"),s&&(l+=q2(s),null!=o&&(l+=" : ")),null!=o&&(l+=q2(a)),l},getData:function(){return this._data},setData:function(e){this._data=e}});W2.mixin(J2,Y2);var Q2=J2;Q2.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});var $2={},e5=g,t5=Ah,n5=C_.isDimensionStacked,i5=e5.indexOf;function r5(e,t,n,i,r,o){var a=[],s=n5(t,i)?t.getCalculationInfo("stackResultDimension"):i,l=l5(t,s,e),u=t.indicesOfNearest(s,l)[0];a[r]=t.get(n,u),a[o]=t.get(s,u);var c=t.get(i,u),h=t5.getPrecision(t.get(i,u));return(h=Math.min(h,20))>=0&&(a[o]=+a[o].toFixed(h)),[a,c]}var o5=e5.curry,a5={min:o5(r5,"min"),max:o5(r5,"max"),average:o5(r5,"average")};function s5(e,t,n,i){var r={};return null!=e.valueIndex||null!=e.valueDim?(r.valueDataDim=null!=e.valueIndex?t.getDimension(e.valueIndex):e.valueDim,r.valueAxis=n.getAxis(function(e,t){var n=e.getData(),i=n.dimensions;t=n.getDimension(t);for(var r=0;r<i.length;r++){var o=n.getDimensionInfo(i[r]);if(o.name===t)return o.coordDim}}(i,r.valueDataDim)),r.baseAxis=n.getOtherAxis(r.valueAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=n.getOtherAxis(r.baseAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim),r.valueDataDim=t.mapDimension(r.valueAxis.dim)),r}function l5(e,t,n){if("average"===n){var i=0,r=0;return e.each(t,(function(e,t){isNaN(e)||(i+=e,r++)})),i/r}return"median"===n?e.getMedian(t):e.getDataExtent(t,!0)["max"===n?1:0]}$2.dataTransform=function(e,t){var n=e.getData(),i=e.coordinateSystem;if(t&&!function(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}(t)&&!e5.isArray(t.coord)&&i){var r=i.dimensions,o=s5(t,n,i,e);if((t=e5.clone(t)).type&&a5[t.type]&&o.baseAxis&&o.valueAxis){var a=i5(r,o.baseAxis.dim),s=i5(r,o.valueAxis.dim),l=a5[t.type](n,o.baseDataDim,o.valueDataDim,a,s);t.coord=l[0],t.value=l[1]}else{for(var u=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis],c=0;c<2;c++)a5[u[c]]&&(u[c]=l5(n,n.mapDimension(r[c]),u[c]));t.coord=u}}return t},$2.getAxisInfo=s5,$2.dataFilter=function(e,t){return!(e&&e.containData&&t.coord&&!function(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}(t))||e.containData(t.coord)},$2.dimValueGetter=function(e,t,n,i){return i<2?e.coord&&e.coord[i]:e.value},$2.numCalculate=l5;var u5=g,c5=c.extendComponentView({type:"marker",init:function(){this.markerGroupMap=u5.createHashMap()},render:function(e,t,n){var i=this.markerGroupMap;i.each((function(e){e.__keep=!1}));var r=this.type+"Model";t.eachSeries((function(e){var i=e[r];i&&this.renderSeries(e,i,t,n)}),this),i.each((function(e){!e.__keep&&this.group.remove(e.group)}),this)},renderSeries:function(){}}),h5=g,d5=NT,f5=Ah,p5=t_,g5=$2;function m5(e,t,n){var i=t.coordinateSystem;e.each((function(r){var o,a=e.getItemModel(r),s=f5.parsePercent(a.get("x"),n.getWidth()),l=f5.parsePercent(a.get("y"),n.getHeight());if(isNaN(s)||isNaN(l)){if(t.getMarkerPosition)o=t.getMarkerPosition(e.getValues(e.dimensions,r));else if(i){var u=e.get(i.dimensions[0],r),c=e.get(i.dimensions[1],r);o=i.dataToPoint([u,c])}}else o=[s,l];isNaN(s)||(o[0]=s),isNaN(l)||(o[1]=l),e.setItemLayout(r,o)}))}c5.extend({type:"markPoint",updateTransform:function(e,t,n){t.eachSeries((function(e){var t=e.markPointModel;t&&(m5(t.getData(),e,n),this.markerGroupMap.get(e.id).updateLayout(t))}),this)},renderSeries:function(e,t,n,i){var r=e.coordinateSystem,o=e.id,a=e.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,new d5),u=function(e,t,n){var i;i=e?h5.map(e&&e.dimensions,(function(e){var n=t.getData().getDimensionInfo(t.getData().mapDimension(e))||{};return h5.defaults({name:e},n)})):[{name:"value",type:"float"}];var r=new p5(i,n),o=h5.map(n.get("data"),h5.curry(g5.dataTransform,t));e&&(o=h5.filter(o,h5.curry(g5.dataFilter,e)));return r.initData(o,null,e?g5.dimValueGetter:function(e){return e.value}),r}(r,e,t);t.setData(u),m5(t.getData(),e,i),u.each((function(e){var n=u.getItemModel(e),i=n.getShallow("symbol"),r=n.getShallow("symbolSize"),o=n.getShallow("symbolRotate"),s=h5.isFunction(i),l=h5.isFunction(r),c=h5.isFunction(o);if(s||l||c){var h=t.getRawValue(e),d=t.getDataParams(e);s&&(i=i(h,d)),l&&(r=r(h,d)),c&&(o=o(h,d))}u.setItemVisual(e,{symbol:i,symbolSize:r,symbolRotate:o,color:n.get("itemStyle.color")||a.getVisual("color")})})),l.updateData(u),this.group.add(l.group),u.eachItemGraphicEl((function(e){e.traverse((function(e){e.dataModel=t}))})),l.__keep=!0,l.group.silent=t.get("silent")||e.get("silent")}}),c.registerPreprocessor((function(e){e.markPoint=e.markPoint||{}})),Q2.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});var v5=g,y5=t_,_5=Ah,x5=$2,b5=MH,w5=c5,S5=C_.getStackedDimension,M5=function(e,t,n,i){var r=e.getData(),o=i.type;if(!v5.isArray(i)&&("min"===o||"max"===o||"average"===o||"median"===o||null!=i.xAxis||null!=i.yAxis)){var a,s;if(null!=i.yAxis||null!=i.xAxis)a=t.getAxis(null!=i.yAxis?"y":"x"),s=v5.retrieve(i.yAxis,i.xAxis);else{var l=x5.getAxisInfo(i,r,t,e);a=l.valueAxis;var u=S5(r,l.valueDataDim);s=x5.numCalculate(r,u,o)}var c="x"===a.dim?0:1,h=1-c,d=v5.clone(i),f={};d.type=null,d.coord=[],f.coord=[],d.coord[h]=-1/0,f.coord[h]=1/0;var p=n.get("precision");p>=0&&"number"==typeof s&&(s=+s.toFixed(Math.min(p,20))),d.coord[c]=f.coord[c]=s,i=[d,f,{type:o,valueIndex:i.valueIndex,value:s}]}return(i=[x5.dataTransform(e,i[0]),x5.dataTransform(e,i[1]),v5.extend({},i[2])])[2].type=i[2].type||"",v5.merge(i[2],i[0]),v5.merge(i[2],i[1]),i};function I5(e){return!isNaN(e)&&!isFinite(e)}function A5(e,t,n,i){var r=1-e,o=i.dimensions[e];return I5(t[r])&&I5(n[r])&&t[e]===n[e]&&i.getAxis(o).containData(t[e])}function T5(e,t){if("cartesian2d"===e.type){var n=t[0].coord,i=t[1].coord;if(n&&i&&(A5(1,n,i,e)||A5(0,n,i,e)))return!0}return x5.dataFilter(e,t[0])&&x5.dataFilter(e,t[1])}function C5(e,t,n,i,r){var o,a=i.coordinateSystem,s=e.getItemModel(t),l=_5.parsePercent(s.get("x"),r.getWidth()),u=_5.parsePercent(s.get("y"),r.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition)o=i.getMarkerPosition(e.getValues(e.dimensions,t));else{var c=a.dimensions,h=e.get(c[0],t),d=e.get(c[1],t);o=a.dataToPoint([h,d])}if("cartesian2d"===a.type){var f=a.getAxis("x"),p=a.getAxis("y");c=a.dimensions;I5(e.get(c[0],t))?o[0]=f.toGlobalCoord(f.getExtent()[n?0:1]):I5(e.get(c[1],t))&&(o[1]=p.toGlobalCoord(p.getExtent()[n?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];e.setItemLayout(t,o)}w5.extend({type:"markLine",updateTransform:function(e,t,n){t.eachSeries((function(e){var t=e.markLineModel;if(t){var i=t.getData(),r=t.__from,o=t.__to;r.each((function(t){C5(r,t,!0,e,n),C5(o,t,!1,e,n)})),i.each((function(e){i.setItemLayout(e,[r.getItemLayout(e),o.getItemLayout(e)])})),this.markerGroupMap.get(e.id).updateLayout()}}),this)},renderSeries:function(e,t,n,i){var r=e.coordinateSystem,o=e.id,a=e.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,new b5);this.group.add(l.group);var u=function(e,t,n){var i;i=e?v5.map(e&&e.dimensions,(function(e){var n=t.getData().getDimensionInfo(t.getData().mapDimension(e))||{};return v5.defaults({name:e},n)})):[{name:"value",type:"float"}];var r=new y5(i,n),o=new y5(i,n),a=new y5([],n),s=v5.map(n.get("data"),v5.curry(M5,t,e,n));e&&(s=v5.filter(s,v5.curry(T5,e)));var l=e?x5.dimValueGetter:function(e){return e.value};return r.initData(v5.map(s,(function(e){return e[0]})),null,l),o.initData(v5.map(s,(function(e){return e[1]})),null,l),a.initData(v5.map(s,(function(e){return e[2]}))),a.hasItemOption=!0,{from:r,to:o,line:a}}(r,e,t),c=u.from,h=u.to,d=u.line;t.__from=c,t.__to=h,t.setData(d);var f=t.get("symbol"),p=t.get("symbolSize");function g(t,n,r){var o=t.getItemModel(n);C5(t,n,r,e,i),t.setItemVisual(n,{symbolRotate:o.get("symbolRotate"),symbolSize:o.get("symbolSize")||p[r?0:1],symbol:o.get("symbol",!0)||f[r?0:1],color:o.get("itemStyle.color")||a.getVisual("color")})}v5.isArray(f)||(f=[f,f]),"number"==typeof p&&(p=[p,p]),u.from.each((function(e){g(c,e,!0),g(h,e,!1)})),d.each((function(e){var t=d.getItemModel(e).get("lineStyle.color");d.setItemVisual(e,{color:t||c.getItemVisual(e,"color")}),d.setItemLayout(e,[c.getItemLayout(e),h.getItemLayout(e)]),d.setItemVisual(e,{fromSymbolRotate:c.getItemVisual(e,"symbolRotate"),fromSymbolSize:c.getItemVisual(e,"symbolSize"),fromSymbol:c.getItemVisual(e,"symbol"),toSymbolRotate:h.getItemVisual(e,"symbolRotate"),toSymbolSize:h.getItemVisual(e,"symbolSize"),toSymbol:h.getItemVisual(e,"symbol")})})),l.updateData(d),u.line.eachItemGraphicEl((function(e,n){e.traverse((function(e){e.dataModel=t}))})),l.__keep=!0,l.group.silent=t.get("silent")||e.get("silent")}}),c.registerPreprocessor((function(e){e.markLine=e.markLine||{}})),Q2.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});var D5=g,P5=at,L5=t_,k5=Ah,O5=Ia,N5=$2,R5=function(e,t,n,i){var r=N5.dataTransform(e,i[0]),o=N5.dataTransform(e,i[1]),a=D5.retrieve,s=r.coord,l=o.coord;s[0]=a(s[0],-1/0),s[1]=a(s[1],-1/0),l[0]=a(l[0],1/0),l[1]=a(l[1],1/0);var u=D5.mergeAll([{},r,o]);return u.coord=[r.coord,o.coord],u.x0=r.x,u.y0=r.y,u.x1=o.x,u.y1=o.y,u};function E5(e){return!isNaN(e)&&!isFinite(e)}function z5(e,t,n,i){var r=1-e;return E5(t[r])&&E5(n[r])}function B5(e,t){var n=t.coord[0],i=t.coord[1];return!("cartesian2d"!==e.type||!n||!i||!z5(1,n,i)&&!z5(0,n,i))||(N5.dataFilter(e,{coord:n,x:t.x0,y:t.y0})||N5.dataFilter(e,{coord:i,x:t.x1,y:t.y1}))}function V5(e,t,n,i,r){var o,a=i.coordinateSystem,s=e.getItemModel(t),l=k5.parsePercent(s.get(n[0]),r.getWidth()),u=k5.parsePercent(s.get(n[1]),r.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition)o=i.getMarkerPosition(e.getValues(n,t));else{var c=[f=e.get(n[0],t),p=e.get(n[1],t)];a.clampData&&a.clampData(c,c),o=a.dataToPoint(c,!0)}if("cartesian2d"===a.type){var h=a.getAxis("x"),d=a.getAxis("y"),f=e.get(n[0],t),p=e.get(n[1],t);E5(f)?o[0]=h.toGlobalCoord(h.getExtent()["x0"===n[0]?0:1]):E5(p)&&(o[1]=d.toGlobalCoord(d.getExtent()["y0"===n[1]?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];return o}var G5=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];c5.extend({type:"markArea",updateTransform:function(e,t,n){t.eachSeries((function(e){var t=e.markAreaModel;if(t){var i=t.getData();i.each((function(t){var r=D5.map(G5,(function(r){return V5(i,t,r,e,n)}));i.setItemLayout(t,r),i.getItemGraphicEl(t).setShape("points",r)}))}}),this)},renderSeries:function(e,t,n,i){var r=e.coordinateSystem,o=e.id,a=e.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,{group:new O5.Group});this.group.add(l.group),l.__keep=!0;var u=function(e,t,n){var i,r,o=["x0","y0","x1","y1"];e?(i=D5.map(e&&e.dimensions,(function(e){var n=t.getData(),i=n.getDimensionInfo(n.mapDimension(e))||{};return D5.defaults({name:e},i)})),r=new L5(D5.map(o,(function(e,t){return{name:e,type:i[t%2].type}})),n)):r=new L5(i=[{name:"value",type:"float"}],n);var a=D5.map(n.get("data"),D5.curry(R5,t,e,n));e&&(a=D5.filter(a,D5.curry(B5,e)));var s=e?function(e,t,n,i){return e.coord[Math.floor(i/2)][i%2]}:function(e){return e.value};return r.initData(a,null,s),r.hasItemOption=!0,r}(r,e,t);t.setData(u),u.each((function(t){var n=D5.map(G5,(function(n){return V5(u,t,n,e,i)})),o=!0;D5.each(G5,(function(e){if(o){var n=u.get(e[0],t),i=u.get(e[1],t);(E5(n)||r.getAxis("x").containData(n))&&(E5(i)||r.getAxis("y").containData(i))&&(o=!1)}})),u.setItemLayout(t,{points:n,allClipped:o}),u.setItemVisual(t,{color:a.getVisual("color")})})),u.diff(l.__data).add((function(e){var t=u.getItemLayout(e);if(!t.allClipped){var n=new O5.Polygon({shape:{points:t.points}});u.setItemGraphicEl(e,n),l.group.add(n)}})).update((function(e,n){var i=l.__data.getItemGraphicEl(n),r=u.getItemLayout(e);r.allClipped?i&&l.group.remove(i):(i?O5.updateProps(i,{shape:{points:r.points}},t,e):i=new O5.Polygon({shape:{points:r.points}}),u.setItemGraphicEl(e,i),l.group.add(i))})).remove((function(e){var t=l.__data.getItemGraphicEl(e);l.group.remove(t)})).execute(),u.eachItemGraphicEl((function(e,n){var i=u.getItemModel(n),r=i.getModel("label"),o=i.getModel("emphasis.label"),a=u.getItemVisual(n,"color");e.useStyle(D5.defaults(i.getModel("itemStyle").getItemStyle(),{fill:P5.modifyAlpha(a,.4),stroke:a})),e.hoverStyle=i.getModel("emphasis.itemStyle").getItemStyle(),O5.setLabelStyle(e.style,e.hoverStyle,r,o,{labelFetcher:t,labelDataIndex:n,defaultText:u.getName(n)||"",isRectText:!0,autoColor:a}),O5.setHoverStyle(e,{}),e.dataModel=t})),l.__data=u,l.group.silent=t.get("silent")||e.get("silent")}}),c.registerPreprocessor((function(e){e.markArea=e.markArea||{}}));var F5=LS,H5=Ih,W5=H5.mergeLayoutParam,U5=H5.getLayoutParams,j5=F5.extend({type:"legend.scroll",setScrollDataIndex:function(e){this.option.scrollDataIndex=e},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(e,t,n,i){var r=U5(e);j5.superCall(this,"init",e,t,n,i),Z5(this,e,r)},mergeOption:function(e,t){j5.superCall(this,"mergeOption",e,t),Z5(this,this.option,e)}});function Z5(e,t,n){var i=[1,1];i[e.getOrient().index]=0,W5(t,n,{type:"box",ignoreSize:i})}var Y5=g,X5=Ia,q5=Ih,K5=tM,J5=X5.Group,Q5=["width","height"],$5=["x","y"],e3=K5.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){e3.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new J5),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new J5),this._showController},resetInner:function(){e3.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(e,t,n,i,r,o,a){var s=this;e3.superCall(this,"renderInner",e,t,n,i,r,o,a);var l=this._controllerGroup,u=t.get("pageIconSize",!0);Y5.isArray(u)||(u=[u,u]),h("pagePrev",0);var c=t.getModel("pageTextStyle");function h(e,n){var r=e+"DataIndex",o=X5.createIcon(t.get("pageIcons",!0)[t.getOrient().name][n],{onclick:Y5.bind(s._pageGo,s,r,t,i)},{x:-u[0]/2,y:-u[1]/2,width:u[0],height:u[1]});o.name=e,l.add(o)}l.add(new X5.Text({name:"pageText",style:{textFill:c.getTextColor(),font:c.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),h("pageNext",1)},layoutInner:function(e,t,n,i,r,o){var a=this.getSelectorGroup(),s=e.getOrient().index,l=Q5[s],u=$5[s],c=Q5[1-s],h=$5[1-s];r&&q5.box("horizontal",a,e.get("selectorItemGap",!0));var d=e.get("selectorButtonGap",!0),f=a.getBoundingRect(),p=[-f.x,-f.y],g=Y5.clone(n);r&&(g[l]=n[l]-f[l]-d);var m=this._layoutContentAndController(e,i,g,s,l,c,h);if(r){if("end"===o)p[s]+=m[l]+d;else{var v=f[l]+d;p[s]-=v,m[u]-=v}m[l]+=f[l]+d,p[1-s]+=m[h]+m[c]/2-f[c]/2,m[c]=Math.max(m[c],f[c]),m[h]=Math.min(m[h],f[h]+p[1-s]),a.attr("position",p)}return m},_layoutContentAndController:function(e,t,n,i,r,o,a){var s=this.getContentGroup(),l=this._containerGroup,u=this._controllerGroup;q5.box(e.get("orient"),s,e.get("itemGap"),i?n.width:null,i?null:n.height),q5.box("horizontal",u,e.get("pageButtonItemGap",!0));var c=s.getBoundingRect(),h=u.getBoundingRect(),d=this._showController=c[r]>n[r],f=[-c.x,-c.y];t||(f[i]=s.position[i]);var p=[0,0],g=[-h.x,-h.y],m=Y5.retrieve2(e.get("pageButtonGap",!0),e.get("itemGap",!0));d&&("end"===e.get("pageButtonPosition",!0)?g[i]+=n[r]-h[r]:p[i]+=h[r]+m);g[1-i]+=c[o]/2-h[o]/2,s.attr("position",f),l.attr("position",p),u.attr("position",g);var v={x:0,y:0};if(v[r]=d?n[r]:c[r],v[o]=Math.max(c[o],h[o]),v[a]=Math.min(0,h[a]+g[1-i]),l.__rectSize=n[r],d){var y={x:0,y:0};y[r]=Math.max(n[r]-h[r]-m,0),y[o]=v[o],l.setClipPath(new X5.Rect({shape:y})),l.__rectSize=y[r]}else u.eachChild((function(e){e.attr({invisible:!0,silent:!0})}));var _=this._getPageInfo(e);return null!=_.pageIndex&&X5.updateProps(s,{position:_.contentPosition},!!d&&e),this._updatePageInfoView(e,_),v},_pageGo:function(e,t,n){var i=this._getPageInfo(t)[e];null!=i&&n.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:t.id})},_updatePageInfoView:function(e,t){var n=this._controllerGroup;Y5.each(["pagePrev","pageNext"],(function(i){var r=null!=t[i+"DataIndex"],o=n.childOfName(i);o&&(o.setStyle("fill",r?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),o.cursor=r?"pointer":"default")}));var i=n.childOfName("pageText"),r=e.get("pageFormatter"),o=t.pageIndex,a=null!=o?o+1:0,s=t.pageCount;i&&r&&i.setStyle("text",Y5.isString(r)?r.replace("{current}",a).replace("{total}",s):r({current:a,total:s}))},_getPageInfo:function(e){var t=e.get("scrollDataIndex",!0),n=this.getContentGroup(),i=this._containerGroup.__rectSize,r=e.getOrient().index,o=Q5[r],a=$5[r],s=this._findTargetItemIndex(t),l=n.children(),u=l[s],c=l.length,h=c?1:0,d={contentPosition:n.position.slice(),pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!u)return d;var f=y(u);d.contentPosition[r]=-f.s;for(var p=s+1,g=f,m=f,v=null;p<=c;++p)(!(v=y(l[p]))&&m.e>g.s+i||v&&!_(v,g.s))&&(g=m.i>g.i?m:v)&&(null==d.pageNextDataIndex&&(d.pageNextDataIndex=g.i),++d.pageCount),m=v;for(p=s-1,g=f,m=f,v=null;p>=-1;--p)(v=y(l[p]))&&_(m,v.s)||!(g.i<m.i)||(m=g,null==d.pagePrevDataIndex&&(d.pagePrevDataIndex=g.i),++d.pageCount,++d.pageIndex),g=v;return d;function y(e){if(e){var t=e.getBoundingRect(),n=t[a]+e.position[r];return{s:n,e:n+t[o],i:e.__legendDataIndex}}}function _(e,t){return e.e>=t&&e.s<=t+i}},_findTargetItemIndex:function(e){return this._showController?(this.getContentGroup().eachChild((function(i,r){var o=i.__legendDataIndex;null==n&&null!=o&&(n=r),o===e&&(t=r)})),null!=t?t:n):0;var t,n}});c.registerAction("legendScroll","legendscroll",(function(e,t){var n=e.scrollDataIndex;null!=n&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},(function(e){e.setScrollDataIndex(n)}))})),Y0.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});var t3=g,n3=ne,i3=Ia,r3=gm,o3=X0,a3=Ah,s3=Ih,l3=Jz,u3=i3.Rect,c3=a3.linearMap,h3=a3.asc,d3=t3.bind,f3=t3.each,p3=["line","bar","candlestick","scatter"],g3=o3.extend({type:"dataZoom.slider",init:function(e,t){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=t},render:function(e,t,n,i){g3.superApply(this,"render",arguments),r3.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=e.get("orient"),!1!==this.dataZoomModel.get("show")?(i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){g3.superApply(this,"remove",arguments),r3.clear(this,"_dispatchZoomAction")},dispose:function(){g3.superApply(this,"dispose",arguments),r3.clear(this,"_dispatchZoomAction")},_buildView:function(){var e=this.group;e.removeAll(),this._resetLocation(),this._resetInterval();var t=this._displayables.barGroup=new i3.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},_resetLocation:function(){var e=this.dataZoomModel,t=this.api,n=this._findCoordRect(),i={width:t.getWidth(),height:t.getHeight()},r="horizontal"===this._orient?{right:i.width-n.x-n.width,top:i.height-30-7,width:n.width,height:30}:{right:7,top:n.y,width:30,height:n.height},o=s3.getLayoutParams(e.option);t3.each(["right","top","width","height"],(function(e){"ph"===o[e]&&(o[e]=r[e])}));var a=s3.getLayoutRect(o,i,e.padding);this._location={x:a.x,y:a.y},this._size=[a.width,a.height],"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var e=this.group,t=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),r=i&&i.get("inverse"),o=this._displayables.barGroup,a=(this._dataShadowInfo||{}).otherAxisInverse;o.attr("horizontal"!==n||r?"horizontal"===n&&r?{scale:a?[-1,1]:[-1,-1]}:"vertical"!==n||r?{scale:a?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:a?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:a?[1,1]:[1,-1]});var s=e.getBoundingRect([o]);e.attr("position",[t.x-s.x,t.y-s.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var e=this.dataZoomModel,t=this._size,n=this._displayables.barGroup;n.add(new u3({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:e.get("backgroundColor")},z2:-40})),n.add(new u3({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:t3.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(e){var t=this._size,n=e.series,i=n.getRawData(),r=n.getShadowDim?n.getShadowDim():e.otherDim;if(null!=r){var o=i.getDataExtent(r),a=.3*(o[1]-o[0]);o=[o[0]-a,o[1]+a];var s,l=[0,t[1]],u=[0,t[0]],c=[[t[0],0],[0,0]],h=[],d=u[1]/(i.count()-1),f=0,p=Math.round(i.count()/t[0]);i.each([r],(function(e,t){if(p>0&&t%p)f+=d;else{var n=null==e||isNaN(e)||""===e,i=n?0:c3(e,o,l,!0);n&&!s&&t?(c.push([c[c.length-1][0],0]),h.push([h[h.length-1][0],0])):!n&&s&&(c.push([f,0]),h.push([f,0])),c.push([f,i]),h.push([f,i]),f+=d,s=n}}));var g=this.dataZoomModel;this._displayables.barGroup.add(new i3.Polygon({shape:{points:c},style:t3.defaults({fill:g.get("dataBackgroundColor")},g.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new i3.Polyline({shape:{points:h},style:g.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var e=this.dataZoomModel,t=e.get("showDataShadow");if(!1!==t){var n,i=this.ecModel;return e.eachTargetAxis((function(r,o){var a=e.getAxisProxy(r.name,o).getTargetSeriesModels();t3.each(a,(function(e){if(!(n||!0!==t&&t3.indexOf(p3,e.get("type"))<0)){var a,s=i.getComponent(r.axis,o).axis,l={x:"y",y:"x",radius:"angle",angle:"radius"}[r.name],u=e.coordinateSystem;null!=l&&u.getOtherAxis&&(a=u.getOtherAxis(s).inverse),l=e.getData().mapDimension(l),n={thisAxis:s,series:e,thisDim:r.name,otherDim:l,otherAxisInverse:a}}}),this)}),this),n}},_renderHandle:function(){var e=this._displayables,t=e.handles=[],n=e.handleLabels=[],i=this._displayables.barGroup,r=this._size,o=this.dataZoomModel;i.add(e.filler=new u3({draggable:!0,cursor:m3(this._orient),drift:d3(this._onDragMove,this,"all"),ondragstart:d3(this._showDataInfo,this,!0),ondragend:d3(this._onDragEnd,this),onmouseover:d3(this._showDataInfo,this,!0),onmouseout:d3(this._showDataInfo,this,!1),style:{fill:o.get("fillerColor"),textPosition:"inside"}})),i.add(new u3({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{stroke:o.get("dataBackgroundColor")||o.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),f3([0,1],(function(e){var r=i3.createIcon(o.get("handleIcon"),{cursor:m3(this._orient),draggable:!0,drift:d3(this._onDragMove,this,e),ondragend:d3(this._onDragEnd,this),onmouseover:d3(this._showDataInfo,this,!0),onmouseout:d3(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),a=r.getBoundingRect();this._handleHeight=a3.parsePercent(o.get("handleSize"),this._size[1]),this._handleWidth=a.width/a.height*this._handleHeight,r.setStyle(o.getModel("handleStyle").getItemStyle());var s=o.get("handleColor");null!=s&&(r.style.fill=s),i.add(t[e]=r);var l=o.textStyleModel;this.group.add(n[e]=new i3.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:l.getTextColor(),textFont:l.getFont()},z2:10}))}),this)},_resetInterval:function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[c3(e[0],[0,100],t,!0),c3(e[1],[0,100],t,!0)]},_updateInterval:function(e,t){var n=this.dataZoomModel,i=this._handleEnds,r=this._getViewExtent(),o=n.findRepresentativeAxisProxy().getMinMaxSpan(),a=[0,100];l3(t,i,r,n.get("zoomLock")?"all":e,null!=o.minSpan?c3(o.minSpan,a,r,!0):null,null!=o.maxSpan?c3(o.maxSpan,a,r,!0):null);var s=this._range,l=this._range=h3([c3(i[0],r,a,!0),c3(i[1],r,a,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},_updateView:function(e){var t=this._displayables,n=this._handleEnds,i=h3(n.slice()),r=this._size;f3([0,1],(function(e){var i=t.handles[e],o=this._handleHeight;i.attr({scale:[o/2,o/2],position:[n[e],r[1]/2-o/2]})}),this),t.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:r[1]}),this._updateDataInfo(e)},_updateDataInfo:function(e){var t=this.dataZoomModel,n=this._displayables,i=n.handleLabels,r=this._orient,o=["",""];if(t.get("showDetail")){var a=t.findRepresentativeAxisProxy();if(a){var s=a.getAxisModel().axis,l=this._range,u=e?a.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:a.getDataValueWindow();o=[this._formatLabel(u[0],s),this._formatLabel(u[1],s)]}}var c=h3(this._handleEnds.slice());function h(e){var t=i3.getTransform(n.handles[e].parent,this.group),a=i3.transformDirection(0===e?"right":"left",t),s=this._handleWidth/2+5,l=i3.applyTransform([c[e]+(0===e?-s:s),this._size[1]/2],t);i[e].setStyle({x:l[0],y:l[1],textVerticalAlign:"horizontal"===r?"middle":a,textAlign:"horizontal"===r?a:"center",text:o[e]})}h.call(this,0),h.call(this,1)},_formatLabel:function(e,t){var n=this.dataZoomModel,i=n.get("labelFormatter"),r=n.get("labelPrecision");null!=r&&"auto"!==r||(r=t.getPixelPrecision());var o=null==e||isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel(Math.round(e)):e.toFixed(Math.min(r,20));return t3.isFunction(i)?i(e,o):t3.isString(i)?i.replace("{value}",o):o},_showDataInfo:function(e){e=this._dragging||e;var t=this._displayables.handleLabels;t[0].attr("invisible",!e),t[1].attr("invisible",!e)},_onDragMove:function(e,t,n,i){this._dragging=!0,n3.stop(i.event);var r=this._displayables.barGroup.getLocalTransform(),o=i3.applyTransform([t,n],r,!0),a=this._updateInterval(e,o[0]),s=this.dataZoomModel.get("realtime");this._updateView(!s),a&&s&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(e){var t=this._size,n=this._displayables.barGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(n[0]<0||n[0]>t[0]||n[1]<0||n[1]>t[1])){var i=this._handleEnds,r=(i[0]+i[1])/2,o=this._updateInterval("all",n[0]-r);this._updateView(),o&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:e[0],end:e[1]})},_findCoordRect:function(){var e;if(f3(this.getTargetCoordInfo(),(function(t){if(!e&&t.length){var n=t[0].model.coordinateSystem;e=n.getRect&&n.getRect()}})),!e){var t=this.api.getWidth(),n=this.api.getHeight();e={x:.2*t,y:.2*n,width:.6*t,height:.6*n}}return e}});function m3(e){return"vertical"===e?"ns-resize":"ew-resize"}Y0.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});var v3={},y3=g,_3=tL,x3=gm,b3="\0_ec_dataZoom_roams";function w3(e){var t=e.getZr();return t[b3]||(t[b3]={})}function S3(e){y3.each(e,(function(t,n){t.count||(t.controller.dispose(),delete e[n])}))}function M3(e,t){e.dispatchAction({type:"dataZoom",batch:t})}v3.register=function(e,t){var n=w3(e),i=t.dataZoomId,r=t.coordId;y3.each(n,(function(e,n){var o=e.dataZoomInfos;o[i]&&y3.indexOf(t.allCoordIds,r)<0&&(delete o[i],e.count--)})),S3(n);var o=n[r];o||((o=n[r]={coordId:r,dataZoomInfos:{},count:0}).controller=function(e,t){var n=new _3(e.getZr());return y3.each(["pan","zoom","scrollMove"],(function(e){n.on(e,(function(n){var i=[];y3.each(t.dataZoomInfos,(function(r){if(n.isAvailableBehavior(r.dataZoomModel.option)){var o=(r.getRange||{})[e],a=o&&o(t.controller,n);!r.dataZoomModel.get("disabled",!0)&&a&&i.push({dataZoomId:r.dataZoomId,start:a[0],end:a[1]})}})),i.length&&t.dispatchAction(i)}))})),n}(e,o),o.dispatchAction=y3.curry(M3,e)),!o.dataZoomInfos[i]&&o.count++,o.dataZoomInfos[i]=t;var a,s,l,u,c,h=(a=o.dataZoomInfos,l="type_",u={type_true:2,type_move:1,type_false:0,type_undefined:-1},c=!0,y3.each(a,(function(e){var t=e.dataZoomModel,n=!t.get("disabled",!0)&&(!t.get("zoomLock",!0)||"move");u[l+n]>u[l+s]&&(s=n),c&=t.get("preventDefaultMouseMove",!0)})),{controlType:s,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!c}});o.controller.enable(h.controlType,h.opt),o.controller.setPointerChecker(t.containsPoint),x3.createOrUpdate(o,"dispatchAction",t.dataZoomModel.get("throttle",!0),"fixRate")},v3.unregister=function(e,t){var n=w3(e);y3.each(n,(function(e){e.controller.dispose();var n=e.dataZoomInfos;n[t]&&(delete n[t],e.count--)})),S3(n)},v3.generateCoordId=function(e){return e.type+"\0_"+e.id};var I3=g,A3=X0,T3=Jz,C3=v3,D3=I3.bind,P3=A3.extend({type:"dataZoom.inside",init:function(e,t){this._range},render:function(e,t,n,i){P3.superApply(this,"render",arguments),this._range=e.getPercentRange(),I3.each(this.getTargetCoordInfo(),(function(t,i){var r=I3.map(t,(function(e){return C3.generateCoordId(e.model)}));I3.each(t,(function(t){var o=t.model,a={};I3.each(["pan","zoom","scrollMove"],(function(e){a[e]=D3(L3[e],this,t,i)}),this),C3.register(n,{coordId:C3.generateCoordId(o),allCoordIds:r,containsPoint:function(e,t,n){return o.coordinateSystem.containPoint([t,n])},dataZoomId:e.id,dataZoomModel:e,getRange:a})}),this)}),this)},dispose:function(){C3.unregister(this.api,this.dataZoomModel.id),P3.superApply(this,"dispose",arguments),this._range=null}}),L3={zoom:function(e,t,n,i){var r=this._range,o=r.slice(),a=e.axisModels[0];if(a){var s=N3[t](null,[i.originX,i.originY],a,n,e),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(o[1]-o[0])+o[0],u=Math.max(1/i.scale,0);o[0]=(o[0]-l)*u+l,o[1]=(o[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return T3(0,o,[0,100],0,c.minSpan,c.maxSpan),this._range=o,r[0]!==o[0]||r[1]!==o[1]?o:void 0}},pan:k3((function(e,t,n,i,r,o){var a=N3[i]([o.oldX,o.oldY],[o.newX,o.newY],t,r,n);return a.signal*(e[1]-e[0])*a.pixel/a.pixelLength})),scrollMove:k3((function(e,t,n,i,r,o){return N3[i]([0,0],[o.scrollDelta,o.scrollDelta],t,r,n).signal*(e[1]-e[0])*o.scrollDelta}))};function k3(e){return function(t,n,i,r){var o=this._range,a=o.slice(),s=t.axisModels[0];if(s){var l=e(a,s,t,n,i,r);return T3(l,a,[0,100],"all"),this._range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}}}var O3,N3={grid:function(e,t,n,i,r){var o=n.axis,a={},s=r.model.coordinateSystem.getRect();return e=e||[0,0],"x"===o.dim?(a.pixel=t[0]-e[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=t[1]-e[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},polar:function(e,t,n,i,r){var o=n.axis,a={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return e=e?s.pointToCoord(e):[0,0],t=s.pointToCoord(t),"radiusAxis"===n.mainType?(a.pixel=t[0]-e[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?1:-1):(a.pixel=t[1]-e[1],a.pixelLength=u[1]-u[0],a.pixelStart=u[0],a.signal=o.inverse?-1:1),a},singleAxis:function(e,t,n,i,r){var o=n.axis,a=r.model.coordinateSystem.getRect(),s={};return e=e||[0,0],"horizontal"===o.orient?(s.pixel=t[0]-e[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s}},R3={},E3=p,z3="urn:schemas-microsoft-com:vml",B3="undefined"==typeof window?null:window,V3=!1,G3=B3&&B3.document;if(G3&&!E3.canvasSupported)try{!G3.namespaces.zrvml&&G3.namespaces.add("zrvml",z3),O3=function(e){return G3.createElement("<zrvml:"+e+' class="zrvml">')}}catch(m7){O3=function(e){return G3.createElement("<"+e+' xmlns="'+z3+'" class="zrvml">')}}R3.doc=G3,R3.createNode=function(e){return O3(e)},R3.initVML=function(){if(!V3&&G3){V3=!0;var e=G3.styleSheets;e.length<31?G3.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):e[0].addRule(".zrvml","behavior:url(#default#VML)")}};var F3=p,H3=V.applyTransform,W3=Pn,U3=at,j3=xi,Z3=_i,Y3=Nr,X3=Gr,q3=Zr,K3=Dl,J3=nl,Q3=_s,$3=Pu,e4=R3,t4=Q3.CMD,n4=Math.round,i4=Math.sqrt,r4=Math.abs,o4=Math.cos,a4=Math.sin,s4=Math.max;if(!F3.canvasSupported){var l4=21600,u4=l4/2,c4=function(e){e.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",e.coordsize=l4+","+l4,e.coordorigin="0,0"},h4=function(e,t,n){return"rgb("+[e,t,n].join(",")+")"},d4=function(e,t){t&&e&&t.parentNode!==e&&e.appendChild(t)},f4=function(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)},p4=function(e,t,n){return 1e5*(parseFloat(e)||0)+1e3*(parseFloat(t)||0)+n},g4=Z3.parsePercent,m4=function(e,t,n){var i=U3.parse(t);n=+n,isNaN(n)&&(n=1),i&&(e.color=h4(i[0],i[1],i[2]),e.opacity=n*i[3])},v4=function(e){var t=U3.parse(e);return[h4(t[0],t[1],t[2]),t[3]]},y4=function(e,t,n,i){var r="fill"===t,o=e.getElementsByTagName(t)[0];null!=n[t]&&"none"!==n[t]&&(r||!r&&n.lineWidth)?(e[r?"filled":"stroked"]="true",n[t]instanceof $3&&f4(e,o),o||(o=e4.createNode(t)),r?function(e,t,n){var i=t.fill;if(null!=i)if(i instanceof $3){var r,o=0,a=[0,0],s=0,l=1,u=n.getBoundingRect(),c=u.width,h=u.height;if("linear"===i.type){r="gradient";var d=n.transform,f=[i.x*c,i.y*h],p=[i.x2*c,i.y2*h];d&&(H3(f,f,d),H3(p,p,d));var g=p[0]-f[0],m=p[1]-f[1];(o=180*Math.atan2(g,m)/Math.PI)<0&&(o+=360),o<1e-6&&(o=0)}else{r="gradientradial",f=[i.x*c,i.y*h],d=n.transform;var v=n.scale,y=c,_=h;a=[(f[0]-u.x)/y,(f[1]-u.y)/_],d&&H3(f,f,d),y/=v[0]*l4,_/=v[1]*l4;var x=s4(y,_);s=0/x,l=2*i.r/x-s}var b=i.colorStops.slice();b.sort((function(e,t){return e.offset-t.offset}));for(var w=b.length,S=[],M=[],I=0;I<w;I++){var A=b[I],T=v4(A.color);M.push(A.offset*l+s+" "+T[0]),0!==I&&I!==w-1||S.push(T)}if(w>=2){var C=S[0][0],D=S[1][0],P=S[0][1]*t.opacity,L=S[1][1]*t.opacity;e.type=r,e.method="none",e.focus="100%",e.angle=o,e.color=C,e.color2=D,e.colors=M.join(","),e.opacity=L,e.opacity2=P}"radial"===r&&(e.focusposition=a.join(","))}else m4(e,i,t.opacity)}(o,n,i):function(e,t){t.lineDash&&(e.dashstyle=t.lineDash.join(" ")),null==t.stroke||t.stroke instanceof $3||m4(e,t.stroke,t.opacity)}(o,n),d4(e,o)):(e[r?"filled":"stroked"]="false",f4(e,o))},_4=[[],[],[]];J3.prototype.brushVML=function(e){var t=this.style,n=this._vmlEl;n||(n=e4.createNode("shape"),c4(n),this._vmlEl=n),y4(n,"fill",t,this),y4(n,"stroke",t,this);var i=this.transform,r=null!=i,o=n.getElementsByTagName("stroke")[0];if(o){var a=t.lineWidth;if(r&&!t.strokeNoScale){var s=i[0]*i[3]-i[1]*i[2];a*=i4(r4(s))}o.weight=a+"px"}var l=this.path||(this.path=new Q3);this.__dirtyPath&&(l.beginPath(),l.subPixelOptimize=!1,this.buildPath(l,this.shape),l.toStatic(),this.__dirtyPath=!1),n.path=function(e,t){var n,i,r,o,a,s,l=t4.M,u=t4.C,c=t4.L,h=t4.A,d=t4.Q,f=[],p=e.data,g=e.len();for(o=0;o<g;){switch(i="",n=0,r=p[o++]){case l:i=" m ",n=1,a=p[o++],s=p[o++],_4[0][0]=a,_4[0][1]=s;break;case c:i=" l ",n=1,a=p[o++],s=p[o++],_4[0][0]=a,_4[0][1]=s;break;case d:case u:i=" c ",n=3;var m,v,y=p[o++],_=p[o++],x=p[o++],b=p[o++];r===d?(m=x,v=b,x=(x+2*y)/3,b=(b+2*_)/3,y=(a+2*y)/3,_=(s+2*_)/3):(m=p[o++],v=p[o++]),_4[0][0]=y,_4[0][1]=_,_4[1][0]=x,_4[1][1]=b,_4[2][0]=m,_4[2][1]=v,a=m,s=v;break;case h:var w=0,S=0,M=1,I=1,A=0;t&&(w=t[4],S=t[5],M=i4(t[0]*t[0]+t[1]*t[1]),I=i4(t[2]*t[2]+t[3]*t[3]),A=Math.atan2(-t[1]/I,t[0]/M));var T=p[o++],C=p[o++],D=p[o++],P=p[o++],L=p[o++]+A,k=p[o++]+L+A;o++;var O=p[o++],N=T+o4(L)*D,R=C+a4(L)*P,E=(y=T+o4(k)*D,_=C+a4(k)*P,O?" wa ":" at ");Math.abs(N-y)<1e-4&&(Math.abs(k-L)>.01?O&&(N+=270/l4):Math.abs(R-C)<1e-4?O&&N<T||!O&&N>T?_-=270/l4:_+=270/l4:O&&R<C||!O&&R>C?y+=270/l4:y-=270/l4),f.push(E,n4(((T-D)*M+w)*l4-u4),",",n4(((C-P)*I+S)*l4-u4),",",n4(((T+D)*M+w)*l4-u4),",",n4(((C+P)*I+S)*l4-u4),",",n4((N*M+w)*l4-u4),",",n4((R*I+S)*l4-u4),",",n4((y*M+w)*l4-u4),",",n4((_*I+S)*l4-u4)),a=y,s=_;break;case t4.R:var z=_4[0],B=_4[1];z[0]=p[o++],z[1]=p[o++],B[0]=z[0]+p[o++],B[1]=z[1]+p[o++],t&&(H3(z,z,t),H3(B,B,t)),z[0]=n4(z[0]*l4-u4),B[0]=n4(B[0]*l4-u4),z[1]=n4(z[1]*l4-u4),B[1]=n4(B[1]*l4-u4),f.push(" m ",z[0],",",z[1]," l ",B[0],",",z[1]," l ",B[0],",",B[1]," l ",z[0],",",B[1]);break;case t4.Z:f.push(" x ")}if(n>0){f.push(i);for(var V=0;V<n;V++){var G=_4[V];t&&H3(G,G,t),f.push(n4(G[0]*l4-u4),",",n4(G[1]*l4-u4),V<n-1?",":"")}}}return f.join("")}(l,this.transform),n.style.zIndex=p4(this.zlevel,this.z,this.z2),d4(e,n),null!=t.text?this.drawRectText(e,this.getBoundingRect()):this.removeRectText(e)},J3.prototype.onRemove=function(e){f4(e,this._vmlEl),this.removeRectText(e)},J3.prototype.onAdd=function(e){d4(e,this._vmlEl),this.appendRectText(e)};q3.prototype.brushVML=function(e){var t,n,i,r=this.style,o=r.image;if("object"==typeof(i=o)&&i.tagName&&"IMG"===i.tagName.toUpperCase()){var a=o.src;if(a===this._imageSrc)t=this._imageWidth,n=this._imageHeight;else{var s=o.runtimeStyle,l=s.width,u=s.height;s.width="auto",s.height="auto",t=o.width,n=o.height,s.width=l,s.height=u,this._imageSrc=a,this._imageWidth=t,this._imageHeight=n}o=a}else o===this._imageSrc&&(t=this._imageWidth,n=this._imageHeight);if(o){var c=r.x||0,h=r.y||0,d=r.width,f=r.height,p=r.sWidth,g=r.sHeight,m=r.sx||0,v=r.sy||0,y=p&&g,_=this._vmlEl;_||(_=e4.doc.createElement("div"),c4(_),this._vmlEl=_);var x,b=_.style,w=!1,S=1,M=1;if(this.transform&&(x=this.transform,S=i4(x[0]*x[0]+x[1]*x[1]),M=i4(x[2]*x[2]+x[3]*x[3]),w=x[1]||x[2]),w){var I=[c,h],A=[c+d,h],T=[c,h+f],C=[c+d,h+f];H3(I,I,x),H3(A,A,x),H3(T,T,x),H3(C,C,x);var D=s4(I[0],A[0],T[0],C[0]),P=s4(I[1],A[1],T[1],C[1]),L=[];L.push("M11=",x[0]/S,",","M12=",x[2]/M,",","M21=",x[1]/S,",","M22=",x[3]/M,",","Dx=",n4(c*S+x[4]),",","Dy=",n4(h*M+x[5])),b.padding="0 "+n4(D)+"px "+n4(P)+"px 0",b.filter="progid:DXImageTransform.Microsoft.Matrix("+L.join("")+", SizingMethod=clip)"}else x&&(c=c*S+x[4],h=h*M+x[5]),b.filter="",b.left=n4(c)+"px",b.top=n4(h)+"px";var k=this._imageEl,O=this._cropEl;k||(k=e4.doc.createElement("div"),this._imageEl=k);var N=k.style;if(y){if(t&&n)N.width=n4(S*t*d/p)+"px",N.height=n4(M*n*f/g)+"px";else{var R=new Image,E=this;R.onload=function(){R.onload=null,t=R.width,n=R.height,N.width=n4(S*t*d/p)+"px",N.height=n4(M*n*f/g)+"px",E._imageWidth=t,E._imageHeight=n,E._imageSrc=o},R.src=o}O||((O=e4.doc.createElement("div")).style.overflow="hidden",this._cropEl=O);var z=O.style;z.width=n4((d+m*d/p)*S),z.height=n4((f+v*f/g)*M),z.filter="progid:DXImageTransform.Microsoft.Matrix(Dx="+-m*d/p*S+",Dy="+-v*f/g*M+")",O.parentNode||_.appendChild(O),k.parentNode!==O&&O.appendChild(k)}else N.width=n4(S*d)+"px",N.height=n4(M*f)+"px",_.appendChild(k),O&&O.parentNode&&(_.removeChild(O),this._cropEl=null);var B="",V=r.opacity;V<1&&(B+=".Alpha(opacity="+n4(100*V)+") "),B+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+o+", SizingMethod=scale)",N.filter=B,_.style.zIndex=p4(this.zlevel,this.z,this.z2),d4(e,_),null!=r.text&&this.drawRectText(e,this.getBoundingRect())}},q3.prototype.onRemove=function(e){f4(e,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(e)},q3.prototype.onAdd=function(e){d4(e,this._vmlEl),this.appendRectText(e)};var x4,b4={},w4=0,S4=document.createElement("div");j3.$override("measureText",(function(e,t){var n=e4.doc;x4||((x4=n.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",e4.doc.body.appendChild(x4));try{x4.style.font=t}catch(i){}return x4.innerHTML="",x4.appendChild(n.createTextNode(e)),{width:x4.offsetWidth}}));for(var M4=new W3,I4=function(e,t,n,i){var r=this.style;this.__dirty&&Z3.normalizeTextStyle(r,!0);var o=r.text;if(null!=o&&(o+=""),o){if(r.rich){var a=j3.parseRichText(o,r);o=[];for(var s=0;s<a.lines.length;s++){for(var l=a.lines[s].tokens,u=[],c=0;c<l.length;c++)u.push(l[c].text);o.push(u.join(""))}o=o.join("\n")}var h,d,f=r.textAlign,p=r.textVerticalAlign,g=function(e){var t=b4[e];if(!t){w4>100&&(w4=0,b4={});var n,i=S4.style;try{i.font=e,n=i.fontFamily.split(",")[0]}catch(m7){}t={style:i.fontStyle||"normal",variant:i.fontVariant||"normal",weight:i.fontWeight||"normal",size:0|parseFloat(i.fontSize||12),family:n||"Microsoft YaHei"},b4[e]=t,w4++}return t}(r.font),m=g.style+" "+g.variant+" "+g.weight+" "+g.size+'px "'+g.family+'"';n=n||j3.getBoundingRect(o,m,f,p,r.textPadding,r.textLineHeight);var v=this.transform;if(v&&!i&&(M4.copy(t),M4.applyTransform(v),t=M4),i)h=t.x,d=t.y;else{var y=r.textPosition;if(y instanceof Array)h=t.x+g4(y[0],t.width),d=t.y+g4(y[1],t.height),f=f||"left";else{var _=this.calculateTextPosition?this.calculateTextPosition({},r,t):j3.calculateTextPosition({},r,t);h=_.x,d=_.y,f=f||_.textAlign,p=p||_.textVerticalAlign}}h=j3.adjustTextX(h,n.width,f),d=j3.adjustTextY(d,n.height,p),d+=n.height/2;var x,b,w,S=e4.createNode,M=this._textVmlEl;M?b=(x=(w=M.firstChild).nextSibling).nextSibling:(M=S("line"),x=S("path"),b=S("textpath"),w=S("skew"),b.style["v-text-align"]="left",c4(M),x.textpathok=!0,b.on=!0,M.from="0 0",M.to="1000 0.05",d4(M,w),d4(M,x),d4(M,b),this._textVmlEl=M);var I=[h,d],A=M.style;v&&i?(H3(I,I,v),w.on=!0,w.matrix=v[0].toFixed(3)+","+v[2].toFixed(3)+","+v[1].toFixed(3)+","+v[3].toFixed(3)+",0,0",w.offset=(n4(I[0])||0)+","+(n4(I[1])||0),w.origin="0 0",A.left="0px",A.top="0px"):(w.on=!1,A.left=n4(h)+"px",A.top=n4(d)+"px"),b.string=String(o).replace(/&/g,"&amp;").replace(/"/g,"&quot;");try{b.style.font=m}catch(m7){}y4(M,"fill",{fill:r.textFill,opacity:r.opacity},this),y4(M,"stroke",{stroke:r.textStroke,opacity:r.opacity,lineDash:r.lineDash||null},this),M.style.zIndex=p4(this.zlevel,this.z,this.z2),d4(e,M)}},A4=function(e){f4(e,this._textVmlEl),this._textVmlEl=null},T4=function(e){d4(e,this._textVmlEl)},C4=[Y3,X3,q3,J3,K3],D4=0;D4<C4.length;D4++){var P4=C4[D4].prototype;P4.drawRectText=I4,P4.removeRectText=A4,P4.appendRectText=T4}K3.prototype.brushVML=function(e){var t=this.style;null!=t.text?this.drawRectText(e,{x:t.x||0,y:t.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(e)},K3.prototype.onRemove=function(e){this.removeRectText(e)},K3.prototype.onAdd=function(e){this.appendRectText(e)}}var L4=en,k4=R3,O4=g.each;function N4(e){return parseInt(e,10)}function R4(e,t){k4.initVML(),this.root=e,this.storage=t;var n=document.createElement("div"),i=document.createElement("div");n.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",i.style.cssText="position:absolute;left:0;top:0;",e.appendChild(n),this._vmlRoot=i,this._vmlViewport=n,this.resize();var r=t.delFromStorage,o=t.addToStorage;t.delFromStorage=function(e){r.call(t,e),e&&e.onRemove&&e.onRemove(i)},t.addToStorage=function(e){e.onAdd&&e.onAdd(i),o.call(t,e)},this._firstPaint=!0}R4.prototype={constructor:R4,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(){var e=this.storage.getDisplayList(!0,!0);this._paintList(e)},_paintList:function(e){for(var t=this._vmlRoot,n=0;n<e.length;n++){var i=e[n];i.invisible||i.ignore?(i.__alreadyNotVisible||i.onRemove(t),i.__alreadyNotVisible=!0):(i.__alreadyNotVisible&&i.onAdd(t),i.__alreadyNotVisible=!1,i.__dirty&&(i.beforeBrush&&i.beforeBrush(),(i.brushVML||i.brush).call(i,t),i.afterBrush&&i.afterBrush())),i.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(t),this._firstPaint=!1)},resize:function(e,t){e=null==e?this._getWidth():e,t=null==t?this._getHeight():t;if(this._width!==e||this._height!==t){this._width=e,this._height=t;var n=this._vmlViewport.style;n.width=e+"px",n.height=t+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var e=this.root,t=e.currentStyle;return(e.clientWidth||N4(t.width))-N4(t.paddingLeft)-N4(t.paddingRight)|0},_getHeight:function(){var e=this.root,t=e.currentStyle;return(e.clientHeight||N4(t.height))-N4(t.paddingTop)-N4(t.paddingBottom)|0}},O4(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],(function(e){var t;R4.prototype[e]=(t=e,function(){L4('In IE8.0 VML mode painter not support method "'+t+'"')})}));var E4=R4;(0,h.registerPainter)("vml",E4);var z4={},B4={};B4.createElement=function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)};var V4=B4.createElement,G4=Pn,F4=Fe,H4=xi,W4=_i,U4=Dl,j4=_s.CMD,Z4=Array.prototype.join,Y4=Math.round,X4=Math.sin,q4=Math.cos,K4=Math.PI,J4=2*Math.PI,Q4=180/K4;function $4(e){return Y4(1e4*e)/1e4}function e6(e){return e<1e-4&&e>-1e-4}function t6(e,t){t&&n6(e,"transform","matrix("+Z4.call(t,",")+")")}function n6(e,t,n){(!n||"linear"!==n.type&&"radial"!==n.type)&&e.setAttribute(t,n)}function i6(e,t,n,i){if(function(e,t){var n=t?e.textFill:e.fill;return null!=n&&"none"!==n}(t,n)){var r=n?t.textFill:t.fill;n6(e,"fill",r="transparent"===r?"none":r),n6(e,"fill-opacity",null!=t.fillOpacity?t.fillOpacity*t.opacity:t.opacity)}else n6(e,"fill","none");if(function(e,t){var n=t?e.textStroke:e.stroke;return null!=n&&"none"!==n}(t,n)){var o=n?t.textStroke:t.stroke;n6(e,"stroke",o="transparent"===o?"none":o),n6(e,"stroke-width",(n?t.textStrokeWidth:t.lineWidth)/(!n&&t.strokeNoScale?i.getLineScale():1)),n6(e,"paint-order",n?"stroke":"fill"),n6(e,"stroke-opacity",null!=t.strokeOpacity?t.strokeOpacity:t.opacity),t.lineDash?(n6(e,"stroke-dasharray",t.lineDash.join(",")),n6(e,"stroke-dashoffset",Y4(t.lineDashOffset||0))):n6(e,"stroke-dasharray",""),t.lineCap&&n6(e,"stroke-linecap",t.lineCap),t.lineJoin&&n6(e,"stroke-linejoin",t.lineJoin),t.miterLimit&&n6(e,"stroke-miterlimit",t.miterLimit)}else n6(e,"stroke","none")}var r6={};r6.brush=function(e){var t=e.style,n=e.__svgEl;n||(n=V4("path"),e.__svgEl=n),e.path||e.createPathProxy();var i=e.path;if(e.__dirtyPath){i.beginPath(),i.subPixelOptimize=!1,e.buildPath(i,e.shape),e.__dirtyPath=!1;var r=function(e){for(var t=[],n=e.data,i=e.len(),r=0;r<i;){var o="",a=0;switch(n[r++]){case j4.M:o="M",a=2;break;case j4.L:o="L",a=2;break;case j4.Q:o="Q",a=4;break;case j4.C:o="C",a=6;break;case j4.A:var s=n[r++],l=n[r++],u=n[r++],c=n[r++],h=n[r++],d=n[r++],f=n[r++],p=n[r++],g=Math.abs(d),m=e6(g-J4)||(p?d>=J4:-d>=J4),v=d>0?d%J4:d%J4+J4,y=!1;y=!!m||!e6(g)&&v>=K4==!!p;var _=$4(s+u*q4(h)),x=$4(l+c*X4(h));m&&(d=p?J4-1e-4:1e-4-J4,y=!0,9===r&&t.push("M",_,x));var b=$4(s+u*q4(h+d)),w=$4(l+c*X4(h+d));t.push("A",$4(u),$4(c),Y4(f*Q4),+y,+p,b,w);break;case j4.Z:o="Z";break;case j4.R:b=$4(n[r++]),w=$4(n[r++]);var S=$4(n[r++]),M=$4(n[r++]);t.push("M",b,w,"L",b+S,w,"L",b+S,w+M,"L",b,w+M,"L",b,w)}o&&t.push(o);for(var I=0;I<a;I++)t.push($4(n[r++]))}return t.join(" ")}(i);r.indexOf("NaN")<0&&n6(n,"d",r)}i6(n,t,!1,e),t6(n,e.transform),null!=t.text?h6(e,e.getBoundingRect()):f6(e)};var o6={brush:function(e){var t=e.style,n=t.image;n instanceof HTMLImageElement&&(n=n.src);if(n){var i=t.x||0,r=t.y||0,o=t.width,a=t.height,s=e.__svgEl;s||(s=V4("image"),e.__svgEl=s),n!==e.__imageSrc&&(!function(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}(s,"href",n),e.__imageSrc=n),n6(s,"width",o),n6(s,"height",a),n6(s,"x",i),n6(s,"y",r),t6(s,e.transform),null!=t.text?h6(e,e.getBoundingRect()):f6(e)}}},a6={},s6=new G4,l6={},u6=[],c6={left:"start",right:"end",center:"middle",middle:"middle"},h6=function(e,t){var n=e.style,i=e.transform,r=e instanceof U4||n.transformText;e.__dirty&&W4.normalizeTextStyle(n,!0);var o=n.text;if(null!=o&&(o+=""),W4.needDrawText(o,n)){null==o&&(o=""),!r&&i&&(s6.copy(t),s6.applyTransform(i),t=s6);var a=e.__textSvgEl;a||(a=V4("text"),e.__textSvgEl=a);var s=a.style,l=n.font||H4.DEFAULT_FONT,u=a.__computedFont;l!==a.__styleFont&&(s.font=a.__styleFont=l,u=a.__computedFont=s.font);var c=n.textPadding,h=n.textLineHeight,d=e.__textCotentBlock;d&&!e.__dirtyText||(d=e.__textCotentBlock=H4.parsePlainText(o,u,c,h,n.truncate));var f=d.outerHeight,p=d.lineHeight;W4.getBoxPosition(l6,e,n,t);var g=l6.baseX,m=l6.baseY,v=l6.textAlign||"left",y=l6.textVerticalAlign;!function(e,t,n,i,r,o,a){F4.identity(u6),t&&n&&F4.copy(u6,n);var s=i.textRotation;if(r&&s){var l=i.textOrigin;"center"===l?(o=r.width/2+r.x,a=r.height/2+r.y):l&&(o=l[0]+r.x,a=l[1]+r.y),u6[4]-=o,u6[5]-=a,F4.rotate(u6,u6,s),u6[4]+=o,u6[5]+=a}t6(e,u6)}(a,r,i,n,t,g,m);var _=g,x=H4.adjustTextY(m,f,y);c&&(_=function(e,t,n){return"right"===t?e-n[1]:"center"===t?e+n[3]/2-n[1]/2:e+n[3]}(g,v,c),x+=c[0]),x+=p/2,i6(a,n,!0,e);var b=d.canCacheByTextString,w=e.__tspanList||(e.__tspanList=[]),S=w.length;if(b&&e.__canCacheByTextString&&e.__text===o){if(e.__dirtyText&&S)for(var M=0;M<S;++M)d6(w[M],v,_,x+M*p)}else{e.__text=o,e.__canCacheByTextString=b;var I=d.lines,A=I.length;for(M=0;M<A;M++){var T=w[M],C=I[M];T?T.__zrText!==C&&(T.innerHTML="",T.appendChild(document.createTextNode(C))):(T=w[M]=V4("tspan"),a.appendChild(T),T.appendChild(document.createTextNode(C))),d6(T,v,_,x+M*p)}if(S>A){for(;M<S;M++)a.removeChild(w[M]);w.length=A}}}};function d6(e,t,n,i){n6(e,"dominant-baseline","middle"),n6(e,"text-anchor",c6[t]),n6(e,"x",n),n6(e,"y",i)}function f6(e){e&&e.__textSvgEl&&(e.__textSvgEl.parentNode&&e.__textSvgEl.parentNode.removeChild(e.__textSvgEl),e.__textSvgEl=null,e.__tspanList=[],e.__text=null)}function p6(){}function g6(e,t,n,i){for(var r=0,o=t.length,a=0,s=0;r<o;r++){var l=t[r];if(l.removed){for(u=[],c=s;c<s+l.count;c++)u.push(c);l.indices=u,s+=l.count}else{for(var u=[],c=a;c<a+l.count;c++)u.push(c);l.indices=u,a+=l.count,l.added||(s+=l.count)}}return t}a6.drawRectText=h6,a6.brush=function(e){null!=e.style.text?h6(e,!1):f6(e)},z4.path=r6,z4.image=o6,z4.text=a6,p6.prototype={diff:function(e,t,n){n||(n=function(e,t){return e===t}),this.equals=n;var i=this;e=e.slice();var r=(t=t.slice()).length,o=e.length,a=1,s=r+o,l=[{newPos:-1,components:[]}],u=this.extractCommon(l[0],t,e,0);if(l[0].newPos+1>=r&&u+1>=o){for(var c=[],h=0;h<t.length;h++)c.push(h);return[{indices:c,count:t.length}]}function d(){for(var n=-1*a;n<=a;n+=2){var s,u=l[n-1],c=l[n+1],h=(c?c.newPos:0)-n;u&&(l[n-1]=void 0);var d=u&&u.newPos+1<r,f=c&&0<=h&&h<o;if(d||f){if(!d||f&&u.newPos<c.newPos?(s={newPos:(p=c).newPos,components:p.components.slice(0)},i.pushComponent(s.components,void 0,!0)):((s=u).newPos++,i.pushComponent(s.components,!0,void 0)),h=i.extractCommon(s,t,e,n),s.newPos+1>=r&&h+1>=o)return g6(i,s.components);l[n]=s}else l[n]=void 0}var p;a++}for(;a<=s;){var f=d();if(f)return f}},pushComponent:function(e,t,n){var i=e[e.length-1];i&&i.added===t&&i.removed===n?e[e.length-1]={count:i.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,i){for(var r=t.length,o=n.length,a=e.newPos,s=a-i,l=0;a+1<r&&s+1<o&&this.equals(t[a+1],n[s+1]);)a++,s++,l++;return l&&e.components.push({count:l}),e.newPos=a,s},tokenize:function(e){return e.slice()},join:function(e){return e.slice()}};var m6=new p6;var v6=function(e,t,n){return m6.diff(e,t,n)},y6=B4.createElement,_6=g,x6=nl,b6=Zr,w6=Dl,S6=z4,M6=S6.path,I6=S6.image,A6=S6.text;function T6(e,t,n,i,r){this._zrId=e,this._svgRoot=t,this._tagNames="string"==typeof n?[n]:n,this._markLabel=i,this._domName=r||"_dom",this.nextId=0}T6.prototype.createElement=y6,T6.prototype.getDefs=function(e){var t=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return 0===n.length?e?((n=t.insertBefore(this.createElement("defs"),t.firstChild)).contains||(n.contains=function(e){var t=n.children;if(!t)return!1;for(var i=t.length-1;i>=0;--i)if(t[i]===e)return!0;return!1}),n):null:n[0]},T6.prototype.update=function(e,t){if(e){var n=this.getDefs(!1);if(e[this._domName]&&n.contains(e[this._domName]))"function"==typeof t&&t(e);else{var i=this.add(e);i&&(e[this._domName]=i)}}},T6.prototype.addDom=function(e){this.getDefs(!0).appendChild(e)},T6.prototype.removeDom=function(e){var t=this.getDefs(!1);t&&e[this._domName]&&(t.removeChild(e[this._domName]),e[this._domName]=null)},T6.prototype.getDoms=function(){var e=this.getDefs(!1);if(!e)return[];var t=[];return _6.each(this._tagNames,(function(n){var i=e.getElementsByTagName(n);t=t.concat([].slice.call(i))})),t},T6.prototype.markAllUnused=function(){var e=this.getDoms(),t=this;_6.each(e,(function(e){e[t._markLabel]="0"}))},T6.prototype.markUsed=function(e){e&&(e[this._markLabel]="1")},T6.prototype.removeUnused=function(){var e=this.getDefs(!1);if(e){var t=this.getDoms(),n=this;_6.each(t,(function(t){"1"!==t[n._markLabel]&&e.removeChild(t)}))}},T6.prototype.getSvgProxy=function(e){return e instanceof x6?M6:e instanceof b6?I6:e instanceof w6?A6:M6},T6.prototype.getTextSvgElement=function(e){return e.__textSvgEl},T6.prototype.getSvgElement=function(e){return e.__svgEl};var C6=T6,D6=C6,P6=g,L6=en,k6=at;function O6(e,t){D6.call(this,e,t,["linearGradient","radialGradient"],"__gradient_in_use__")}P6.inherits(O6,D6),O6.prototype.addWithoutUpdate=function(e,t){if(t&&t.style){var n=this;P6.each(["fill","stroke"],(function(i){if(t.style[i]&&("linear"===t.style[i].type||"radial"===t.style[i].type)){var r,o=t.style[i],a=n.getDefs(!0);o._dom?(r=o._dom,a.contains(o._dom)||n.addDom(r)):r=n.add(o),n.markUsed(t);var s=r.getAttribute("id");e.setAttribute(i,"url(#"+s+")")}}))}},O6.prototype.add=function(e){var t;if("linear"===e.type)t=this.createElement("linearGradient");else{if("radial"!==e.type)return L6("Illegal gradient type."),null;t=this.createElement("radialGradient")}return e.id=e.id||this.nextId++,t.setAttribute("id","zr"+this._zrId+"-gradient-"+e.id),this.updateDom(e,t),this.addDom(t),t},O6.prototype.update=function(e){var t=this;D6.prototype.update.call(this,e,(function(){var n=e.type,i=e._dom.tagName;"linear"===n&&"linearGradient"===i||"radial"===n&&"radialGradient"===i?t.updateDom(e,e._dom):(t.removeDom(e),t.add(e))}))},O6.prototype.updateDom=function(e,t){if("linear"===e.type)t.setAttribute("x1",e.x),t.setAttribute("y1",e.y),t.setAttribute("x2",e.x2),t.setAttribute("y2",e.y2);else{if("radial"!==e.type)return void L6("Illegal gradient type.");t.setAttribute("cx",e.x),t.setAttribute("cy",e.y),t.setAttribute("r",e.r)}e.global?t.setAttribute("gradientUnits","userSpaceOnUse"):t.setAttribute("gradientUnits","objectBoundingBox"),t.innerHTML="";for(var n=e.colorStops,i=0,r=n.length;i<r;++i){var o=this.createElement("stop");o.setAttribute("offset",100*n[i].offset+"%");var a=n[i].color;if(a.indexOf("rgba")>-1){var s=k6.parse(a)[3],l=k6.toHex(a);o.setAttribute("stop-color","#"+l),o.setAttribute("stop-opacity",s)}else o.setAttribute("stop-color",n[i].color);t.appendChild(o)}e._dom=t},O6.prototype.markUsed=function(e){if(e.style){var t=e.style.fill;t&&t._dom&&D6.prototype.markUsed.call(this,t._dom),(t=e.style.stroke)&&t._dom&&D6.prototype.markUsed.call(this,t._dom)}};var N6=O6,R6=C6,E6=g,z6=Fe;function B6(e,t){R6.call(this,e,t,"clipPath","__clippath_in_use__")}E6.inherits(B6,R6),B6.prototype.update=function(e){var t=this.getSvgElement(e);t&&this.updateDom(t,e.__clipPaths,!1);var n=this.getTextSvgElement(e);n&&this.updateDom(n,e.__clipPaths,!0),this.markUsed(e)},B6.prototype.updateDom=function(e,t,n){if(t&&t.length>0){var i,r,o=this.getDefs(!0),a=t[0],s=n?"_textDom":"_dom";a[s]?(r=a[s].getAttribute("id"),i=a[s],o.contains(i)||o.appendChild(i)):(r="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(i=this.createElement("clipPath")).setAttribute("id",r),o.appendChild(i),a[s]=i);var l=this.getSvgProxy(a);if(a.transform&&a.parent.invTransform&&!n){var u=Array.prototype.slice.call(a.transform);z6.mul(a.transform,a.parent.invTransform,a.transform),l.brush(a),a.transform=u}else l.brush(a);var c=this.getSvgElement(a);i.innerHTML="",i.appendChild(c.cloneNode()),e.setAttribute("clip-path","url(#"+r+")"),t.length>1&&this.updateDom(i,t.slice(1),n)}else e&&e.setAttribute("clip-path","none")},B6.prototype.markUsed=function(e){var t=this;e.__clipPaths&&E6.each(e.__clipPaths,(function(e){e._dom&&R6.prototype.markUsed.call(t,e._dom),e._textDom&&R6.prototype.markUsed.call(t,e._textDom)}))};var V6=B6,G6=C6;function F6(e,t){G6.call(this,e,t,["filter"],"__filter_in_use__","_shadowDom")}function H6(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY||e.textShadowBlur||e.textShadowOffsetX||e.textShadowOffsetY)}g.inherits(F6,G6),F6.prototype.addWithoutUpdate=function(e,t){if(t&&H6(t.style)){var n;if(t._shadowDom)n=t._shadowDom,this.getDefs(!0).contains(t._shadowDom)||this.addDom(n);else n=this.add(t);this.markUsed(t);var i=n.getAttribute("id");e.style.filter="url(#"+i+")"}},F6.prototype.add=function(e){var t=this.createElement("filter");return e._shadowDomId=e._shadowDomId||this.nextId++,t.setAttribute("id","zr"+this._zrId+"-shadow-"+e._shadowDomId),this.updateDom(e,t),this.addDom(t),t},F6.prototype.update=function(e,t){if(H6(t.style)){var n=this;G6.prototype.update.call(this,t,(function(){n.updateDom(t,t._shadowDom)}))}else this.remove(e,t)},F6.prototype.remove=function(e,t){null!=t._shadowDomId&&(this.removeDom(e),e.style.filter="")},F6.prototype.updateDom=function(e,t){var n=t.getElementsByTagName("feDropShadow");n=0===n.length?this.createElement("feDropShadow"):n[0];var i,r,o,a,s=e.style,l=e.scale&&e.scale[0]||1,u=e.scale&&e.scale[1]||1;if(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)i=s.shadowOffsetX||0,r=s.shadowOffsetY||0,o=s.shadowBlur,a=s.shadowColor;else{if(!s.textShadowBlur)return void this.removeDom(t,s);i=s.textShadowOffsetX||0,r=s.textShadowOffsetY||0,o=s.textShadowBlur,a=s.textShadowColor}n.setAttribute("dx",i/l),n.setAttribute("dy",r/u),n.setAttribute("flood-color",a);var c=o/2/l+" "+o/2/u;n.setAttribute("stdDeviation",c),t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width",Math.ceil(o/2*200)+"%"),t.setAttribute("height",Math.ceil(o/2*200)+"%"),t.appendChild(n),e._shadowDom=t},F6.prototype.markUsed=function(e){e._shadowDom&&G6.prototype.markUsed.call(this,e._shadowDom)};var W6=F6,U6=B4.createElement,j6=g,Z6=en,Y6=nl,X6=Zr,q6=Dl,K6=v6,J6=N6,Q6=V6,$6=W6,e7=z4,t7=e7.path,n7=e7.image,i7=e7.text;function r7(e){return parseInt(e,10)}function o7(e,t){return t&&e&&t.parentNode!==e}function a7(e,t,n){if(o7(e,t)&&n){var i=n.nextSibling;i?e.insertBefore(t,i):e.appendChild(t)}}function s7(e,t){if(o7(e,t)){var n=e.firstChild;n?e.insertBefore(t,n):e.appendChild(t)}}function l7(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)}function u7(e){return e.__textSvgEl}function c7(e){return e.__svgEl}var h7=function(e,t,n,i){this.root=e,this.storage=t,this._opts=n=j6.extend({},n||{});var r=U6("svg");r.setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("version","1.1"),r.setAttribute("baseProfile","full"),r.style.cssText="user-select:none;position:absolute;left:0;top:0;";var o=U6("g");r.appendChild(o);var a=U6("g");r.appendChild(a),this.gradientManager=new J6(i,a),this.clipPathManager=new Q6(i,a),this.shadowManager=new $6(i,a);var s=document.createElement("div");s.style.cssText="overflow:hidden;position:relative",this._svgDom=r,this._svgRoot=a,this._backgroundRoot=o,this._viewport=s,e.appendChild(s),s.appendChild(r),this.resize(n.width,n.height),this._visibleList=[]};h7.prototype={constructor:h7,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getSvgDom:function(){return this._svgDom},getSvgRoot:function(){return this._svgRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(){var e=this.storage.getDisplayList(!0);this._paintList(e)},setBackgroundColor:function(e){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var t=U6("rect");t.setAttribute("width",this.getWidth()),t.setAttribute("height",this.getHeight()),t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("id",0),t.style.fill=e,this._backgroundRoot.appendChild(t),this._backgroundNode=t},_paintList:function(e){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var t,n,i=this._svgRoot,r=this._visibleList,o=e.length,a=[];for(t=0;t<o;t++){var s=e[t],l=(n=s)instanceof Y6?t7:n instanceof X6?n7:n instanceof q6?i7:t7,u=c7(s)||u7(s);s.invisible||(s.__dirty&&(l&&l.brush(s),this.clipPathManager.update(s),s.style&&(this.gradientManager.update(s.style.fill),this.gradientManager.update(s.style.stroke),this.shadowManager.update(u,s)),s.__dirty=!1),a.push(s))}var c,h=K6(r,a);for(t=0;t<h.length;t++){if((p=h[t]).removed)for(var d=0;d<p.count;d++){u=c7(s=r[p.indices[d]]);var f=u7(s);l7(i,u),l7(i,f)}}for(t=0;t<h.length;t++){var p;if((p=h[t]).added)for(d=0;d<p.count;d++){u=c7(s=a[p.indices[d]]),f=u7(s);c?a7(i,u,c):s7(i,u),u?a7(i,f,u):c?a7(i,f,c):s7(i,f),a7(i,f,u),c=f||u||c,this.gradientManager.addWithoutUpdate(u||f,s),this.shadowManager.addWithoutUpdate(u||f,s),this.clipPathManager.markUsed(s)}else if(!p.removed)for(d=0;d<p.count;d++){u=c7(s=a[p.indices[d]]),f=u7(s),u=c7(s),f=u7(s);this.gradientManager.markUsed(s),this.gradientManager.addWithoutUpdate(u||f,s),this.shadowManager.markUsed(s),this.shadowManager.addWithoutUpdate(u||f,s),this.clipPathManager.markUsed(s),f&&a7(i,f,u),c=u||f||c}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=a},_getDefs:function(e){var t,n=this._svgDom;return 0===(t=n.getElementsByTagName("defs")).length?e?((t=n.insertBefore(U6("defs"),n.firstChild)).contains||(t.contains=function(e){var n=t.children;if(!n)return!1;for(var i=n.length-1;i>=0;--i)if(n[i]===e)return!0;return!1}),t):null:t[0]},resize:function(e,t){var n=this._viewport;n.style.display="none";var i=this._opts;if(null!=e&&(i.width=e),null!=t&&(i.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display="",this._width!==e||this._height!==t){this._width=e,this._height=t;var r=n.style;r.width=e+"px",r.height=t+"px";var o=this._svgDom;o.setAttribute("width",e),o.setAttribute("height",t)}this._backgroundNode&&(this._backgroundNode.setAttribute("width",e),this._backgroundNode.setAttribute("height",t))},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,n=["width","height"][e],i=["clientWidth","clientHeight"][e],r=["paddingLeft","paddingTop"][e],o=["paddingRight","paddingBottom"][e];if(null!=t[n]&&"auto"!==t[n])return parseFloat(t[n]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[i]||r7(s[n])||r7(a.style[n]))-(r7(s[r])||0)-(r7(s[o])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},toDataURL:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(this._svgDom.outerHTML.replace(/></g,">\n\r<"))}},j6.each(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","pathToImage"],(function(e){var t;h7.prototype[e]=(t=e,function(){Z6('In SVG mode painter not support method "'+t+'"')})}));var d7=h7;(0,h.registerPainter)("svg",d7),function(e){var t=c;!function(){for(var n in t){if(null==t||!t.hasOwnProperty(n)||"default"===n||"__esModule"===n)return;e[n]=t[n]}}();var n=cy;!function(){for(var t in n){if(null==n||!n.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;e[t]=n[t]}}()}(OB),function(e){var t;t=u,function(e,t){var n=function(e){"undefined"!=typeof console&&console&&console.error&&console.error(e)};t?t.registerMap?t.registerMap("world",{type:"FeatureCollection",crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:[{geometry:{type:"Polygon",coordinates:["@@@NU]"],encodeOffsets:[[49130,8189]]},properties:{name:"Somalia",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@@"],encodeOffsets:[[9810,48188]]},properties:{name:"Liechtenstein",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@^tPmVgy]{cZSHUS^fdo@"],encodeOffsets:[[-8891,28445]]},properties:{name:"Morocco",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@@@@@@@@@B@@@@@@@@@@OwgtQJTRPRCC`","@@i@@j"],encodeOffsets:[[-13351,28480],[-8984,28120]]},properties:{name:"W. Sahara",childNum:2}},{geometry:{type:"Polygon",coordinates:["@@A@w@S`_kIDZWo`g_cfFfV\\T^QhkYiMGuODh~Z]NkkHQo}]U@@@"],encodeOffsets:[[22080,43262]]},properties:{name:"Serbia",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@@z]xF|Z{ZaDDa@ZubSv\\vThjFgTzRJHpsR|[JwNwNmpp^TSZ^b\\~VvLQR^}l`bH^aJtB~oRs_W\\avkOkMryWJo}Hi|u^Q"],encodeOffsets:[[76331,37911]]},properties:{name:"Afghanistan",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@Rc@|DHT|GR_AnGEionI~qMdoGIY@@@@@BTeNOFohONQ"],["@@_r___De"]],encodeOffsets:[[[18002,-8293]],[[12802,-4697]]]},properties:{name:"Angola",childNum:2}},{geometry:{type:"Polygon",coordinates:["@@QaquwW@yBPXkAAD"],encodeOffsets:[[20546,43569]]},properties:{name:"Albania",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@^"],["@@s"]],encodeOffsets:[[[20135,61632]],[[20470,61800]]]},properties:{name:"Aland",childNum:2}},{geometry:{type:"Polygon",coordinates:["@@Iir[\\O~y@esQm"],encodeOffsets:[[1747,43524]]},properties:{name:"Andorra",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@O"],["@@"],["@@w[o_m"]],encodeOffsets:[[[55223,24758]],[[54613,24841]],[[57650,26267]]]},properties:{name:"United Arab Emirates",childNum:3}},{geometry:{type:"MultiPolygon",coordinates:[["@@Q"],["@@nv"],["@@oGDErbXdqilgkzHiZEefMcZYR@LKf\\vmRiqUF\\xzE}S`_d"]],encodeOffsets:[[[-66098,-56029]],[[-70300,-56170]],[[-62550,-24224]]]},properties:{name:"Argentina",childNum:3}},{geometry:{type:"Polygon",coordinates:["@@{f"],encodeOffsets:[[47607,39841]]},properties:{name:"Armenia",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@"],encodeOffsets:[[-174823,-14695]]},properties:{name:"American Samoa",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@M"],["@@Jy"],["@@"]],encodeOffsets:[[[70946,-50236]],[[70846,-50288]],[[53079,-47554]]]},properties:{name:"Fr. S. Antarctic Lands",childNum:3}},{geometry:{type:"Polygon",coordinates:["@@ow"],encodeOffsets:[[-63197,17446]]},properties:{name:"Antigua and Barb.",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@"],["@@bQylpF"],["@@L"],["@@B"],["@@"],["@@b"],["@@"],["@@|"],["@@ZyX"],["@@R}"],["@@c"],["@@"],["@@C"],["@@X"],["@@P"],["@@jj"],["@@i"],["@@"],["@@"],["@@gI"],["@@W"],["@@d"],["@@Pn"],["@@"],["@@|"],["@@"],["@@"],["@@^"],["@@^ZxzWqLGrM|kDNtdNp_`bVAf~e]XhETEsIFnJLGXbwdWcx`V"],["@@"]],encodeOffsets:[[[150893,-44438]],[[148525,-41765]],[[151795,-41487]],[[148260,-41478]],[[151887,-41274]],[[151553,-40711]],[[147383,-41078]],[[148803,-39414]],[[140899,-36596]],[[157224,-28094]],[[115900,-26678]],[[156752,-26368]],[[154775,-24054]],[[118217,-21286]],[[152621,-20778]],[[149789,-18668]],[[142807,-17525]],[[142857,-16970]],[[140384,-16156]],[[127588,-15771]],[[128204,-14929]],[[139996,-14135]],[[139508,-14156]],[[139611,-11880]],[[133591,-11959]],[[133754,-11649]],[[139877,-11651]],[[135776,-11574]],[[146616,-12241]],[[145690,-10961]]]},properties:{name:"Australia",childNum:30}},{geometry:{type:"Polygon",coordinates:["@@VF^~oI\\wPX]MiOLfPBuTDjovqL{cSLoGdxMZR_@c_}t_aDuvk}Dd~bL|XN`TANZJXhE"],encodeOffsets:[[17360,49766]]},properties:{name:"Austria",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@e"],["@@\\qvXT"]],encodeOffsets:[[[47222,39811]],[[49739,42849]]]},properties:{name:"Azerbaijan",childNum:2}},{geometry:{type:"Polygon",coordinates:["@@gucyRcOiLZ^"],encodeOffsets:[[31287,-2457]]},properties:{name:"Burundi",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@qwA\\}wVt{"],encodeOffsets:[[5831,51994]]},properties:{name:"Belgium",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@EbmlQaAck_wLVjnkc{Jqyo"],encodeOffsets:[[3682,11977]]},properties:{name:"Benin",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@NCzWV^VkoDsYMDSUX"],encodeOffsets:[[223,15270]]},properties:{name:"Burkina Faso",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@r"],["@@\\n"],["@@"],["@@"],["@@qz"],["@@|JeAnDoZWDo[A|WFQ@L[Lzx\\PVdiu\\\\NUjNtL`LA@\\~Xf"]],encodeOffsets:[[[94157,22025]],[[94079,22357]],[[93339,22708]],[[93755,22920]],[[92957,22620]],[[91076,26876]]]},properties:{name:"Bangladesh",childNum:6}},{geometry:{type:"Polygon",coordinates:["@@Nm\\usySyFyxckkgXgfiwr}FyokQAZSG^^p~RQn~Gl}"],encodeOffsets:[[29272,44793]]},properties:{name:"Bulgaria",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@HXl"],encodeOffsets:[[51822,26505]]},properties:{name:"Bahrain",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@GB"],["@@"],["@@{`\\"],["@@W"],["@@"],["@@x"],["@@r"],["@@W\\|"],["@@"],["@@`v"],["@@Cv"],["@@JI"],["@@"],["@@P@x"]],encodeOffsets:[[[-74779,21702]],[[-74794,22968]],[[-75987,22747]],[[-75834,23269]],[[-76636,23444]],[[-77480,24013]],[[-76215,24646]],[[-79521,24832]],[[-77115,24781]],[[-79203,25615]],[[-79609,25301]],[[-78488,26100]],[[-80376,27371]],[[-79079,26526]]]},properties:{name:"Bahamas",childNum:14}},{geometry:{type:"Polygon",coordinates:["@@X{DOS^To_SMN_nV@["],encodeOffsets:[[19464,45947]]},properties:{name:"Bosnia and Herz.",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@kf@tZQRKUoHyh@s[Pm~osX}WyeJ_Oa^I{Uow~jOpwmJqNEGzTjCuwSkLdh~SrubRMbwK\\HQMiM}wIlpvWlwl{dBSjjzNvSx`^Q_jZXrX|pF"],encodeOffsets:[[28824,57491]]},properties:{name:"Belarus",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@u"],["@@CzKvO"]],encodeOffsets:[[[-89961,17841]],[[-91027,16272]]]},properties:{name:"Belize",childNum:2}},{geometry:{type:"Polygon",coordinates:["@@g"],encodeOffsets:[[-66283,33069]]},properties:{name:"Bermuda",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@iUAc`_T|HwyZCU[DgEhMpkxU}n@B@UlW^G|Xi]SVVnBa^zRIIhXDfr~AIOflgjRui]["],encodeOffsets:[[-59555,-20648]]},properties:{name:"Bolivia",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@X"],["@@"],["@@M"],["@@}"],["@@F"],["@@"],["@@c"],["@@"],["@@e"],["@@pt"],["@@"],["@@f"],["@@"],["@@c"],["@@i"],["@@y\\"],["@@NwXOINHL`fHnGnvQgt^~PLnPptzvdffHVORvJVQrArYiJfjmA`LEu\\iNborwYdwJz@h|tqMo]UB[hnWJtfogZ\\w@_iMx@b`Zom|[k\\^jv]FQihkePJ}BqeCWgTQy]`mUT^jW{PGElFaER}s{]]GjX|^ti|jjp|K|vvzx^Qdv^LvLfbRHXfF[^fx{ThnUg"]],encodeOffsets:[[[-49649,-28433]],[[-49750,-27035]],[[-46346,-24462]],[[-45188,-23697]],[[-39837,-13796]],[[-39673,-13411]],[[-45567,-3010]],[[-45960,-1349]],[[-53076,-1468]],[[-50819,-234]],[[-51868,-134]],[[-50630,-115]],[[-50931,275]],[[-51636,143]],[[-51356,403]],[[-51506,1986]],[[-61132,4458]]]},properties:{name:"Brazil",childNum:17}},{geometry:{type:"Polygon",coordinates:["@@j"],encodeOffsets:[[-60921,13396]]},properties:{name:"Barbados",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@@"],["@@"]],encodeOffsets:[[[117788,5018]],[[117788,5018]]]},properties:{name:"Brunei",childNum:2}},{geometry:{type:"Polygon",coordinates:["@@GhQySLiLqgCJ{@c}mdolTf|b^w{h[SPMHP]S"],encodeOffsets:[[93832,28427]]},properties:{name:"Bhutan",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@_qSbg\\NtFOEI{z"],encodeOffsets:[[25865,-18220]]},properties:{name:"Botswana",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@ogv`a"],encodeOffsets:[[23409,11182]]},properties:{name:"Central African Rep.",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@\\"],["@@"],["@@R"],["@@W"],["@@y"],["@@Wnc"],["@@AKxs"],["@@qu"],["@@"],["@@kuKTfS{{HIhEA"],["@@z"],["@@Z"],["@@P"],["@@ZL"],["@@"],["@@"],["@@bImj"],["@@dpIO\\GRzmr"],["@@"],["@@"],["@@"],["@@h"],["@@Wl"],["@@"],["@@r"],["@@"],["@@"],["@@yx"],["@@jc"],["@@"],["@@"],["@@M"],["@@L"],["@@v"],["@@"],["@@"],["@@"],["@@W"],["@@Z"],["@@e"],["@@Jf"],["@@oYH"],["@@"],["@@s"],["@@"],["@@q"],["@@"],["@@"],["@@"],["@@M"],["@@N"],["@@"],["@@S"],["@@"],["@@"],["@@}"],["@@D"],["@@"],["@@"],["@@~"],["@@k"],["@@"],["@@"],["@@"],["@@"],["@@d"],["@@K"],["@@U"],["@@FS"],["@@"],["@@"],["@@G{@FMrM@Gs@WNMB@@@@@@@@@@@@@aszJHEa\\]iCZ@GU@@@@@@@@@ET|xZrLFEE]ugw{EZfsOmJfWxpTn\\q`RwU|gqTx[jsK\\VNS]iptI}~|"],["@@"],["@@qzqqWIU"],["@@"],["@@V"],["@@AOUR]Fhgdu~S@VIkIIx[eLA^MzlSw"],["@@C`HU"],["@@"],["@@iH_"],["@@YL"],["@@_"],["@@"],["@@"],["@@}"],["@@"],["@@V"],["@@"],["@@"],["@@_^V"],["@@Y"],["@@sz"],["@@t"],["@@hdmIMD"],["@@}"],["@@"],["@@kSIL"],["@@w"],["@@sL"],["@@G_"],["@@d"],["@@"],["@@"],["@@y"],["@@"],["@@R"],["@@fqYLlO"],["@@H"],["@@t`"],["@@}SwOr[Ohvgyz{pL_Jh"]],encodeOffsets:[[[-61222,44995]],[[-68364,45755]],[[-62424,46582]],[[-75463,46680]],[[-75332,46561]],[[-62571,47048]],[[-65342,47584]],[[-63400,48420]],[[-55528,48580]],[[-76501,46084]],[[-129118,50539]],[[-55863,50779]],[[-55391,50939]],[[-129680,50797]],[[-63284,50273]],[[-128188,51300]],[[-130250,51856]],[[-56789,52774]],[[-130994,52710]],[[-81289,53199]],[[-131449,53659]],[[-82669,54014]],[[-134915,54473]],[[-131637,54211]],[[-132267,54393]],[[-132964,54444]],[[-133361,55254]],[[-135839,55427]],[[-134069,55787]],[[-133709,56085]],[[-81897,57557]],[[-80830,57617]],[[-63225,58936]],[[-81629,58896]],[[-70819,60458]],[[-65952,61816]],[[-69871,61687]],[[-80416,62187]],[[-66388,62839]],[[-66591,63365]],[[-81454,63910]],[[-66379,64061]],[[-72025,64050]],[[-83968,64466]],[[-79745,64994]],[[-78517,64916]],[[-86957,66828]],[[-86706,67149]],[[-85735,67376]],[[-110686,68614]],[[-64185,68666]],[[-110489,69020]],[[-75388,69411]],[[-88673,69362]],[[-77492,69963]],[[-80878,69830]],[[-107049,70048]],[[-76678,69990]],[[-104290,70233]],[[-102622,70459]],[[-102394,70670]],[[-81111,70498]],[[-92364,71086]],[[-78843,70804]],[[-103599,71063]],[[-97805,71244]],[[-69544,71210]],[[-79901,71389]],[[-81337,71463]],[[-99778,71315]],[[-88998,71796]],[[-76501,46084]],[[-99105,74688]],[[-117270,74336]],[[-107815,74670]],[[-81446,75423]],[[-88667,72716]],[[-102401,75721]],[[-100628,75642]],[[-95406,75941]],[[-122609,75892]],[[-99692,76315]],[[-97594,76294]],[[-106618,76838]],[[-95787,76829]],[[-98384,77323]],[[-96795,77568]],[[-121168,77394]],[[-80960,77749]],[[-104680,77840]],[[-106519,78422]],[[-100045,78302]],[[-103655,78418]],[[-110891,77883]],[[-91879,78344]],[[-116286,78586]],[[-96558,78759]],[[-118324,79220]],[[-91989,79123]],[[-107067,78994]],[[-97776,79660]],[[-104134,79562]],[[-116564,79621]],[[-113109,79978]],[[-112451,80539]],[[-98513,80417]],[[-105908,81220]],[[-101162,81901]],[[-94090,83081]],[[-71156,85010]]]},properties:{name:"Canada",childNum:110}},{geometry:{type:"Polygon",coordinates:["@@@BAiCOK]umNwzfSTLkBTyA^pl[lMIRAphxnlvnj@bHxX^G\\]NMVSt@A"],encodeOffsets:[[9757,48405]]},properties:{name:"Switzerland",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@"],["@@F"],["@@o"],["@@l"],["@@"],["@@SX"],["@@`"],["@@mISIe"],["@@P"],["@@C"],["@@_{"],["@@"],["@@n"],["@@I"],["@@"],["@@\\"],["@@"],["@@C"],["@@"],["@@"],["@@"],["@@"],["@@Wo"],["@@_"],["@@"],["@@[EVrjQnu[eShqiKtVlnvbGNAn~~mVlwPoFghC\\VD"]],encodeOffsets:[[[-68903,-57115]],[[-68689,-56477]],[[-71375,-56237]],[[-72695,-56184]],[[-73103,-55329]],[[-74673,-54765]],[[-76170,-54192]],[[-70277,-53916]],[[-76618,-52869]],[[-76348,-52507]],[[-77109,-51896]],[[-76856,-51503]],[[-76909,-50008]],[[-76263,-50327]],[[-77322,-49933]],[[-76356,-49758]],[[-76914,-48985]],[[-76096,-46788]],[[-75399,-45897]],[[-74737,-45854]],[[-75504,-45460]],[[-75582,-44879]],[[-75543,-44386]],[[-80695,-34453]],[[-111902,-27791]],[[-68807,-23369]]]},properties:{name:"Chile",childNum:26}},{geometry:{type:"MultiPolygon",coordinates:[["@@N"],["@@Sc"],["@@aG"],["@@Qg"],["@@\\"],["@@olc"],["@@o"],["@@X"],["@@"],["@@KwAQ@bj}scVRVoiujmhLOHXyBsGfkHnRkJQqsumNHqaOoM\\ovYRlRoU`MgrKMlVzRgHTOGNOTg\\|]xrRa{ahi_B`NbnyrPc]qdCbpAjVNNuvrbXybqm`gbWQuA}fmedZ}~e_B]]R{vGj~pXIzqN|IPzGjzz{~VHvCEdj`ItbhdfVXbMDQEygRYvqEjQsdke}JlDrqMY]o@]jlddeIe{adz|XW_up|A\\`DX[WTSsqZmDl~H^~bbIsJ`CqVI|v~^ALQD"],["@@"],["@@zD"],[],["@@tl"],["@@"]],encodeOffsets:[[[113551,20472]],[[113035,21600]],[[115348,22160]],[[115498,22121]],[[121020,25085]],[[122697,26068]],[[124162,28761]],[[125232,30683]],[[124788,32249]],[[133660,43557]],[[116734,22744]],[[116752,23053]],[],[[121250,25111]],[[123913,23164]]]},properties:{name:"China",childNum:15}},{geometry:{type:"Polygon",coordinates:["@@TCNZtClpTgioOwfYqKi{UXmkWvUXZNnU@oZkncNpmLTnnC}FcMXNL"],encodeOffsets:[[-5388,10568]]},properties:{name:"Cte d'Ivoire",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@Eg@@@|KIlsNlWTIphrdjk]BgZz|rHhAw"],encodeOffsets:[[15852,7705]]},properties:{name:"Cameroon",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@us@QdYBCfZUUvyni|WPr}JmpjFHmBQ^J{UGC{@dQRMPnf``^C}C_u"],encodeOffsets:[[28061,5232]]},properties:{name:"Dem. Rep. Congo",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@D~D]q``b]s"],encodeOffsets:[[19057,3562]]},properties:{name:"Congo",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@P}@WGQae~fZXggk[Nxxsi]ti]^s"],encodeOffsets:[[-73031,12147]]},properties:{name:"Colombia",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@t"],["@@|"],["@@"]],encodeOffsets:[[[44840,-12602]],[[45544,-12371]],[[44509,-12186]]]},properties:{name:"Comoros",childNum:3}},{geometry:{type:"MultiPolygon",coordinates:[["@@kl"],["@@y"],["@@"],["@@cD"],["@@xH"],["@@"],["@@^"],["@@U{"]],encodeOffsets:[[[-24891,15213]],[[-23738,15501]],[[-24006,15369]],[[-23467,16627]],[[-24665,17022]],[[-23437,17059]],[[-25484,17222]],[[-25773,17354]]]},properties:{name:"Cape Verde",childNum:8}},{geometry:{type:"Polygon",coordinates:["@@Iecgi_{}W]i@GZVaA"],encodeOffsets:[[-85649,11180]]},properties:{name:"Costa Rica",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@A"],["@@"],["@@"],["@@KQc\\MbB"]],encodeOffsets:[[[-84543,22090]],[[-79533,22479]],[[-79748,22659]],[[-83801,23719]]]},properties:{name:"Cuba",childNum:4}},{geometry:{type:"Polygon",coordinates:["@@"],encodeOffsets:[[-70401,12350]]},properties:{name:"Curaao",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@u"],["@@S"]],encodeOffsets:[[[-83322,19814]],[[-81739,20186]]]},properties:{name:"Cayman Is.",childNum:2}},{geometry:{type:"Polygon",coordinates:["@@R"],encodeOffsets:[[34821,35907]]},properties:{name:"N. Cyprus",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@e_"],encodeOffsets:[[33498,36016]]},properties:{name:"Cyprus",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@FrVFGn@mzrh^zGSocFrXb"],encodeOffsets:[[15165,52080]]},properties:{name:"Czech Rep.",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@"],["@@C"],["@@IXCCcU_hyy^i~yxIYWaqEdpTyH]gyqn@SQ@mHWgIYK]SYM{Kac}C~ulCv`bs~YQNcwJo~DhHpKTd|A~IturpTsUN^MH[W[WqaGBRyNTme["],["@@O"]],encodeOffsets:[[[14539,55214]],[[14039,55688]],[[9974,56142]],[[8508,56102]]]},properties:{name:"Germany",childNum:4}},{geometry:{type:"Polygon",coordinates:["@@K~zv|OdAxX"],encodeOffsets:[[44284,11776]]},properties:{name:"Djibouti",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@kI"],encodeOffsets:[[-62752,15615]]},properties:{name:"Dominica",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@vp"],["@@"],["@@hs"],["@@"],["@@"],["@@"],["@@"],["@@dS"],["@@T"],["@@H{kP"]],encodeOffsets:[[[11635,56210]],[[12851,56285]],[[10303,56204]],[[10992,56065]],[[15450,56343]],[[10901,56945]],[[12970,56931]],[[12871,57124]],[[11318,58627]],[[9974,56142]]]},properties:{name:"Denmark",childNum:10,cp:[10.2768332,56.1773879]}},{geometry:{type:"Polygon",coordinates:["@@k~wcHHxs\\XHbM"],encodeOffsets:[[-73366,19657]]},properties:{name:"Dominican Rep.",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@Cji@@pce]TVGTYd|^zy{@r"],encodeOffsets:[[8405,37396]]},properties:{name:"Algeria",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@m"],["@@"],["@@n"],["@@V"],["@@b|"],["@@"],["@@pt"],["@@S"],["@@_KT]vw`YeXI_ikB|]YQ~]DSFIajurfQp"]],encodeOffsets:[[[-82054,-3044]],[[-92594,-1372]],[[-91564,-932]],[[-92502,-790]],[[-93620,-471]],[[-92747,-342]],[[-93462,26]],[[-80803,1283]],[[-77091,-109]]]},properties:{name:"Ecuador",childNum:9}},{geometry:{type:"Polygon",coordinates:["@@DcAOB@@@"],encodeOffsets:[[35068,31958]]},properties:{name:"Egypt",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@wgb"],["@@"],["@@@yHqIZOeCkoksEh\\Dgj\\njvR~cB{Pu}y"]],encodeOffsets:[[[41105,16073]],[[41039,16469]],[[41922,14319]]]},properties:{name:"Eritrea",childNum:3}},{geometry:{type:"MultiPolygon",coordinates:[["@@"],["@@wM"],["@@"],["@@"],["@@"],["@@"],["@@]"],["@@A~"],["@@]"],["@@["],["@@[}"],["@@[JMjkXO"]],encodeOffsets:[[[-18317,28478]],[[-15770,28823]],[[-17597,28695]],[[-16726,29062]],[[-14537,28846]],[[-18262,29178]],[[-14045,29606]],[[1633,39601]],[[1480,39853]],[[3221,40746]],[[4397,40799]],[[-1837,44450]]]},properties:{name:"Spain",childNum:12,cp:[-2.9366964,40.3438963]}},{geometry:{type:"MultiPolygon",coordinates:[["@@[g"],["@@UV"],["@@\\"],["@@J"]],encodeOffsets:[[[23161,60029]],[[23904,59956]],[[23474,60239]],[[28685,60912]]]},properties:{name:"Estonia",childNum:4}},{geometry:{type:"Polygon",coordinates:["@@Gz@L@B_cCJ\\~Mnlj@HNJfDPYrJ"],encodeOffsets:[[39354,14775]]},properties:{name:"Ethiopia",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@"],["@@"],["@@"],["@@Z"],["@@SyJ@Q"]],encodeOffsets:[[[22708,61820]],[[21966,61983]],[[21727,64760]],[[25445,66551]],[[29662,70679]]]},properties:{name:"Finland",childNum:5}},{geometry:{type:"MultiPolygon",coordinates:[["@@"],["@@"],["@@b"],["@@A@"],["@@s@@@"],["@@y"],["@@HCS@_"]],encodeOffsets:[[[182772,-19429]],[[183654,-18536]],[[182559,-17788]],[[184320,-17370]],[[-184294,-17331]],[[-184247,-16898]],[[184320,-16556]]]},properties:{name:"Fiji",childNum:7}},{geometry:{type:"MultiPolygon",coordinates:[["@@Q"],["@@c"],["@@w"],["@@Z~m"]],encodeOffsets:[[[-62483,-53028]],[[-61733,-52697]],[[-61554,-52629]],[[-60262,-52500]]]},properties:{name:"Falkland Is.",childNum:4}},{geometry:{type:"MultiPolygon",coordinates:[["@@E"],["@@n"],["@@jqZXRNBt`s"],["@@w"],["@@Jh"],["@@X"],["@@Cu"],["@@"],["@@"],["@@_zY~mQR~\\QA@akiwkmcWkBQJNk\\dvHPvBc\\cG|sUx"]],encodeOffsets:[[[57137,-21851]],[[46265,-13288]],[[-52892,4159]],[[-62286,14843]],[[-62700,16272]],[[-63067,16392]],[[-62799,16620]],[[9708,43833]],[[-1206,47006]],[[5929,50728]]]},properties:{name:"France",childNum:10,cp:[2.8719426,46.8222422]}},{geometry:{type:"MultiPolygon",coordinates:[["@@z"],["@@qv"],["@@S"]],encodeOffsets:[[[-7359,63631]],[[-6790,63722]],[[-6559,63753]]]},properties:{name:"Faeroe Is.",childNum:3}},{geometry:{type:"MultiPolygon",coordinates:[["@@YLj"],["@@"]],encodeOffsets:[[[162115,6978]],[[141459,9729]]]},properties:{name:"Micronesia",childNum:2}},{geometry:{type:"Polygon",coordinates:["@@t^aPw^zzJIz`wEGhF"],encodeOffsets:[[13613,2214]]},properties:{name:"Gabon",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@"],["@@_"],["@@{Vn"],["@@\\"],["@@f|"],["@@"],["@@a"],["@@Sd"],["@@TB"],["@@p"],["@@N"],["@@KYOaUmIX`m]MI@pQ]"],["@@l"],["@@R"]],encodeOffsets:[[[-1091,51907]],[[-4297,54602]],[[-6367,55387]],[[-5227,56780]],[[-6275,57273]],[[-6113,57155]],[[-5916,57697]],[[-7423,58487]],[[-6292,58886]],[[-7378,59068]],[[-6347,59765]],[[-3184,59920]],[[-3130,60447]],[[-1339,61991]]]},properties:{name:"United Kingdom",childNum:14,cp:[-2.5830348,54.4598409]}},{geometry:{type:"Polygon",coordinates:["@@SWusYeuWz~nmht^NMaOoWR~vhgR`eEsUlmmIzljTueLloH}"],encodeOffsets:[[47417,42504]]},properties:{name:"Georgia",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@rZePxpjTU]UX"],encodeOffsets:[[-70,11383]]},properties:{name:"Ghana",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@GebdmnYpVmOWWVuGV]Ls\\ng\\ExJzqfGniBbPvF~OZDM`Hl"],encodeOffsets:[[-11662,12703]]},properties:{name:"Guinea",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@iAiE"],encodeOffsets:[[-17165,13378]]},properties:{name:"Gambia",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@ov"],["@@"],["@@X"],["@@L"],["@@_NCI}EuL^liTah^gGAAG"]],encodeOffsets:[[[-16277,11349]],[[-16501,11325]],[[-16283,11741]],[[-16370,12168]],[[-14090,12557]]]},properties:{name:"Guinea-Bissau",childNum:5}},{geometry:{type:"MultiPolygon",coordinates:[["@@F_xyJyIy]PnrwltMT{@@@H"],["@@@U"]],encodeOffsets:[[[11605,1566]],[[8946,3849]]]},properties:{name:"Eq. Guinea",childNum:2}},{geometry:{type:"MultiPolygon",coordinates:[["@@Wmi"],["@@"],["@@"],["@@zB"],["@@"],["@@"],["@@}"],["@@A"],["@@]"],["@@"],["@@j"],["@@N"],["@@e"],["@@"],["@@"],["@@o"],["@@"],["@@"],["@@{"],["@@"],["@@t"],["@@uM"],["@@i"],["@@"],["@@vi"],["@@zN"],["@@Ga"],["@@"],["@@p{itNIkwVlNLlBWOA@zxXvrbRfxxlSHTYBlRpE~ERhUlldwB"]],encodeOffsets:[[[24425,36389]],[[27829,36317]],[[23608,37059]],[[28512,36792]],[[26095,37267]],[[27096,37464]],[[27597,37609]],[[26480,37674]],[[27669,37847]],[[25886,37959]],[[26159,37855]],[[25113,38017]],[[26013,38318]],[[26655,38431]],[[25863,38503]],[[24941,38479]],[[27469,38719]],[[21390,38713]],[[25592,38666]],[[21108,39305]],[[26721,39136]],[[21184,39536]],[[25267,39741]],[[23978,39894]],[[27045,40274]],[[20560,40380]],[[26049,40943]],[[25369,41590]],[[26664,41705]]]},properties:{name:"Greece",childNum:29}},{geometry:{type:"Polygon",coordinates:["@@@"],encodeOffsets:[[-63196,12301]]},properties:{name:"Grenada",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@"],["@@`"],["@@w"],["@@O"],["@@`Z"],["@@~"],["@@"],["@@"],["@@"],["@@"],["@@"],["@@u"],["@@"],["@@pc@AX\\\\gf[C_EB\\oVgPa`EXNjKHQGUijym|p"]],encodeOffsets:[[[-47377,62241]],[[-37920,67105]],[[-52237,71222]],[[-53996,71624]],[[-52915,72556]],[[-26042,72624]],[[-54820,72746]],[[-56337,74539]],[[-18432,77218]],[[-19028,77868]],[[-73387,79182]],[[-18035,81742]],[[-45941,84054]],[[-30671,85571]]]},properties:{name:"Greenland",childNum:14}},{geometry:{type:"Polygon",coordinates:["@@DRQsv^trB@@@DYT@z@sACHA"],encodeOffsets:[[-91374,16270]]},properties:{name:"Guatemala",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@"],encodeOffsets:[[148216,13578]]},properties:{name:"Guam",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@{ashuRmGg_KGMC_vBMxhWg]oB}m~Gg`bmXt~d~"],encodeOffsets:[[-58567,5682]]},properties:{name:"Guyana",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@q"],encodeOffsets:[[75477,-54412]]},properties:{name:"Heard I. and McDonald Is.",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@xgMO]hWsaWPheyI[_YazJ_F]MO^Ryjw`MD`"],encodeOffsets:[[-85642,15234]]},properties:{name:"Honduras",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@k"],["@@m"],["@@"],["@@`"],["@@"],["@@h"],["@@"],["@@\\@Uo`ppKlSvYOpQIbUq]br"]],encodeOffsets:[[[18031,43796]],[[17051,44029]],[[18092,43927]],[[17189,44310]],[[15741,45030]],[[14836,45732]],[[15166,46057]],[[19360,47035]]]},properties:{name:"Croatia",childNum:8}},{geometry:{type:"MultiPolygon",coordinates:[["@@c"],["@@NaG[Wt|dll}"]],encodeOffsets:[[[-74551,19229]],[[-73366,19657]]]},properties:{name:"Haiti",childNum:2}},{geometry:{type:"Polygon",coordinates:["@@Dqqd`h_pa^LUdt"],encodeOffsets:[[22663,49568]]},properties:{name:"Hungary",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@Vh"],["@@"],["@@"],["@@"],["@@^Vo"],["@@"],["@@w"],["@@J"],["@@e"],["@@u_"],["@@"],["@@"],["@@"],["@@"],["@@"],["@@F"],["@@e"],["@@"],["@@max"],["@@i"],["@@at"],["@@"],["@@c"],["@@f"],["@@Drg"],["@@Z"],["@@"],["@@FO"],["@@hN"],["@@fj"],["@@tO"],["@@`bX"],["@@W@mZ"],["@@S"],["@@P|"],["@@"],["@@I"],["@@e"],["@@G"],["@@A"],["@@B"],["@@w"],["@@`P"],["@@"],["@@~"],["@@"],["@@"],["@@"],["@@J"],["@@Ff"],["@@Aq"],["@@Cq"],["@@K{"],["@@"],["@@w"],["@@"],["@@"],["@@"],["@@"],["@@M"],["@@"],["@@"],["@@hz"],["@@p"],["@@"],["@@tVmV"],["@@Z"],["@@D"],["@@b"],["@@"],["@@"],["@@h"],["@@V"],["@@bo"],["@@@DBuxbOkJ~eprpE"],["@@"],["@@Lr"],["@@qNK"],["@@S"],["@@"],["@@A"],["@@"],["@@P"],["@@`t"],["@@p"],["@@p"],["@@]"],["@@"],["@@o_"],["@@"],["@@P"],["@@l~DbhrCka\\|qY\\"],["@@V"],["@@_^b@"],["@@a"],["@@c"],["@@"],["@@iB"],["@@"],["@@C"],["@@qm"],["@@t"],["@@b"],["@@^"],["@@L\\@x\\@py[PdRn"],["@@"],["@@o^qoSWl"]],encodeOffsets:[[[125900,-11171]],[[124809,-10844]],[[126379,-10549]],[[122893,-9599]],[[128070,-9740]],[[118385,-8980]],[[125929,-8750]],[[122332,-8950]],[[126278,-8555]],[[119441,-8820]],[[127270,-8529]],[[126900,-8471]],[[142229,-8589]],[[120378,-8568]],[[127566,-8336]],[[130892,-8293]],[[125730,-8818]],[[134003,-8518]],[[121081,-8517]],[[118219,-8350]],[[132955,-8145]],[[129845,-7851]],[[130478,-7806]],[[141861,-8472]],[[134478,-8191]],[[135150,-7374]],[[131759,-7355]],[[123674,-7289]],[[116577,-7275]],[[118147,-7138]],[[107779,-6799]],[[137766,-6596]],[[109951,-6151]],[[123421,-6449]],[[115425,-5950]],[[135995,-5991]],[[137981,-5843]],[[136117,-6043]],[[104825,-5610]],[[126594,-5398]],[[124972,-5568]],[[125589,-5395]],[[126137,-4660]],[[136777,-4347]],[[126201,-4211]],[[131649,-3671]],[[131355,-3762]],[[119219,-3547]],[[119095,-3960]],[[129906,-3161]],[[109452,-3077]],[[132869,-2934]],[[102836,-3259]],[[110805,-3069]],[[102609,-2806]],[[102240,-2399]],[[129081,-2510]],[[129049,-1832]],[[133482,-1731]],[[127969,-1746]],[[138726,-1630]],[[111568,-1658]],[[108591,-1709]],[[126564,-1745]],[[131229,-1700]],[[126170,-1199]],[[112344,-1209]],[[138205,-1142]],[[101544,-1820]],[[134146,-1347]],[[138633,-667]],[[130356,-799]],[[133762,-541]],[[124790,-416]],[[144357,-2672]],[[106982,-342]],[[130629,-326]],[[130304,-507]],[[106227,-356]],[[133953,-4]],[[100823,-543]],[[107294,-180]],[[105764,555]],[[105501,765]],[[105907,1074]],[[105643,892]],[[106522,1209]],[[107096,1246]],[[104886,1014]],[[99822,1501]],[[104952,1495]],[[127887,1020]],[[104150,2129]],[[130799,869]],[[99671,2126]],[[131537,2102]],[[98779,2417]],[[111501,2976]],[[108299,2932]],[[108837,3233]],[[120483,3360]],[[128674,3519]],[[120714,4287]],[[110916,3779]],[[120397,4271]],[[129861,4131]],[[98809,5355]]]},properties:{name:"Indonesia",childNum:107}},{geometry:{type:"Polygon",coordinates:["@@Z"],encodeOffsets:[[-4517,55486]]},properties:{name:"Isle of Man",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@@eUzKuWar`OyiBoqhMbn|_Pr^Y`[p^jQe\\AsW\\ZzGSFxA`jbSekpIYn~d|@IPKhfCdRjiF{ea]lv[wyI\\K@RE{Bp\\CXYpCmBf{IeW}[@BK]MsMiVM[[voyjmBGHPPtUE@RkSHDnbACHXxh^lNhIzDvg\\cAPEfQpOPbhCB~LvwEiGtCJfQb@O]bY`|`WN"]],encodeOffsets:[[[77130,33061]]]},properties:{name:"India",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@A"],encodeOffsets:[[74232,-7554]]},properties:{name:"Br. Indian Ocean Ter.",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@t"],["@@Z~s@_aRU|"]],encodeOffsets:[[[-10186,55208]],[[-6367,55387]]]},properties:{name:"Ireland",childNum:2}},{geometry:{type:"MultiPolygon",coordinates:[["@@IH}"],["@@|r@|dLThEigS[uTuvaY@bCCH|Y{Ewj}Y|QHwRQ]wcX{uamMcTqyM`|RsIZ@fOlNgfY@JOlVzBVD|bu"]],encodeOffsets:[[[57537,27568]],[[47222,39811]]]},properties:{name:"Iran",childNum:2}},{geometry:{type:"Polygon",coordinates:["@@PI@ZheyPe@YJqf{GyhTSGWgbMEOoCUAU{k"],encodeOffsets:[[46733,35404]]},properties:{name:"Iraq",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@pHDRNeGBe]Q"],encodeOffsets:[[-15916,67818]]},properties:{name:"Iceland",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@GkcNajlWqsPclMlkDNPO"],encodeOffsets:[[36647,33521]]},properties:{name:"Israel",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@E"],["@@"],["@@"],["@@b"],["@@rz"],["@@FgeqM}PmlYL@E\\EPvukoP_`]zBSAlKSTeyxMnv^LiWPvSAOeKPjN^WxOJ[p}]Eg[l"]],encodeOffsets:[[[15951,39138]],[[8683,40006]],[[8485,42025]],[[9864,41864]],[[10645,43887]],[[13744,47322]]]},properties:{name:"Italy",childNum:6}},{geometry:{type:"Polygon",coordinates:["@@"],encodeOffsets:[[-79115,18901]]},properties:{name:"Jamaica",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@`"],encodeOffsets:[[-2067,50413]]},properties:{name:"Jersey",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@YgcackanidHl"],encodeOffsets:[[40085,32896]]},properties:{name:"Jordan",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@"],["@@Q"],["@@S^"],["@@uH"],["@@NP"],["@@"],["@@Di"],["@@"],["@@"],["@@\\h"],["@@w"],["@@"],["@@"],["@@Q"],["@@@gxXxND\\|ke"],["@@"],["@@lz"],["@@{T\\l"],["@@"],["@@"],["@@b"],["@@q"],["@@PrS"],["@@sctit^uw{jGmwOD"],["@@"],["@@"],["@@"],["@@Hr"]],encodeOffsets:[[[126862,24863]],[[127277,25105]],[[128455,25337]],[[131337,27293]],[[132095,28387]],[[132560,28886]],[[133758,30990]],[[134103,31127]],[[133511,33202]],[[133205,33004]],[[131754,33571]],[[132175,33629]],[[132600,34021]],[[132911,34559]],[[134323,34410]],[[135441,34760]],[[132383,34943]],[[137583,35079]],[[137577,35312]],[[138172,35112]],[[132491,35179]],[[136572,37073]],[[141665,38730]],[[144619,42366]],[[142829,43091]],[[144687,46203]],[[144459,46421]],[[147277,45176]]]},properties:{name:"Japan",childNum:28}},{geometry:{type:"Polygon",coordinates:["@@ER^"],encodeOffsets:[[78898,35953]]},properties:{name:"Siachen Glacier",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@"],["@@CNvbUTRGyV`WcVBs`Lubdj@wb~MNrWW"]],encodeOffsets:[[[51389,45932]],[[89419,50264]]]},properties:{name:"Kazakhstan",childNum:2}},{geometry:{type:"Polygon",coordinates:["@@ikmN}[IDd`A^VPBYnOGjh"],encodeOffsets:[[36174,5494]]},properties:{name:"Kenya",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@\\[zlzkTIE~WZGsuXKa\\mnPi^twO}HAW_Y|Hpgjec_EUzHQSVWaeUcgasJ_icFDuG|cyiyHOyu[Xc}Yr","@@X`]@LgG|","@@neFAaSCR"],encodeOffsets:[[74384,40332],[72361,40812],[72916,40850]]},properties:{name:"Kyrgyzstan",childNum:3}},{geometry:{type:"Polygon",coordinates:["@@Ow]ft\\TFwlEys|\\`t`SW|{ui^rCSBP}]JFB"],encodeOffsets:[[106933,10662]]},properties:{name:"Cambodia",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@i"],["@@"]],encodeOffsets:[[[-161118,1901]],[[-163163,4018]]]},properties:{name:"Kiribati",childNum:2}},{geometry:{type:"MultiPolygon",coordinates:[["@@y"],["@@"],["@@"],["@@Uv"],["@@"],["@@IfW"],["@@]CkBrACir"]],encodeOffsets:[[[129359,34021]],[[129264,35196]],[[129201,35565]],[[131140,35642]],[[131831,35634]],[[129558,38643]],[[131456,39551]]]},properties:{name:"Korea",childNum:7}},{geometry:{type:"MultiPolygon",coordinates:[["@@Y"],["@@Siv"]],encodeOffsets:[[[49434,30336]],[[49606,29228]]]},properties:{name:"Kuwait",childNum:2}},{geometry:{type:"Polygon",coordinates:["@@DxdRsrcUJ`lgEAYOMEe{XsIAxpPZfUG}ogrjUJOATqD]jv{|s__{[txFmCxlltpY@pDeNM`olJ]EaugJygK`ehNfQQeMEpQJsXPNzBIhJw^kQZpu[FpNbPrGMnrRlIu"],encodeOffsets:[[104579,22917]]},properties:{name:"Lao PDR",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@Pz"],encodeOffsets:[[36730,34235]]},properties:{name:"Lebanon",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@WV|H"],encodeOffsets:[[-8690,7740]]},properties:{name:"Liberia",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@@@AM@~C@LPse`s"],encodeOffsets:[[25755,32415]]},properties:{name:"Libya",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@Z"],encodeOffsets:[[-62356,14154]]},properties:{name:"Saint Lucia",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@|"],["@@aY~Y"]],encodeOffsets:[[[81792,9268]],[[81902,10049]]]},properties:{name:"Sri Lanka",childNum:2}},{geometry:{type:"Polygon",coordinates:["@@klZ"],encodeOffsets:[[29335,-30849]]},properties:{name:"Lesotho",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@P"],["@@~mxkXukox~jdJwfpLHJDOOU_NCqW{qWY`iR]_wTMuyiTie"]],encodeOffsets:[[[21461,56606]],[[26187,55440]]]},properties:{name:"Lithuania",childNum:2}},{geometry:{type:"Polygon",coordinates:["@@[}QR}nyZ`Y|YjNEMzy"],encodeOffsets:[[6643,50994]]},properties:{name:"Luxembourg",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@MVUrIYCoTOl[PnT"],encodeOffsets:[[28824,57491]]},properties:{name:"Latvia",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@l_@FTOUcSZgFG]fFF\\qSNg]"],encodeOffsets:[[28890,46542]]},properties:{name:"Moldova",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@"],["@@kk"],["@@zOtKM\\"]],encodeOffsets:[[[51135,-17308]],[[49503,-13684]],[[50728,-12730]]]},properties:{name:"Madagascar",childNum:3}},{geometry:{type:"MultiPolygon",coordinates:[["@@A"],["@@"],["@@"],["@@z"],["@@"],["@@g"],["@@"],["@@"],["@@"],["@@t^Uxfi|F|ruLyBGDBt@y@SZC@@@Aqs]yzH^]OXx[FC^JFW"]],encodeOffsets:[[[-93884,19126]],[[-89026,20791]],[[-109058,22130]],[[-113220,25604]],[[-114746,25135]],[[-113766,26646]],[[-117934,28744]],[[-114895,29702]],[[-115871,29750]],[[-99477,26585]]]},properties:{name:"Mexico",childNum:10}},{geometry:{type:"Polygon",coordinates:["@@Ikwwe@xB@V"],encodeOffsets:[[22881,43330]]},properties:{name:"Macedonia",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@N_WV\\MWNEdD~tmoSKnoMafHApjWAl`oKyyyy{u@@B@j"],encodeOffsets:[[4330,19603]]},properties:{name:"Mali",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@"],encodeOffsets:[[14916,36714]]},properties:{name:"Malta",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@"],["@@"],["@@sz"],["@@"],["@@"],["@@C"],["@@K"],["@@Hm"],["@@o"],["@@"],["@@C"],["@@K"],["@@l"],["@@Z"],["@@i}]xIJgAyMRxV[fjU@ORqYUOBwbfpE|kjQcDejN_VpQ"]],encodeOffsets:[[[100539,10172]],[[100567,11216]],[[100920,12027]],[[100881,12191]],[[100420,12688]],[[100776,12901]],[[100675,13414]],[[97081,16199]],[[96745,16329]],[[99917,16644]],[[95940,19133]],[[95964,20028]],[[95736,20370]],[[95243,20403]],[[103567,22086]]]},properties:{name:"Myanmar",childNum:15}},{geometry:{type:"Polygon",coordinates:["@@Tmb|z^`CMNTV~p`S]TP|Cr"],encodeOffsets:[[19680,44493]]},properties:{name:"Montenegro",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@cki@p^ZNrqCvPkI~facltRiFruZQhRUDnXroUz~n_dSVNCCRIxVWH`@oeV|eMGY^HcTjy`nm\\V_EGeXup[sb_SKtC{JUrD_ItJaa}]GkCnYrt[TSX\\WC_[Bo{v`XW{cJfc"],encodeOffsets:[[114564,44729]]},properties:{name:"Mongolia",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@"],encodeOffsets:[[149250,15497]]},properties:{name:"N. Mariana Is.",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@MfzGZdlSU\\|uzgEZEHQkFhC`CvwukEeYzK"],encodeOffsets:[[32884,-27483]]},properties:{name:"Mozambique",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@}"],["@@LSkBoiqm@e_DBB@@@QOQShxN@@@@@@@@@@@@@@A@@@A@@zz"]],encodeOffsets:[[[-16766,20180]],[[-5488,16674]]]},properties:{name:"Mauritania",childNum:2}},{geometry:{type:"Polygon",coordinates:["@@~"],encodeOffsets:[[-63640,17143]]},properties:{name:"Montserrat",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@"],encodeOffsets:[[59035,-20976]]},properties:{name:"Mauritius",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@FYYF{V[TckYHP\\_Qt\\en"],encodeOffsets:[[35799,-11856]]},properties:{name:"Malawi",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@nn"],["@@"],["@@a"],["@@W"],["@@"],["@@prTIJE"],["@@mQcOD{["],["@@aF"]],encodeOffsets:[[[114063,2474]],[[106723,2798]],[[120714,4287]],[[102696,5422]],[[102245,6621]],[[104552,6393]],[[120397,4271]],[[119954,7341]]]},properties:{name:"Malaysia",childNum:8}},{geometry:{type:"Polygon",coordinates:["@@y|JF@@VmRnEPMfS"],encodeOffsets:[[23942,-18064]]},properties:{name:"Namibia",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@_@"],["@@]esn"],["@@Y"],["@@x"]],encodeOffsets:[[[171566,-23166]],[[172044,-21944]],[[171419,-21668]],[[168144,-20731]]]},properties:{name:"New Caledonia",childNum:4}},{geometry:{type:"Polygon",coordinates:["@@gEUV^J[mqpDM`M"],encodeOffsets:[[15339,23549]]},properties:{name:"Niger",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@o"],["@@]UVFtgGq{hA^ilcogosPrCw|dlkkUK`xdlBRkFcrn\\"]],encodeOffsets:[[[7476,4525]],[[6968,13423]]]},properties:{name:"Nigeria",childNum:2}},{geometry:{type:"Polygon",coordinates:["@@Z`\\JfzOXtbXg^ZPhNLdEw_wq"],encodeOffsets:[[-85649,11180]]},properties:{name:"Nicaragua",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@V"],encodeOffsets:[[-173878,-19541]]},properties:{name:"Niue",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@"],["@@R"],["@@~"],["@@@"],["@@\\hr"],["@@L"]],encodeOffsets:[[[-69842,12437]],[[4328,52620]],[[4044,52982]],[[5004,54345]],[[4328,52620]],[[5454,54668]]]},properties:{name:"Netherlands",childNum:6,cp:[5.0752777,52.358465]}},{geometry:{type:"MultiPolygon",coordinates:[["@@H"],["@@C"],["@@|"],["@@hl"],["@@J"],["@@"],["@@"],["@@^"],["@@"],["@@Ah"],["@@{"],["@@Yz`M"],["@@i\\"],["@@"],["@@"],["@@I"],["@@u"],["@@QR@I_aPDDOOhjqkqsTSU"],["@@"],["@@A"],["@@H"],["@@e"],["@@"],["@@M"],["@@bmbOJ"],["@@U"],["@@[Xu"]],encodeOffsets:[[[5208,61755]],[[5078,62551]],[[8298,64858]],[[8675,65196]],[[11501,66423]],[[13284,69504]],[[14206,69904]],[[15573,70598]],[[16139,70207]],[[17924,71267]],[[30676,71472]],[[21278,71772]],[[19718,71749]],[[20242,71902]],[[24183,72243]],[[24595,72261]],[[24004,72516]],[[31611,71459]],[[26201,72850]],[[-9168,72540]],[[19681,76177]],[[22127,80482]],[[11521,80498]],[[29745,80806]],[[17190,81825]],[[33307,82042]],[[21400,82176]]]},properties:{name:"Norway",childNum:27}},{geometry:{type:"Polygon",coordinates:["@@RJyYmVtB[fRi]m\\_Z]qO`m{aNgrpCzjPquvMMUBioaDcr^dOzqaM_"],encodeOffsets:[[90096,27786]]},properties:{name:"Nepal",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@C"],["@@li"],["@@cJ"],["@@"],["@@uozo"],["@@"],["@@s\\jOmB`GIWRfSe``Aqy"],["@@"],["@@tWJM_DQ]Fv"]],encodeOffsets:[[[173239,-53757]],[[170211,-51979]],[[172181,-47986]],[[170987,-46264]],[[-180405,-44790]],[[178089,-41844]],[[177271,-42269]],[[179757,-37149]],[[177428,-35773]]]},properties:{name:"New Zealand",childNum:9}},{geometry:{type:"MultiPolygon",coordinates:[["@@O@"],["@@mdSh\\x"],["@@n`"]],encodeOffsets:[[[60132,20704]],[[57742,25579]],[[57650,26267]]]},properties:{name:"Oman",childNum:3}},{geometry:{type:"Polygon",coordinates:["@@MeD_d[iJ_{_Za`N@aReIiIHjHvuKA}DgaOPoReNDMBd[huCkMg_WuGFamGqjbzrSNdbnv|WdxR^QGx{RZ~i^y@"],encodeOffsets:[[74844,37750]]},properties:{name:"Pakistan",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@|"],["@@r]"],["@@~UwBV[bUH@^jX|~`lcn"]],encodeOffsets:[[[-83561,7509]],[[-80791,8473]],[[-79231,8867]]]},properties:{name:"Panama",childNum:3}},{geometry:{type:"Polygon",coordinates:["@@Lo{iij{s]{WgRIH^|^tymM~OFbEkF]XkV@@AmeqvibJETC^}RZ^{Alj^MfZwSLgltwM\\lhhYeEhJ}KuK]ucR]wyu"],encodeOffsets:[[-74892,-6621]]},properties:{name:"Peru",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@"],["@@"],["@@Y"],["@@bg"],["@@rfF"],["@@oK"],["@@UW"],["@@"],["@@oXESfWw"],["@@"],["@@rrd"],["@@p"],["@@}"],["@@A"],["@@IW"],["@@`"],["@@Bj"],["@@u"],["@@"],["@@|[L"],["@@Ml"],["@@g"],["@@YF"],["@@G"],["@@"],["@@"],["@@J"],["@@"],["@@H"],["@@"],["@@d"],["@@"],["@@"],["@@"],["@@yXnSk~ifJ{U"],["@@m"],["@@TL"]],encodeOffsets:[[[123137,5383]],[[124068,6222]],[[125024,6583]],[[125888,7587]],[[119890,8073]],[[120172,8412]],[[127803,9363]],[[126667,9460]],[[129031,9545]],[[129085,10001]],[[127585,10023]],[[128707,10153]],[[122795,10738]],[[125594,10725]],[[126087,9282]],[[126332,9677]],[[126728,11555]],[[120127,8643]],[[122739,11802]],[[127565,11616]],[[127600,11769]],[[125437,11894]],[[122920,11985]],[[122983,12460]],[[125599,12605]],[[128246,12829]],[[126686,12583]],[[125025,12652]],[[126746,12753]],[[126241,13162]],[[123602,13803]],[[124841,13866]],[[127339,13960]],[[124963,15366]],[[124008,19063]],[[124848,19349]],[[124438,19827]]]},properties:{name:"Philippines",childNum:37}},{geometry:{type:"Polygon",coordinates:["@@"],encodeOffsets:[[137826,7560]]},properties:{name:"Palau",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@"],["@@["],["@@]"],["@@"],["@@\\"],["@@t"],["@@^"],["@@dU"],["@@oJ"],["@@\\{"],["@@}"],["@@"],["@@"],["@@p"],["@@Zw"],["@@q"],["@@AC@ikhzyrU"],["@@"],["@@BP"],["@@u\\"],["@@"]],encodeOffsets:[[[157221,-11751]],[[157984,-11634]],[[154521,-10818]],[[154707,-10260]],[[154142,-9570]],[[153954,-9721]],[[156295,-9174]],[[154734,-8943]],[[147033,-8685]],[[151579,-5966]],[[159701,-6847]],[[150709,-5562]],[[158359,-5563]],[[149524,-4839]],[[155562,-4399]],[[156335,-3208]],[[144360,-9337]],[[156637,-4870]],[[154048,-2725]],[[150598,-2007]],[[153360,-1590]]]},properties:{name:"Papua New Guinea",childNum:21}},{geometry:{type:"Polygon",coordinates:["@@XXuQRNpdUqEJZy{z]jzzg`VDdDsSNKoexIc"],encodeOffsets:[[24049,55235]]},properties:{name:"Poland",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@Gw"],["@@Pj"]],encodeOffsets:[[[-66995,18541]],[[-67716,18888]]]},properties:{name:"Puerto Rico",childNum:2}},{geometry:{type:"Polygon",coordinates:["@@qL"],encodeOffsets:[[133660,43557]]},properties:{name:"Dem. Rep. Korea",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@"],["@@GQA"],["@@G"],["@@"],["@@p"],["@@Yl"],["@@mliN"]],encodeOffsets:[[[-17603,33658]],[[-26264,38750]],[[-28822,39376]],[[-29328,39450]],[[-27725,39571]],[[-31884,40353]],[[-7583,38072]]]},properties:{name:"Portugal",childNum:7,cp:[-8.7440694,39.9251454]}},{geometry:{type:"Polygon",coordinates:["@@l\\{ppY__@wNj`@x[YhpIaqFCHpB|sxBVj"],encodeOffsets:[[-59555,-20648]]},properties:{name:"Paraguay",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@]~D_"],["@@lkkNOdki`Kj"]],encodeOffsets:[[[35173,32044]],[[35718,32121]]]},properties:{name:"Palestine",childNum:2}},{geometry:{type:"MultiPolygon",coordinates:[["@@IE"],["@@B"],["@@"],["@@I"],["@@emG]"]],encodeOffsets:[[[-152905,-18114]],[[-146883,-17018]],[[-142360,-9927]],[[-143437,-9652]],[[-143434,-9124]]]},properties:{name:"Fr. Polynesia",childNum:5}},{geometry:{type:"Polygon",coordinates:["@@ik@RlX"],encodeOffsets:[[52499,25198]]},properties:{name:"Qatar",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@Mib~aVlM^Y}gCvPHNZjlg]R[SeUeErELltzv~"],encodeOffsets:[[28890,46542]]},properties:{name:"Romania",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@b"],["@@}"],["@@[jt"],["@@"],["@@"],["@@c]"],["@@q"],["@@e"],["@@a"],["@@~"],["@@"],["@@IGFO"],["@@Idy"],["@@"],["@@"],["@@"],["@@"],["@@{hu_wuAOel@@@@@@@@@@@@@@@B"],["@@b"],["@@"],["@@"],["@@UIv"],["@@"],["@@@"],["@@"],["@@@"],["@@t"],["@@"],["@@d"],["@@"],["@@WD"],["@@"],["@@~"],["@@h"],["@@Ly"],["@@V"],["@@D"],["@@N"],["@@x"],["@@i"],["@@@kniT"],["@@U"],["@@K"],["@@W"],["@@ZUSq"],["@@O"],["@@"],["@@CRKB]}uDsLT`at\\oGvWfHF`U[_vn\\ziSdG|]ZHNfWo{UdpJI_GXUwJ[MDMUcTc`m}yVqpWgmCFRXXqMN}ax@icaG|kpKfviSt\\kyJnknVYQhWGIxFs\\yIIrnqxPi}xp|V]bP`IfXW~tE^}pOn\\t@gGzVpLQRYselSmOU|\\kPSpw`HiETRYQi[]PffsExnbezadDhHHQikFM^EWsTF|}m_ZquvmTwcC]{@LIEmlXlthUvUIId]ZPJ~"],["@@Q"],["@@H"],["@@O"],["@@"],["@@"],["@@|"],["@@m}"],["@@"],["@@`T"],["@@z"],["@@q"],["@@F"],["@@"],["@@d"],["@@Y"],["@@U"],["@@"],["@@"],["@@"],["@@"],["@@{"],["@@UT"],["@@f"],["@@P"],["@@v"]],encodeOffsets:[[[150236,44794]],[[149717,45566]],[[152166,46406]],[[153281,46738]],[[155651,48023]],[[158526,50496]],[[159664,51510]],[[160159,51874]],[[146188,55700]],[[140471,56423]],[[141252,56415]],[[21746,56591]],[[170650,56156]],[[154205,60436]],[[167563,60010]],[[36676,66747]],[[71702,68099]],[[-184113,70595]],[[51472,70847]],[[165343,70555]],[[173262,71251]],[[61902,71614]],[[54174,73078]],[[183155,72527]],[[141271,73224]],[[-183169,73295]],[[79496,74027]],[[81410,74468]],[[76453,74623]],[[123148,74844]],[[56648,75068]],[[72371,74850]],[[145598,75670]],[[85555,75850]],[[144395,75776]],[[116109,76187]],[[88733,76781]],[[84145,77230]],[[150319,77180]],[[139212,77220]],[[143410,77649]],[[98850,78109]],[[115178,78460]],[[152730,78500]],[[69392,78068]],[[98597,78876]],[[91663,79042]],[[133824,43318]],[[110281,80007]],[[105354,81157]],[[78079,81563]],[[94908,81598]],[[52644,81863]],[[61122,81875]],[[100019,82083]],[[51254,81997]],[[58449,82280]],[[54806,82110]],[[59348,82047]],[[55722,82405]],[[48581,82795]],[[63660,82775]],[[51485,82870]],[[81948,82789]],[[62609,82894]],[[56033,83063]],[[60030,82987]],[[64895,82637]],[[93765,83089]],[[98844,83022]],[[59198,83504]],[[65179,83568]],[[59695,83677]]]},properties:{name:"Russia",childNum:73}},{geometry:{type:"Polygon",coordinates:["@@aM{kuPSoE]cXEA"],encodeOffsets:[[31243,-1092]]},properties:{name:"Rwanda",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@"],["@@TW`VkQ@ljNpNulbbdhdZ"]],encodeOffsets:[[[42996,17117]],[[47649,29795]]]},properties:{name:"Saudi Arabia",childNum:2}},{geometry:{type:"Polygon",coordinates:["@@ASsWwWumi[I_hC[gFtlpL^EFXpUdDfR@NB@APB"],encodeOffsets:[[37757,22525]]},properties:{name:"Sudan",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@IM@tvhWEF]K"],encodeOffsets:[[34896,9689]]},properties:{name:"S. Sudan",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@BkBBHh]gbSgFjBnr"],encodeOffsets:[[-12575,15165]]},properties:{name:"Senegal",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@K"],encodeOffsets:[[106465,1364]]},properties:{name:"Singapore",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@VZ"],encodeOffsets:[[-37993,-55363]]},properties:{name:"S. Geo. and S. Sandw. Is.",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@M`"],encodeOffsets:[[-5828,-16381]]},properties:{name:"Saint Helena",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@a"],["@@"],["@@V"],["@@N"],["@@X\\"],["@@"],["@@"],["@@y|F"],["@@T"],["@@"],["@@}"],["@@]"],["@@"],["@@"],["@@P"],["@@"]],encodeOffsets:[[[164431,-12081]],[[170121,-11015]],[[165597,-10636]],[[165425,-9856]],[[163585,-9495]],[[164013,-9211]],[[163010,-9342]],[[161903,-8892]],[[161167,-8922]],[[164608,-8513]],[[161550,-8439]],[[160944,-8302]],[[160449,-8113]],[[163717,-8739]],[[159580,-7267]],[[161267,-7506]]]},properties:{name:"Solomon Is.",childNum:16}},{geometry:{type:"MultiPolygon",coordinates:[["@@["],["@@IyFwh[mt[RUG^UE{LKqjmHer"]],encodeOffsets:[[[-12826,7615]],[[-11016,9611]]]},properties:{name:"Sierra Leone",childNum:2}},{geometry:{type:"Polygon",coordinates:["@@P]N^Er`Ibyut"],encodeOffsets:[[-91507,14762]]},properties:{name:"El Salvador",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@eh"],encodeOffsets:[[-57617,47963]]},properties:{name:"St. Pierre and Miquelon",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@"],["@@R"]],encodeOffsets:[[[6820,124]],[[7602,1606]]]},properties:{name:"So Tom and Principe",childNum:2}},{geometry:{type:"Polygon",coordinates:["@@t_cOAMWQBqRUuGQPUmusyoQmKOb|WFu"],encodeOffsets:[[-55331,3717]]},properties:{name:"Suriname",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@]WsccoMQ"],encodeOffsets:[[23080,50251]]},properties:{name:"Slovakia",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@rVaJoPZuTkmLiyqYKkZOnN~frEhk\\jK"],encodeOffsets:[[16913,47616]]},properties:{name:"Slovenia",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@e"],["@@"],["@@e"],["@@Lc@w^uXtezb`"]],encodeOffsets:[[[16926,57642]],[[19535,59224]],[[19617,59313]],[[24736,67385]]]},properties:{name:"Sweden",childNum:4}},{geometry:{type:"Polygon",coordinates:["@@eNz}MwkZG^NYlRZGvX"],encodeOffsets:[[32715,-26580]]},properties:{name:"Swaziland",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@D"],encodeOffsets:[[56874,-4805]]},properties:{name:"Seychelles",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@yMvDzJ|R~rSSD]BlR_jI"],encodeOffsets:[[43376,38e3]]},properties:{name:"Syria",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@F"],encodeOffsets:[[-74068,22376]]},properties:{name:"Turks and Caicos Is.",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@QeCcVbxBh"],encodeOffsets:[[24556,19965]]},properties:{name:"Chad",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@rI"],encodeOffsets:[[923,11258]]},properties:{name:"Togo",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@tu"],["@@mv"],["@@Oq"],["@@OtWIToFNfRReMg_hLhbvF^Ikp_NMfCo@Zoskk[Sse\\rpTwJFrbu\\UwQ"]],encodeOffsets:[[[100771,8092]],[[102473,9817]],[[104886,12277]],[[102526,20805]]]},properties:{name:"Thailand",childNum:4}},{geometry:{type:"MultiPolygon",coordinates:[["@@Mh^@_W"],["@@F}lyk\\yWCqZ~dWJ{_TrEPulb[X`tQ}pAsIb]Gn_k~]QRuK}Ua[]YTS]ooRn`~"]],encodeOffsets:[[[72361,40812]],[[72662,41205]]]},properties:{name:"Tajikistan",childNum:2}},{geometry:{type:"Polygon",coordinates:["@@GIQSSKc{^Kfot\\L]AX"],encodeOffsets:[[68119,38245]]},properties:{name:"Turkmenistan",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@"],["@@pU]"],["@@"]],encodeOffsets:[[[127014,-9565]],[[128070,-9740]],[[128662,-8335]]]},properties:{name:"Timor-Leste",childNum:3}},{geometry:{type:"MultiPolygon",coordinates:[["@@"],["@@A^"]],encodeOffsets:[[[-179365,-21677]],[[-178128,-19086]]]},properties:{name:"Tonga",childNum:2}},{geometry:{type:"Polygon",coordinates:["@@ll"],encodeOffsets:[[-62476,10378]]},properties:{name:"Trinidad and Tobago",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@bp"],["@@n"],["@@iqOTCuOKD}"]],encodeOffsets:[[[11221,34532]],[[11549,35588]],[[10522,32446]]]},properties:{name:"Tunisia",childNum:3}},{geometry:{type:"MultiPolygon",coordinates:[["@@@"],["@@Nva{pPFJNahXHSgiL^QkA^CHRET}qQyuCNR~WRowj}QpXbPNM]sng}mXy"],["@@n_At~dvdb["]],encodeOffsets:[[[26594,41100]],[[44476,42144]],[[28135,42954]]]},properties:{name:"Turkey",childNum:3}},{geometry:{type:"MultiPolygon",coordinates:[["@@"],["@@"],["@@vl"],["@@CsZ_DgfRGmqhjMIuVVYeDAKj}PdrmfQdzhvFpTOvlWK|NbTHXZ^GlG@@"]],encodeOffsets:[[[40665,-8168]],[[40445,-6322]],[[40822,-5023]],[[34717,-1026]]]},properties:{name:"Tanzania",childNum:4}},{geometry:{type:"Polygon",coordinates:["@@BFWRgkHPmZA@@iF]JYeNSG"],encodeOffsets:[[31243,-1092]]},properties:{name:"Uganda",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@"],["@@av^aj]ol^h^mTr[EE^eHhETdVPqSE@`k}skKFrCV^RHG[xLaNQqT}gcKlTxvDiSyHFMJz["]],encodeOffsets:[[[32781,47313]],[[39132,48222]]]},properties:{name:"Ukraine",childNum:2}},{geometry:{type:"Polygon",coordinates:["@@Jmxfg\\TrNs{g@qHYjGyljrc"],encodeOffsets:[[-59198,-31599]]},properties:{name:"Uruguay",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@W"],["@@_O"],["@@h"],["@@"],["@@X"],["@@mGi"],["@@M"],["@@"],["@@`"],["@@b"],["@@"],["@@U"],["@@k"],["@@J"],["@@Zz"],["@@"],["@@e"],["@@u"],["@@"],["@@l"],["@@c"],["@@mS"],["@@"],["@@p"],["@@"],["@@X@tNH@NE@|JFgJGJ{Y|h^dOBtRmYJN|`CPZ[]sLnOXMFJsv@NWx|Q]A`XEIl[RzwlOfyab@@@@@@@@@@@@@ANM"],["@@"],["@@n"],["@@_"],["@@"],["@@"],["@@j"],["@@Z"],["@@B"],["@@Y"],["@@"],["@@"],["@@P"],["@@"],["@@a}{"],["@@V"],["@@"],["@@"],["@@~"],["@@Tv"],["@@^"],["@@C"],["@@[H"],["@@"],["@@"],["@@Rz"],["@@f"],["@@gT_"],["@@"],["@@i["],["@@"],["@@"],["@@"],["@@"],["@@K"],["@@y"],["@@U"],["@@D"],["@@_v"],["@@c|"],["@@ze"],["@@"],["@@"],["@@W"],["@@s"],["@@VB"],["@@"],["@@"],["@@|"],["@@"],["@@@@@@@@@@VH@YDj^k[Wq_B`@CwTGl~g~Ww^kmjsLfT_pMqY[BEx@E@"]],encodeOffsets:[[[-159315,19469]],[[-160613,21272]],[[-160242,21435]],[[-160986,21725]],[[-161586,21972]],[[-163197,22459]],[[-82989,25311]],[[-82311,25746]],[[-99502,26788]],[[-82111,27934]],[[-93996,30209]],[[-86945,30355]],[[-91365,30807]],[[-121188,34187]],[[-122924,34733]],[[-122759,34898]],[[-77357,36086]],[[-75912,40634]],[[-74250,41970]],[[-71657,42256]],[[-72202,42370]],[[-72951,42488]],[[-69823,45397]],[[-125331,48533]],[[-125514,49313]],[[-97078,50179]],[[-180517,53036]],[[-182148,52890]],[[-181399,52958]],[[-180831,53112]],[[184042,53152]],[[181674,53128]],[[-177718,53388]],[[-176603,53527]],[[-178869,53284]],[[177893,53617]],[[176960,54286]],[[-171995,54626]],[[-170614,55195]],[[-169821,55369]],[[-169534,55436]],[[-166193,56164]],[[-167399,56301]],[[-163343,56476]],[[-134491,56402]],[[-163709,56452]],[[-136050,56212]],[[-164177,56666]],[[-164541,56643]],[[-136504,56877]],[[-159299,57161]],[[-134122,56821]],[[-136771,57692]],[[-135966,57598]],[[-135283,57456]],[[-157909,57872]],[[-173829,57995]],[[-135932,57883]],[[-137205,58210]],[[-136567,58372]],[[-156679,58496]],[[-138209,58728]],[[-156567,59212]],[[-138987,59643]],[[-137912,59558]],[[-156074,59761]],[[-156145,59889]],[[-164781,59983]],[[-151574,61507]],[[-151281,61249]],[[-170122,61833]],[[-149907,61901]],[[-151202,61902]],[[-176888,61909]],[[-175578,65168]],[[-144386,70425]]]},properties:{name:"United States",childNum:76}},{geometry:{type:"MultiPolygon",coordinates:[["@@QDTBbfEm"],["@@dfhiGo@{`ZZts]jOmn[bLvW|YX_}_MxxIQtoWB^K[AUdX"]],encodeOffsets:[[[72916,40850]],[[72650,43263]]]},properties:{name:"Uzbekistan",childNum:2}},{geometry:{type:"Polygon",coordinates:["@@"],encodeOffsets:[[-62642,13474]]},properties:{name:"St. Vin. and Gren.",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@"],["@@"],["@@"],["@@|Swe]\\Ee@~OetWz]CG}Ercs}uWnC]h_H}n~Ap^"]],encodeOffsets:[[[-62461,9081]],[[-62280,9358]],[[-65381,11399]],[[-62199,5327]]]},properties:{name:"Venezuela",childNum:4}},{geometry:{type:"Polygon",coordinates:["@@"],encodeOffsets:[[-66320,18222]]},properties:{name:"U.S. Virgin Is.",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@j"],["@@m}"],["@@"],["@@ngxRjrOi`FTvAEI^~IViqhp~HeVYOowDHtWfzFNP\\BFkh_IVqbt{cQwC"]],encodeOffsets:[[[106562,10641]],[[110102,21429]],[[110186,21727]],[[110564,22025]]]},properties:{name:"Vietnam",childNum:4}},{geometry:{type:"MultiPolygon",coordinates:[["@@~"],["@@|Z"],["@@T"],["@@s"],["@@"],["@@"],["@@_"],["@@"],["@@g"],["@@P"]],encodeOffsets:[[[173560,-20009]],[[173399,-19394]],[[172489,-17963]],[[172490,-17181]],[[172336,-16728]],[[171431,-16482]],[[171942,-15806]],[[170748,-15182]],[[171607,-14603]],[[171509,-14240]]]},properties:{name:"Vanuatu",childNum:10}},{geometry:{type:"MultiPolygon",coordinates:[["@@m"],["@@Z"]],encodeOffsets:[[[-175569,-14383]],[[-176469,-13788]]]},properties:{name:"Samoa",childNum:2}},{geometry:{type:"MultiPolygon",coordinates:[["@@v"],["@@"],["@@t"],["@@CBvM"]],encodeOffsets:[[[55054,12941]],[[43783,14034]],[[43815,14307]],[[54360,17048]]]},properties:{name:"Yemen",childNum:4}},{geometry:{type:"MultiPolygon",coordinates:[["@@"],["@@HM]HYlx~NyLyVDnI[un@@PEsM[hZBU","@@lYk"]],encodeOffsets:[[[38766,-48070]],[[32563,-24465],[27847,-30659]]]},properties:{name:"South Africa",childNum:2}},{geometry:{type:"Polygon",coordinates:["@@[uR`[MOA@@@@@ZHpcX{jmzJlFlf"],encodeOffsets:[[33944,-9834]]},properties:{name:"Zambia",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@T}YAaTr`y"],encodeOffsets:[[32039,-22939]]},properties:{name:"Zimbabwe",childNum:1}},{geometry:{type:"Polygon",coordinates:["@@NxH\\`f[~}Ycfn~eBvRXasmQ}jDu`N{"],encodeOffsets:[[75785,34052]]},properties:{name:"",childNum:1}},{geometry:{type:"MultiPolygon",coordinates:[["@@f@Im\\c`C|O_xCiP~tn~d_nraw"]],encodeOffsets:[[[80376,33312]]]},properties:{name:"",childNum:1}}],UTF8Encoding:!0}):n("ECharts Map is not loaded"):n("ECharts is not Loaded")}(0,"string"!=typeof e.nodeName?OB:t.echarts)}({});const f7=["theme","initOptions","autoResize"],p7=["manualUpdate","watchShallow"],g7={name:"ECharts",props:{options:Object,theme:[String,Object],initOptions:Object,group:String,autoResize:Boolean,watchShallow:Boolean,manualUpdate:Boolean},setup:e=>((e,o)=>{for(var a in o||(o={}))n.call(o,a)&&r(e,a,o[a]);if(t)for(var a of t(o))i.call(o,a)&&r(e,a,o[a]);return e})({},o(e)),data:()=>({lastArea:0}),watch:{group(e){this.chart.group=e}},created(){this.initOptionsWatcher(),f7.forEach((e=>{this.$watch(e,(()=>{this.refresh()}),{deep:!0})})),p7.forEach((e=>{this.$watch(e,(()=>{this.initOptionsWatcher(),this.refresh()}))}))},mounted(){this.options&&this.init()},activated(){this.autoResize&&this.chart&&this.chart.resize()},destroyed(){this.chart&&this.destroy()},methods:{mergeOptions(e,t,n){this.manualUpdate&&(this.manualOptions=e),this.chart?this.delegateMethod("setOption",e,t,n):this.init(e)},appendData(e){this.delegateMethod("appendData",e)},resize(e){this.delegateMethod("resize",e)},dispatchAction(e){this.delegateMethod("dispatchAction",e)},convertToPixel(e,t){return this.delegateMethod("convertToPixel",e,t)},convertFromPixel(e,t){return this.delegateMethod("convertFromPixel",e,t)},containPixel(e,t){return this.delegateMethod("containPixel",e,t)},showLoading(e,t){this.delegateMethod("showLoading",e,t)},hideLoading(){this.delegateMethod("hideLoading")},getDataURL(e){return this.delegateMethod("getDataURL",e)},getConnectedDataURL(e){return this.delegateMethod("getConnectedDataURL",e)},clear(){this.delegateMethod("clear")},dispose(){this.delegateMethod("dispose")},delegateMethod(e,...t){return this.chart||this.init(),this.chart[e](...t)},delegateGet(e){return this.chart||this.init(),this.chart[e]()},getArea(){return this.$el.offsetWidth*this.$el.offsetHeight},pieConsole(e){this.$emit("input",e)},finished(){this.$emit("echartFinished",!0)},init(e){if(this.chart)return;new Promise(((t,n)=>{const i=c.init(this.$el,this.theme,this.initOptions);i.on("click",this.pieConsole),this.group&&(i.group=this.group),i.setOption(e||this.manualOptions||this.options||{},!0),this.autoResize&&(this.lastArea=this.getArea(),this.__resizeHandler=hS.debounce((()=>{0===this.lastArea?(this.mergeOptions({},!0),this.resize(),this.mergeOptions(this.options||this.manualOptions||{},!0)):this.resize(),this.lastArea=this.getArea()}),100,{leading:!0}),_S(this.$el,this.__resizeHandler)),Object.defineProperties(this,{width:{configurable:!0,get(){return this.delegateGet("getWidth")}},height:{configurable:!0,get(){return this.delegateGet("getHeight")}},isDisposed:{configurable:!0,get(){return!!this.delegateGet("isDisposed")}},computedOptions:{configurable:!0,get(){return this.delegateGet("getOption")}}}),this.chart=i,i.on("finished",(()=>{t()}))})).then((()=>{this.finished()}))},initOptionsWatcher(){this.__unwatchOptions&&(this.__unwatchOptions(),this.__unwatchOptions=null),this.manualUpdate||(this.__unwatchOptions=this.$watch("options",((e,t)=>{!this.chart&&e?this.init():this.chart.setOption(e,e!==t)}),{deep:!this.watchShallow}))},destroy(){this.autoResize&&function(e,t){let n=e.__resize_listeners__;if(n){if(t&&n.splice(n.indexOf(t),1),!n.length||!t){if(e.detachEvent&&e.removeEventListener)return e.detachEvent("onresize",e.__resize_legacy_resize_handler__),void document.removeEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);e.__resize_observer__?(e.__resize_observer__.unobserve(e),e.__resize_observer__.disconnect(),e.__resize_observer__=null):(e.__resize_mutation_observer__&&(e.__resize_mutation_observer__.disconnect(),e.__resize_mutation_observer__=null),e.removeEventListener("scroll",bS),e.removeChild(e.__resize_triggers__.triggers),e.__resize_triggers__=null),e.__resize_listeners__=null}!--vS&&yS&&yS.parentNode.removeChild(yS)}}(this.$el,this.__resizeHandler),this.dispose(),this.chart=null},refresh(){this.chart&&(this.destroy(),this.init())}},connect(e){"string"!=typeof e&&(e=e.map((e=>e.chart))),c.connect(e)},disconnect(e){c.disConnect(e)},getMap:e=>c.getMap(e),registerMap(e,t,n){c.registerMap(e,t,n)},registerTheme(e,t){c.registerTheme(e,t)},graphic:c.graphic};g7.render=function(e,t,n,i,r,o){return a(),s("div",l({class:"echarts"},e.$attrs),null,16)};export{g7 as _};
